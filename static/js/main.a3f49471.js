/*! For license information please see main.a3f49471.js.LICENSE.txt */
(()=>{var e={4:(e,t,n)=>{"use strict";var r=n(853),i=n(43),a=n(950);function s(e){var t="https://react.dev/errors/"+e;if(1<arguments.length){t+="?args[]="+encodeURIComponent(arguments[1]);for(var n=2;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n])}return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType)}var l=Symbol.for("react.element"),c=Symbol.for("react.transitional.element"),u=Symbol.for("react.portal"),d=Symbol.for("react.fragment"),h=Symbol.for("react.strict_mode"),f=Symbol.for("react.profiler"),p=Symbol.for("react.provider"),m=Symbol.for("react.consumer"),g=Symbol.for("react.context"),y=Symbol.for("react.forward_ref"),v=Symbol.for("react.suspense"),b=Symbol.for("react.suspense_list"),w=Symbol.for("react.memo"),x=Symbol.for("react.lazy");Symbol.for("react.scope"),Symbol.for("react.debug_trace_mode");var S=Symbol.for("react.offscreen");Symbol.for("react.legacy_hidden"),Symbol.for("react.tracing_marker");var E=Symbol.for("react.memo_cache_sentinel"),k=Symbol.iterator;function _(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=k&&e[k]||e["@@iterator"])?e:null}var C=Symbol.for("react.client.reference");function T(e){if(null==e)return null;if("function"===typeof e)return e.$$typeof===C?null:e.displayName||e.name||null;if("string"===typeof e)return e;switch(e){case d:return"Fragment";case u:return"Portal";case f:return"Profiler";case h:return"StrictMode";case v:return"Suspense";case b:return"SuspenseList"}if("object"===typeof e)switch(e.$$typeof){case g:return(e.displayName||"Context")+".Provider";case m:return(e._context.displayName||"Context")+".Consumer";case y:var t=e.render;return(e=e.displayName)||(e=""!==(e=t.displayName||t.name||"")?"ForwardRef("+e+")":"ForwardRef"),e;case w:return null!==(t=e.displayName||null)?t:T(e.type)||"Memo";case x:t=e._payload,e=e._init;try{return T(e(t))}catch(n){}}return null}var I,A,P=i.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,N=Object.assign;function R(e){if(void 0===I)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);I=t&&t[1]||"",A=-1<n.stack.indexOf("\n    at")?" (<anonymous>)":-1<n.stack.indexOf("@")?"@unknown:0:0":""}return"\n"+I+e+A}var O=!1;function D(e,t){if(!e||O)return"";O=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var r={DetermineComponentFrameRoot:function(){try{if(t){var n=function(){throw Error()};if(Object.defineProperty(n.prototype,"props",{set:function(){throw Error()}}),"object"===typeof Reflect&&Reflect.construct){try{Reflect.construct(n,[])}catch(i){var r=i}Reflect.construct(e,[],n)}else{try{n.call()}catch(a){r=a}e.call(n.prototype)}}else{try{throw Error()}catch(s){r=s}(n=e())&&"function"===typeof n.catch&&n.catch((function(){}))}}catch(o){if(o&&r&&"string"===typeof o.stack)return[o.stack,r.stack]}return[null,null]}};r.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var i=Object.getOwnPropertyDescriptor(r.DetermineComponentFrameRoot,"name");i&&i.configurable&&Object.defineProperty(r.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var a=r.DetermineComponentFrameRoot(),s=a[0],o=a[1];if(s&&o){var l=s.split("\n"),c=o.split("\n");for(i=r=0;r<l.length&&!l[r].includes("DetermineComponentFrameRoot");)r++;for(;i<c.length&&!c[i].includes("DetermineComponentFrameRoot");)i++;if(r===l.length||i===c.length)for(r=l.length-1,i=c.length-1;1<=r&&0<=i&&l[r]!==c[i];)i--;for(;1<=r&&0<=i;r--,i--)if(l[r]!==c[i]){if(1!==r||1!==i)do{if(r--,0>--i||l[r]!==c[i]){var u="\n"+l[r].replace(" at new "," at ");return e.displayName&&u.includes("<anonymous>")&&(u=u.replace("<anonymous>",e.displayName)),u}}while(1<=r&&0<=i);break}}}finally{O=!1,Error.prepareStackTrace=n}return(n=e?e.displayName||e.name:"")?R(n):""}function j(e){switch(e.tag){case 26:case 27:case 5:return R(e.type);case 16:return R("Lazy");case 13:return R("Suspense");case 19:return R("SuspenseList");case 0:case 15:return e=D(e.type,!1);case 11:return e=D(e.type.render,!1);case 1:return e=D(e.type,!0);default:return""}}function L(e){try{var t="";do{t+=j(e),e=e.return}while(e);return t}catch(n){return"\nError generating stack: "+n.message+"\n"+n.stack}}function M(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{0!==(4098&(t=e).flags)&&(n=t.return),e=t.return}while(e)}return 3===t.tag?n:null}function F(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function z(e){if(M(e)!==e)throw Error(s(188))}function U(e){var t=e.tag;if(5===t||26===t||27===t||6===t)return e;for(e=e.child;null!==e;){if(null!==(t=U(e)))return t;e=e.sibling}return null}var V=Array.isArray,q=a.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,B={pending:!1,data:null,method:null,action:null},$=[],H=-1;function W(e){return{current:e}}function Q(e){0>H||(e.current=$[H],$[H]=null,H--)}function K(e,t){H++,$[H]=e.current,e.current=t}var G=W(null),Y=W(null),X=W(null),J=W(null);function Z(e,t){switch(K(X,t),K(Y,e),K(G,null),e=t.nodeType){case 9:case 11:t=(t=t.documentElement)&&(t=t.namespaceURI)?Yu(t):0;break;default:if(t=(e=8===e?t.parentNode:t).tagName,e=e.namespaceURI)t=Xu(e=Yu(e),t);else switch(t){case"svg":t=1;break;case"math":t=2;break;default:t=0}}Q(G),K(G,t)}function ee(){Q(G),Q(Y),Q(X)}function te(e){null!==e.memoizedState&&K(J,e);var t=G.current,n=Xu(t,e.type);t!==n&&(K(Y,e),K(G,n))}function ne(e){Y.current===e&&(Q(G),Q(Y)),J.current===e&&(Q(J),Ld._currentValue=B)}var re=Object.prototype.hasOwnProperty,ie=r.unstable_scheduleCallback,ae=r.unstable_cancelCallback,se=r.unstable_shouldYield,oe=r.unstable_requestPaint,le=r.unstable_now,ce=r.unstable_getCurrentPriorityLevel,ue=r.unstable_ImmediatePriority,de=r.unstable_UserBlockingPriority,he=r.unstable_NormalPriority,fe=r.unstable_LowPriority,pe=r.unstable_IdlePriority,me=r.log,ge=r.unstable_setDisableYieldValue,ye=null,ve=null;function be(e){if("function"===typeof me&&ge(e),ve&&"function"===typeof ve.setStrictMode)try{ve.setStrictMode(ye,e)}catch(t){}}var we=Math.clz32?Math.clz32:function(e){return 0===(e>>>=0)?32:31-(xe(e)/Se|0)|0},xe=Math.log,Se=Math.LN2;var Ee=128,ke=4194304;function _e(e){var t=42&e;if(0!==t)return t;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return 4194176&e;case 4194304:case 8388608:case 16777216:case 33554432:return 62914560&e;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function Ce(e,t){var n=e.pendingLanes;if(0===n)return 0;var r=0,i=e.suspendedLanes,a=e.pingedLanes,s=e.warmLanes;e=0!==e.finishedLanes;var o=134217727&n;return 0!==o?0!==(n=o&~i)?r=_e(n):0!==(a&=o)?r=_e(a):e||0!==(s=o&~s)&&(r=_e(s)):0!==(o=n&~i)?r=_e(o):0!==a?r=_e(a):e||0!==(s=n&~s)&&(r=_e(s)),0===r?0:0!==t&&t!==r&&0===(t&i)&&((i=r&-r)>=(s=t&-t)||32===i&&0!==(4194176&s))?t:r}function Te(e,t){return 0===(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&t)}function Ie(e,t){switch(e){case 1:case 2:case 4:case 8:return t+250;case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;default:return-1}}function Ae(){var e=Ee;return 0===(4194176&(Ee<<=1))&&(Ee=128),e}function Pe(){var e=ke;return 0===(62914560&(ke<<=1))&&(ke=4194304),e}function Ne(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function Re(e,t){e.pendingLanes|=t,268435456!==t&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function Oe(e,t,n){e.pendingLanes|=t,e.suspendedLanes&=~t;var r=31-we(t);e.entangledLanes|=t,e.entanglements[r]=1073741824|e.entanglements[r]|4194218&n}function De(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-we(n),i=1<<r;i&t|e[r]&t&&(e[r]|=t),n&=~i}}function je(e){return 2<(e&=-e)?8<e?0!==(134217727&e)?32:268435456:8:2}function Le(){var e=q.p;return 0!==e?e:void 0===(e=window.event)?32:Xd(e.type)}var Me=Math.random().toString(36).slice(2),Fe="__reactFiber$"+Me,ze="__reactProps$"+Me,Ue="__reactContainer$"+Me,Ve="__reactEvents$"+Me,qe="__reactListeners$"+Me,Be="__reactHandles$"+Me,$e="__reactResources$"+Me,He="__reactMarker$"+Me;function We(e){delete e[Fe],delete e[ze],delete e[Ve],delete e[qe],delete e[Be]}function Qe(e){var t=e[Fe];if(t)return t;for(var n=e.parentNode;n;){if(t=n[Ue]||n[Fe]){if(n=t.alternate,null!==t.child||null!==n&&null!==n.child)for(e=ld(e);null!==e;){if(n=e[Fe])return n;e=ld(e)}return t}n=(e=n).parentNode}return null}function Ke(e){if(e=e[Fe]||e[Ue]){var t=e.tag;if(5===t||6===t||13===t||26===t||27===t||3===t)return e}return null}function Ge(e){var t=e.tag;if(5===t||26===t||27===t||6===t)return e.stateNode;throw Error(s(33))}function Ye(e){var t=e[$e];return t||(t=e[$e]={hoistableStyles:new Map,hoistableScripts:new Map}),t}function Xe(e){e[He]=!0}var Je=new Set,Ze={};function et(e,t){tt(e,t),tt(e+"Capture",t)}function tt(e,t){for(Ze[e]=t,e=0;e<t.length;e++)Je.add(t[e])}var nt=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement),rt=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),it={},at={};function st(e,t,n){if(i=t,re.call(at,i)||!re.call(it,i)&&(rt.test(i)?at[i]=!0:(it[i]=!0,0)))if(null===n)e.removeAttribute(t);else{switch(typeof n){case"undefined":case"function":case"symbol":return void e.removeAttribute(t);case"boolean":var r=t.toLowerCase().slice(0,5);if("data-"!==r&&"aria-"!==r)return void e.removeAttribute(t)}e.setAttribute(t,""+n)}var i}function ot(e,t,n){if(null===n)e.removeAttribute(t);else{switch(typeof n){case"undefined":case"function":case"symbol":case"boolean":return void e.removeAttribute(t)}e.setAttribute(t,""+n)}}function lt(e,t,n,r){if(null===r)e.removeAttribute(n);else{switch(typeof r){case"undefined":case"function":case"symbol":case"boolean":return void e.removeAttribute(n)}e.setAttributeNS(t,n,""+r)}}function ct(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":case"object":return e;default:return""}}function ut(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function dt(e){e._valueTracker||(e._valueTracker=function(e){var t=ut(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&"undefined"!==typeof n&&"function"===typeof n.get&&"function"===typeof n.set){var i=n.get,a=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(e){r=""+e,a.call(this,e)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(e){r=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function ht(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=ut(e)?e.checked?"true":"false":e.value),(e=r)!==n&&(t.setValue(e),!0)}function ft(e){if("undefined"===typeof(e=e||("undefined"!==typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}var pt=/[\n"\\]/g;function mt(e){return e.replace(pt,(function(e){return"\\"+e.charCodeAt(0).toString(16)+" "}))}function gt(e,t,n,r,i,a,s,o){e.name="",null!=s&&"function"!==typeof s&&"symbol"!==typeof s&&"boolean"!==typeof s?e.type=s:e.removeAttribute("type"),null!=t?"number"===s?(0===t&&""===e.value||e.value!=t)&&(e.value=""+ct(t)):e.value!==""+ct(t)&&(e.value=""+ct(t)):"submit"!==s&&"reset"!==s||e.removeAttribute("value"),null!=t?vt(e,s,ct(t)):null!=n?vt(e,s,ct(n)):null!=r&&e.removeAttribute("value"),null==i&&null!=a&&(e.defaultChecked=!!a),null!=i&&(e.checked=i&&"function"!==typeof i&&"symbol"!==typeof i),null!=o&&"function"!==typeof o&&"symbol"!==typeof o&&"boolean"!==typeof o?e.name=""+ct(o):e.removeAttribute("name")}function yt(e,t,n,r,i,a,s,o){if(null!=a&&"function"!==typeof a&&"symbol"!==typeof a&&"boolean"!==typeof a&&(e.type=a),null!=t||null!=n){if(!("submit"!==a&&"reset"!==a||void 0!==t&&null!==t))return;n=null!=n?""+ct(n):"",t=null!=t?""+ct(t):n,o||t===e.value||(e.value=t),e.defaultValue=t}r="function"!==typeof(r=null!=r?r:i)&&"symbol"!==typeof r&&!!r,e.checked=o?e.checked:!!r,e.defaultChecked=!!r,null!=s&&"function"!==typeof s&&"symbol"!==typeof s&&"boolean"!==typeof s&&(e.name=s)}function vt(e,t,n){"number"===t&&ft(e.ownerDocument)===e||e.defaultValue===""+n||(e.defaultValue=""+n)}function bt(e,t,n,r){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&r&&(e[n].defaultSelected=!0)}else{for(n=""+ct(n),t=null,i=0;i<e.length;i++){if(e[i].value===n)return e[i].selected=!0,void(r&&(e[i].defaultSelected=!0));null!==t||e[i].disabled||(t=e[i])}null!==t&&(t.selected=!0)}}function wt(e,t,n){null==t||((t=""+ct(t))!==e.value&&(e.value=t),null!=n)?e.defaultValue=null!=n?""+ct(n):"":e.defaultValue!==t&&(e.defaultValue=t)}function xt(e,t,n,r){if(null==t){if(null!=r){if(null!=n)throw Error(s(92));if(V(r)){if(1<r.length)throw Error(s(93));r=r[0]}n=r}null==n&&(n=""),t=n}n=ct(t),e.defaultValue=n,(r=e.textContent)===n&&""!==r&&null!==r&&(e.value=r)}function St(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType)return void(n.nodeValue=t)}e.textContent=t}var Et=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function kt(e,t,n){var r=0===t.indexOf("--");null==n||"boolean"===typeof n||""===n?r?e.setProperty(t,""):"float"===t?e.cssFloat="":e[t]="":r?e.setProperty(t,n):"number"!==typeof n||0===n||Et.has(t)?"float"===t?e.cssFloat=n:e[t]=(""+n).trim():e[t]=n+"px"}function _t(e,t,n){if(null!=t&&"object"!==typeof t)throw Error(s(62));if(e=e.style,null!=n){for(var r in n)!n.hasOwnProperty(r)||null!=t&&t.hasOwnProperty(r)||(0===r.indexOf("--")?e.setProperty(r,""):"float"===r?e.cssFloat="":e[r]="");for(var i in t)r=t[i],t.hasOwnProperty(i)&&n[i]!==r&&kt(e,i,r)}else for(var a in t)t.hasOwnProperty(a)&&kt(e,a,t[a])}function Ct(e){if(-1===e.indexOf("-"))return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Tt=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),It=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function At(e){return It.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}var Pt=null;function Nt(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}var Rt=null,Ot=null;function Dt(e){var t=Ke(e);if(t&&(e=t.stateNode)){var n=e[ze]||null;e:switch(e=t.stateNode,t.type){case"input":if(gt(e,n.value,n.defaultValue,n.defaultValue,n.checked,n.defaultChecked,n.type,n.name),t=n.name,"radio"===n.type&&null!=t){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll('input[name="'+mt(""+t)+'"][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var i=r[ze]||null;if(!i)throw Error(s(90));gt(r,i.value,i.defaultValue,i.defaultValue,i.checked,i.defaultChecked,i.type,i.name)}}for(t=0;t<n.length;t++)(r=n[t]).form===e.form&&ht(r)}break e;case"textarea":wt(e,n.value,n.defaultValue);break e;case"select":null!=(t=n.value)&&bt(e,!!n.multiple,t,!1)}}}var jt=!1;function Lt(e,t,n){if(jt)return e(t,n);jt=!0;try{return e(t)}finally{if(jt=!1,(null!==Rt||null!==Ot)&&(Fc(),Rt&&(t=Rt,e=Ot,Ot=Rt=null,Dt(t),e)))for(t=0;t<e.length;t++)Dt(e[t])}}function Mt(e,t){var n=e.stateNode;if(null===n)return null;var r=n[ze]||null;if(null===r)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(r=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!r;break e;default:e=!1}if(e)return null;if(n&&"function"!==typeof n)throw Error(s(231,t,typeof n));return n}var Ft=!1;if(nt)try{var zt={};Object.defineProperty(zt,"passive",{get:function(){Ft=!0}}),window.addEventListener("test",zt,zt),window.removeEventListener("test",zt,zt)}catch(xh){Ft=!1}var Ut=null,Vt=null,qt=null;function Bt(){if(qt)return qt;var e,t,n=Vt,r=n.length,i="value"in Ut?Ut.value:Ut.textContent,a=i.length;for(e=0;e<r&&n[e]===i[e];e++);var s=r-e;for(t=1;t<=s&&n[r-t]===i[a-t];t++);return qt=i.slice(e,1<t?1-t:void 0)}function $t(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}function Ht(){return!0}function Wt(){return!1}function Qt(e){function t(t,n,r,i,a){for(var s in this._reactName=t,this._targetInst=r,this.type=n,this.nativeEvent=i,this.target=a,this.currentTarget=null,e)e.hasOwnProperty(s)&&(t=e[s],this[s]=t?t(i):i[s]);return this.isDefaultPrevented=(null!=i.defaultPrevented?i.defaultPrevented:!1===i.returnValue)?Ht:Wt,this.isPropagationStopped=Wt,this}return N(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!==typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=Ht)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!==typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=Ht)},persist:function(){},isPersistent:Ht}),t}var Kt,Gt,Yt,Xt={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Jt=Qt(Xt),Zt=N({},Xt,{view:0,detail:0}),en=Qt(Zt),tn=N({},Zt,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:fn,button:0,buttons:0,relatedTarget:function(e){return void 0===e.relatedTarget?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Yt&&(Yt&&"mousemove"===e.type?(Kt=e.screenX-Yt.screenX,Gt=e.screenY-Yt.screenY):Gt=Kt=0,Yt=e),Kt)},movementY:function(e){return"movementY"in e?e.movementY:Gt}}),nn=Qt(tn),rn=Qt(N({},tn,{dataTransfer:0})),an=Qt(N({},Zt,{relatedTarget:0})),sn=Qt(N({},Xt,{animationName:0,elapsedTime:0,pseudoElement:0})),on=Qt(N({},Xt,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}})),ln=Qt(N({},Xt,{data:0})),cn={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},un={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},dn={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function hn(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=dn[e])&&!!t[e]}function fn(){return hn}var pn=Qt(N({},Zt,{key:function(e){if(e.key){var t=cn[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=$t(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?un[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:fn,charCode:function(e){return"keypress"===e.type?$t(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?$t(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}})),mn=Qt(N({},tn,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),gn=Qt(N({},Zt,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:fn})),yn=Qt(N({},Xt,{propertyName:0,elapsedTime:0,pseudoElement:0})),vn=Qt(N({},tn,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0})),bn=Qt(N({},Xt,{newState:0,oldState:0})),wn=[9,13,27,32],xn=nt&&"CompositionEvent"in window,Sn=null;nt&&"documentMode"in document&&(Sn=document.documentMode);var En=nt&&"TextEvent"in window&&!Sn,kn=nt&&(!xn||Sn&&8<Sn&&11>=Sn),_n=String.fromCharCode(32),Cn=!1;function Tn(e,t){switch(e){case"keyup":return-1!==wn.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function In(e){return"object"===typeof(e=e.detail)&&"data"in e?e.data:null}var An=!1;var Pn={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Nn(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!Pn[e.type]:"textarea"===t}function Rn(e,t,n,r){Rt?Ot?Ot.push(r):Ot=[r]:Rt=r,0<(t=Lu(t,"onChange")).length&&(n=new Jt("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var On=null,Dn=null;function jn(e){Iu(e,0)}function Ln(e){if(ht(Ge(e)))return e}function Mn(e,t){if("change"===e)return t}var Fn=!1;if(nt){var zn;if(nt){var Un="oninput"in document;if(!Un){var Vn=document.createElement("div");Vn.setAttribute("oninput","return;"),Un="function"===typeof Vn.oninput}zn=Un}else zn=!1;Fn=zn&&(!document.documentMode||9<document.documentMode)}function qn(){On&&(On.detachEvent("onpropertychange",Bn),Dn=On=null)}function Bn(e){if("value"===e.propertyName&&Ln(Dn)){var t=[];Rn(t,Dn,e,Nt(e)),Lt(jn,t)}}function $n(e,t,n){"focusin"===e?(qn(),Dn=n,(On=t).attachEvent("onpropertychange",Bn)):"focusout"===e&&qn()}function Hn(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return Ln(Dn)}function Wn(e,t){if("click"===e)return Ln(t)}function Qn(e,t){if("input"===e||"change"===e)return Ln(t)}var Kn="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t};function Gn(e,t){if(Kn(e,t))return!0;if("object"!==typeof e||null===e||"object"!==typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!re.call(t,i)||!Kn(e[i],t[i]))return!1}return!0}function Yn(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Xn(e,t){var n,r=Yn(e);for(e=0;r;){if(3===r.nodeType){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=Yn(r)}}function Jn(e,t){return!(!e||!t)&&(e===t||(!e||3!==e.nodeType)&&(t&&3===t.nodeType?Jn(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}function Zn(e){for(var t=ft((e=null!=e&&null!=e.ownerDocument&&null!=e.ownerDocument.defaultView?e.ownerDocument.defaultView:window).document);t instanceof e.HTMLIFrameElement;){try{var n="string"===typeof t.contentWindow.location.href}catch(r){n=!1}if(!n)break;t=ft((e=t.contentWindow).document)}return t}function er(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}function tr(e,t){var n=Zn(t);t=e.focusedElem;var r=e.selectionRange;if(n!==t&&t&&t.ownerDocument&&Jn(t.ownerDocument.documentElement,t)){if(null!==r&&er(t))if(e=r.start,void 0===(n=r.end)&&(n=e),"selectionStart"in t)t.selectionStart=e,t.selectionEnd=Math.min(n,t.value.length);else if((n=(e=t.ownerDocument||document)&&e.defaultView||window).getSelection){n=n.getSelection();var i=t.textContent.length,a=Math.min(r.start,i);r=void 0===r.end?a:Math.min(r.end,i),!n.extend&&a>r&&(i=r,r=a,a=i),i=Xn(t,a);var s=Xn(t,r);i&&s&&(1!==n.rangeCount||n.anchorNode!==i.node||n.anchorOffset!==i.offset||n.focusNode!==s.node||n.focusOffset!==s.offset)&&((e=e.createRange()).setStart(i.node,i.offset),n.removeAllRanges(),a>r?(n.addRange(e),n.extend(s.node,s.offset)):(e.setEnd(s.node,s.offset),n.addRange(e)))}for(e=[],n=t;n=n.parentNode;)1===n.nodeType&&e.push({element:n,left:n.scrollLeft,top:n.scrollTop});for("function"===typeof t.focus&&t.focus(),t=0;t<e.length;t++)(n=e[t]).element.scrollLeft=n.left,n.element.scrollTop=n.top}}var nr=nt&&"documentMode"in document&&11>=document.documentMode,rr=null,ir=null,ar=null,sr=!1;function or(e,t,n){var r=n.window===n?n.document:9===n.nodeType?n:n.ownerDocument;sr||null==rr||rr!==ft(r)||("selectionStart"in(r=rr)&&er(r)?r={start:r.selectionStart,end:r.selectionEnd}:r={anchorNode:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset},ar&&Gn(ar,r)||(ar=r,0<(r=Lu(ir,"onSelect")).length&&(t=new Jt("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=rr)))}function lr(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var cr={animationend:lr("Animation","AnimationEnd"),animationiteration:lr("Animation","AnimationIteration"),animationstart:lr("Animation","AnimationStart"),transitionrun:lr("Transition","TransitionRun"),transitionstart:lr("Transition","TransitionStart"),transitioncancel:lr("Transition","TransitionCancel"),transitionend:lr("Transition","TransitionEnd")},ur={},dr={};function hr(e){if(ur[e])return ur[e];if(!cr[e])return e;var t,n=cr[e];for(t in n)if(n.hasOwnProperty(t)&&t in dr)return ur[e]=n[t];return e}nt&&(dr=document.createElement("div").style,"AnimationEvent"in window||(delete cr.animationend.animation,delete cr.animationiteration.animation,delete cr.animationstart.animation),"TransitionEvent"in window||delete cr.transitionend.transition);var fr=hr("animationend"),pr=hr("animationiteration"),mr=hr("animationstart"),gr=hr("transitionrun"),yr=hr("transitionstart"),vr=hr("transitioncancel"),br=hr("transitionend"),wr=new Map,xr="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll scrollEnd toggle touchMove waiting wheel".split(" ");function Sr(e,t){wr.set(e,t),et(t,[e])}var Er=[],kr=0,_r=0;function Cr(){for(var e=kr,t=_r=kr=0;t<e;){var n=Er[t];Er[t++]=null;var r=Er[t];Er[t++]=null;var i=Er[t];Er[t++]=null;var a=Er[t];if(Er[t++]=null,null!==r&&null!==i){var s=r.pending;null===s?i.next=i:(i.next=s.next,s.next=i),r.pending=i}0!==a&&Pr(n,i,a)}}function Tr(e,t,n,r){Er[kr++]=e,Er[kr++]=t,Er[kr++]=n,Er[kr++]=r,_r|=r,e.lanes|=r,null!==(e=e.alternate)&&(e.lanes|=r)}function Ir(e,t,n,r){return Tr(e,t,n,r),Nr(e)}function Ar(e,t){return Tr(e,null,null,t),Nr(e)}function Pr(e,t,n){e.lanes|=n;var r=e.alternate;null!==r&&(r.lanes|=n);for(var i=!1,a=e.return;null!==a;)a.childLanes|=n,null!==(r=a.alternate)&&(r.childLanes|=n),22===a.tag&&(null===(e=a.stateNode)||1&e._visibility||(i=!0)),e=a,a=a.return;i&&null!==t&&3===e.tag&&(a=e.stateNode,i=31-we(n),null===(e=(a=a.hiddenUpdates)[i])?a[i]=[t]:e.push(t),t.lane=536870912|n)}function Nr(e){if(50<Ic)throw Ic=0,Ac=null,Error(s(185));for(var t=e.return;null!==t;)t=(e=t).return;return 3===e.tag?e.stateNode:null}var Rr={},Or=new WeakMap;function Dr(e,t){if("object"===typeof e&&null!==e){var n=Or.get(e);return void 0!==n?n:(t={value:e,source:t,stack:L(t)},Or.set(e,t),t)}return{value:e,source:t,stack:L(t)}}var jr=[],Lr=0,Mr=null,Fr=0,zr=[],Ur=0,Vr=null,qr=1,Br="";function $r(e,t){jr[Lr++]=Fr,jr[Lr++]=Mr,Mr=e,Fr=t}function Hr(e,t,n){zr[Ur++]=qr,zr[Ur++]=Br,zr[Ur++]=Vr,Vr=e;var r=qr;e=Br;var i=32-we(r)-1;r&=~(1<<i),n+=1;var a=32-we(t)+i;if(30<a){var s=i-i%5;a=(r&(1<<s)-1).toString(32),r>>=s,i-=s,qr=1<<32-we(t)+i|n<<i|r,Br=a+e}else qr=1<<a|n<<i|r,Br=e}function Wr(e){null!==e.return&&($r(e,1),Hr(e,1,0))}function Qr(e){for(;e===Mr;)Mr=jr[--Lr],jr[Lr]=null,Fr=jr[--Lr],jr[Lr]=null;for(;e===Vr;)Vr=zr[--Ur],zr[Ur]=null,Br=zr[--Ur],zr[Ur]=null,qr=zr[--Ur],zr[Ur]=null}var Kr=null,Gr=null,Yr=!1,Xr=null,Jr=!1,Zr=Error(s(519));function ei(e){throw ai(Dr(Error(s(418,"")),e)),Zr}function ti(e){var t=e.stateNode,n=e.type,r=e.memoizedProps;switch(t[Fe]=e,t[ze]=r,n){case"dialog":Au("cancel",t),Au("close",t);break;case"iframe":case"object":case"embed":Au("load",t);break;case"video":case"audio":for(n=0;n<Cu.length;n++)Au(Cu[n],t);break;case"source":Au("error",t);break;case"img":case"image":case"link":Au("error",t),Au("load",t);break;case"details":Au("toggle",t);break;case"input":Au("invalid",t),yt(t,r.value,r.defaultValue,r.checked,r.defaultChecked,r.type,r.name,!0),dt(t);break;case"select":Au("invalid",t);break;case"textarea":Au("invalid",t),xt(t,r.value,r.defaultValue,r.children),dt(t)}"string"!==typeof(n=r.children)&&"number"!==typeof n&&"bigint"!==typeof n||t.textContent===""+n||!0===r.suppressHydrationWarning||qu(t.textContent,n)?(null!=r.popover&&(Au("beforetoggle",t),Au("toggle",t)),null!=r.onScroll&&Au("scroll",t),null!=r.onScrollEnd&&Au("scrollend",t),null!=r.onClick&&(t.onclick=Bu),t=!0):t=!1,t||ei(e)}function ni(e){for(Kr=e.return;Kr;)switch(Kr.tag){case 3:case 27:return void(Jr=!0);case 5:case 13:return void(Jr=!1);default:Kr=Kr.return}}function ri(e){if(e!==Kr)return!1;if(!Yr)return ni(e),Yr=!0,!1;var t,n=!1;if((t=3!==e.tag&&27!==e.tag)&&((t=5===e.tag)&&(t=!("form"!==(t=e.type)&&"button"!==t)||Ju(e.type,e.memoizedProps)),t=!t),t&&(n=!0),n&&Gr&&ei(e),ni(e),13===e.tag){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(s(317));e:{for(e=e.nextSibling,n=0;e;){if(8===e.nodeType)if("/$"===(t=e.data)){if(0===n){Gr=od(e.nextSibling);break e}n--}else"$"!==t&&"$!"!==t&&"$?"!==t||n++;e=e.nextSibling}Gr=null}}else Gr=Kr?od(e.stateNode.nextSibling):null;return!0}function ii(){Gr=Kr=null,Yr=!1}function ai(e){null===Xr?Xr=[e]:Xr.push(e)}var si=Error(s(460)),oi=Error(s(474)),li={then:function(){}};function ci(e){return"fulfilled"===(e=e.status)||"rejected"===e}function ui(){}function di(e,t,n){switch(void 0===(n=e[n])?e.push(t):n!==t&&(t.then(ui,ui),t=n),t.status){case"fulfilled":return t.value;case"rejected":if((e=t.reason)===si)throw Error(s(483));throw e;default:if("string"===typeof t.status)t.then(ui,ui);else{if(null!==(e=tc)&&100<e.shellSuspendCounter)throw Error(s(482));(e=t).status="pending",e.then((function(e){if("pending"===t.status){var n=t;n.status="fulfilled",n.value=e}}),(function(e){if("pending"===t.status){var n=t;n.status="rejected",n.reason=e}}))}switch(t.status){case"fulfilled":return t.value;case"rejected":if((e=t.reason)===si)throw Error(s(483));throw e}throw hi=t,si}}var hi=null;function fi(){if(null===hi)throw Error(s(459));var e=hi;return hi=null,e}var pi=null,mi=0;function gi(e){var t=mi;return mi+=1,null===pi&&(pi=[]),di(pi,e,t)}function yi(e,t){t=t.props.ref,e.ref=void 0!==t?t:null}function vi(e,t){if(t.$$typeof===l)throw Error(s(525));throw e=Object.prototype.toString.call(t),Error(s(31,"[object Object]"===e?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function bi(e){return(0,e._init)(e._payload)}function wi(e){function t(t,n){if(e){var r=t.deletions;null===r?(t.deletions=[n],t.flags|=16):r.push(n)}}function n(n,r){if(!e)return null;for(;null!==r;)t(n,r),r=r.sibling;return null}function r(e){for(var t=new Map;null!==e;)null!==e.key?t.set(e.key,e):t.set(e.index,e),e=e.sibling;return t}function i(e,t){return(e=Ml(e,t)).index=0,e.sibling=null,e}function a(t,n,r){return t.index=r,e?null!==(r=t.alternate)?(r=r.index)<n?(t.flags|=33554434,n):r:(t.flags|=33554434,n):(t.flags|=1048576,n)}function o(t){return e&&null===t.alternate&&(t.flags|=33554434),t}function l(e,t,n,r){return null===t||6!==t.tag?((t=ql(n,e.mode,r)).return=e,t):((t=i(t,n)).return=e,t)}function h(e,t,n,r){var a=n.type;return a===d?p(e,t,n.props.children,r,n.key):null!==t&&(t.elementType===a||"object"===typeof a&&null!==a&&a.$$typeof===x&&bi(a)===t.type)?(yi(t=i(t,n.props),n),t.return=e,t):(yi(t=zl(n.type,n.key,n.props,null,e.mode,r),n),t.return=e,t)}function f(e,t,n,r){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?((t=Bl(n,e.mode,r)).return=e,t):((t=i(t,n.children||[])).return=e,t)}function p(e,t,n,r,a){return null===t||7!==t.tag?((t=Ul(n,e.mode,r,a)).return=e,t):((t=i(t,n)).return=e,t)}function m(e,t,n){if("string"===typeof t&&""!==t||"number"===typeof t||"bigint"===typeof t)return(t=ql(""+t,e.mode,n)).return=e,t;if("object"===typeof t&&null!==t){switch(t.$$typeof){case c:return yi(n=zl(t.type,t.key,t.props,null,e.mode,n),t),n.return=e,n;case u:return(t=Bl(t,e.mode,n)).return=e,t;case x:return m(e,t=(0,t._init)(t._payload),n)}if(V(t)||_(t))return(t=Ul(t,e.mode,n,null)).return=e,t;if("function"===typeof t.then)return m(e,gi(t),n);if(t.$$typeof===g)return m(e,Co(e,t),n);vi(e,t)}return null}function y(e,t,n,r){var i=null!==t?t.key:null;if("string"===typeof n&&""!==n||"number"===typeof n||"bigint"===typeof n)return null!==i?null:l(e,t,""+n,r);if("object"===typeof n&&null!==n){switch(n.$$typeof){case c:return n.key===i?h(e,t,n,r):null;case u:return n.key===i?f(e,t,n,r):null;case x:return y(e,t,n=(i=n._init)(n._payload),r)}if(V(n)||_(n))return null!==i?null:p(e,t,n,r,null);if("function"===typeof n.then)return y(e,t,gi(n),r);if(n.$$typeof===g)return y(e,t,Co(e,n),r);vi(e,n)}return null}function v(e,t,n,r,i){if("string"===typeof r&&""!==r||"number"===typeof r||"bigint"===typeof r)return l(t,e=e.get(n)||null,""+r,i);if("object"===typeof r&&null!==r){switch(r.$$typeof){case c:return h(t,e=e.get(null===r.key?n:r.key)||null,r,i);case u:return f(t,e=e.get(null===r.key?n:r.key)||null,r,i);case x:return v(e,t,n,r=(0,r._init)(r._payload),i)}if(V(r)||_(r))return p(t,e=e.get(n)||null,r,i,null);if("function"===typeof r.then)return v(e,t,n,gi(r),i);if(r.$$typeof===g)return v(e,t,n,Co(t,r),i);vi(t,r)}return null}function b(l,h,f,p){if("object"===typeof f&&null!==f&&f.type===d&&null===f.key&&(f=f.props.children),"object"===typeof f&&null!==f){switch(f.$$typeof){case c:e:{for(var w=f.key;null!==h;){if(h.key===w){if((w=f.type)===d){if(7===h.tag){n(l,h.sibling),(p=i(h,f.props.children)).return=l,l=p;break e}}else if(h.elementType===w||"object"===typeof w&&null!==w&&w.$$typeof===x&&bi(w)===h.type){n(l,h.sibling),yi(p=i(h,f.props),f),p.return=l,l=p;break e}n(l,h);break}t(l,h),h=h.sibling}f.type===d?((p=Ul(f.props.children,l.mode,p,f.key)).return=l,l=p):(yi(p=zl(f.type,f.key,f.props,null,l.mode,p),f),p.return=l,l=p)}return o(l);case u:e:{for(w=f.key;null!==h;){if(h.key===w){if(4===h.tag&&h.stateNode.containerInfo===f.containerInfo&&h.stateNode.implementation===f.implementation){n(l,h.sibling),(p=i(h,f.children||[])).return=l,l=p;break e}n(l,h);break}t(l,h),h=h.sibling}(p=Bl(f,l.mode,p)).return=l,l=p}return o(l);case x:return b(l,h,f=(w=f._init)(f._payload),p)}if(V(f))return function(i,s,o,l){for(var c=null,u=null,d=s,h=s=0,f=null;null!==d&&h<o.length;h++){d.index>h?(f=d,d=null):f=d.sibling;var p=y(i,d,o[h],l);if(null===p){null===d&&(d=f);break}e&&d&&null===p.alternate&&t(i,d),s=a(p,s,h),null===u?c=p:u.sibling=p,u=p,d=f}if(h===o.length)return n(i,d),Yr&&$r(i,h),c;if(null===d){for(;h<o.length;h++)null!==(d=m(i,o[h],l))&&(s=a(d,s,h),null===u?c=d:u.sibling=d,u=d);return Yr&&$r(i,h),c}for(d=r(d);h<o.length;h++)null!==(f=v(d,i,h,o[h],l))&&(e&&null!==f.alternate&&d.delete(null===f.key?h:f.key),s=a(f,s,h),null===u?c=f:u.sibling=f,u=f);return e&&d.forEach((function(e){return t(i,e)})),Yr&&$r(i,h),c}(l,h,f,p);if(_(f)){if("function"!==typeof(w=_(f)))throw Error(s(150));return function(i,o,l,c){if(null==l)throw Error(s(151));for(var u=null,d=null,h=o,f=o=0,p=null,g=l.next();null!==h&&!g.done;f++,g=l.next()){h.index>f?(p=h,h=null):p=h.sibling;var b=y(i,h,g.value,c);if(null===b){null===h&&(h=p);break}e&&h&&null===b.alternate&&t(i,h),o=a(b,o,f),null===d?u=b:d.sibling=b,d=b,h=p}if(g.done)return n(i,h),Yr&&$r(i,f),u;if(null===h){for(;!g.done;f++,g=l.next())null!==(g=m(i,g.value,c))&&(o=a(g,o,f),null===d?u=g:d.sibling=g,d=g);return Yr&&$r(i,f),u}for(h=r(h);!g.done;f++,g=l.next())null!==(g=v(h,i,f,g.value,c))&&(e&&null!==g.alternate&&h.delete(null===g.key?f:g.key),o=a(g,o,f),null===d?u=g:d.sibling=g,d=g);return e&&h.forEach((function(e){return t(i,e)})),Yr&&$r(i,f),u}(l,h,f=w.call(f),p)}if("function"===typeof f.then)return b(l,h,gi(f),p);if(f.$$typeof===g)return b(l,h,Co(l,f),p);vi(l,f)}return"string"===typeof f&&""!==f||"number"===typeof f||"bigint"===typeof f?(f=""+f,null!==h&&6===h.tag?(n(l,h.sibling),(p=i(h,f)).return=l,l=p):(n(l,h),(p=ql(f,l.mode,p)).return=l,l=p),o(l)):n(l,h)}return function(e,t,n,r){try{mi=0;var i=b(e,t,n,r);return pi=null,i}catch(s){if(s===si)throw s;var a=jl(29,s,null,e.mode);return a.lanes=r,a.return=e,a}}}var xi=wi(!0),Si=wi(!1),Ei=W(null),ki=W(0);function _i(e,t){K(ki,e=cc),K(Ei,t),cc=e|t.baseLanes}function Ci(){K(ki,cc),K(Ei,Ei.current)}function Ti(){cc=ki.current,Q(Ei),Q(ki)}var Ii=W(null),Ai=null;function Pi(e){var t=e.alternate;K(Di,1&Di.current),K(Ii,e),null===Ai&&(null===t||null!==Ei.current||null!==t.memoizedState)&&(Ai=e)}function Ni(e){if(22===e.tag){if(K(Di,Di.current),K(Ii,e),null===Ai){var t=e.alternate;null!==t&&null!==t.memoizedState&&(Ai=e)}}else Ri()}function Ri(){K(Di,Di.current),K(Ii,Ii.current)}function Oi(e){Q(Ii),Ai===e&&(Ai=null),Q(Di)}var Di=W(0);function ji(e){for(var t=e;null!==t;){if(13===t.tag){var n=t.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||"$?"===n.data||"$!"===n.data))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(0!==(128&t.flags))return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var Li="undefined"!==typeof AbortController?AbortController:function(){var e=[],t=this.signal={aborted:!1,addEventListener:function(t,n){e.push(n)}};this.abort=function(){t.aborted=!0,e.forEach((function(e){return e()}))}},Mi=r.unstable_scheduleCallback,Fi=r.unstable_NormalPriority,zi={$$typeof:g,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Ui(){return{controller:new Li,data:new Map,refCount:0}}function Vi(e){e.refCount--,0===e.refCount&&Mi(Fi,(function(){e.controller.abort()}))}var qi=null,Bi=0,$i=0,Hi=null;function Wi(){if(0===--Bi&&null!==qi){null!==Hi&&(Hi.status="fulfilled");var e=qi;qi=null,$i=0,Hi=null;for(var t=0;t<e.length;t++)(0,e[t])()}}var Qi=P.S;P.S=function(e,t){"object"===typeof t&&null!==t&&"function"===typeof t.then&&function(e,t){if(null===qi){var n=qi=[];Bi=0,$i=xu(),Hi={status:"pending",value:void 0,then:function(e){n.push(e)}}}Bi++,t.then(Wi,Wi)}(0,t),null!==Qi&&Qi(e,t)};var Ki=W(null);function Gi(){var e=Ki.current;return null!==e?e:tc.pooledCache}function Yi(e,t){K(Ki,null===t?Ki.current:t.pool)}function Xi(){var e=Gi();return null===e?null:{parent:zi._currentValue,pool:e}}var Ji=0,Zi=null,ea=null,ta=null,na=!1,ra=!1,ia=!1,aa=0,sa=0,oa=null,la=0;function ca(){throw Error(s(321))}function ua(e,t){if(null===t)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!Kn(e[n],t[n]))return!1;return!0}function da(e,t,n,r,i,a){return Ji=a,Zi=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,P.H=null===e||null===e.memoizedState?_s:Cs,ia=!1,a=n(r,i),ia=!1,ra&&(a=fa(t,n,r,i)),ha(e),a}function ha(e){P.H=ks;var t=null!==ea&&null!==ea.next;if(Ji=0,ta=ea=Zi=null,na=!1,sa=0,oa=null,t)throw Error(s(300));null===e||Bs||null!==(e=e.dependencies)&&Eo(e)&&(Bs=!0)}function fa(e,t,n,r){Zi=e;var i=0;do{if(ra&&(oa=null),sa=0,ra=!1,25<=i)throw Error(s(301));if(i+=1,ta=ea=null,null!=e.updateQueue){var a=e.updateQueue;a.lastEffect=null,a.events=null,a.stores=null,null!=a.memoCache&&(a.memoCache.index=0)}P.H=Ts,a=t(n,r)}while(ra);return a}function pa(){var e=P.H,t=e.useState()[0];return t="function"===typeof t.then?wa(t):t,e=e.useState()[0],(null!==ea?ea.memoizedState:null)!==e&&(Zi.flags|=1024),t}function ma(){var e=0!==aa;return aa=0,e}function ga(e,t,n){t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~n}function ya(e){if(na){for(e=e.memoizedState;null!==e;){var t=e.queue;null!==t&&(t.pending=null),e=e.next}na=!1}Ji=0,ta=ea=Zi=null,ra=!1,sa=aa=0,oa=null}function va(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===ta?Zi.memoizedState=ta=e:ta=ta.next=e,ta}function ba(){if(null===ea){var e=Zi.alternate;e=null!==e?e.memoizedState:null}else e=ea.next;var t=null===ta?Zi.memoizedState:ta.next;if(null!==t)ta=t,ea=e;else{if(null===e){if(null===Zi.alternate)throw Error(s(467));throw Error(s(310))}e={memoizedState:(ea=e).memoizedState,baseState:ea.baseState,baseQueue:ea.baseQueue,queue:ea.queue,next:null},null===ta?Zi.memoizedState=ta=e:ta=ta.next=e}return ta}function wa(e){var t=sa;return sa+=1,null===oa&&(oa=[]),e=di(oa,e,t),t=Zi,null===(null===ta?t.memoizedState:ta.next)&&(t=t.alternate,P.H=null===t||null===t.memoizedState?_s:Cs),e}function xa(e){if(null!==e&&"object"===typeof e){if("function"===typeof e.then)return wa(e);if(e.$$typeof===g)return _o(e)}throw Error(s(438,String(e)))}function Sa(e){var t=null,n=Zi.updateQueue;if(null!==n&&(t=n.memoCache),null==t){var r=Zi.alternate;null!==r&&(null!==(r=r.updateQueue)&&(null!=(r=r.memoCache)&&(t={data:r.data.map((function(e){return e.slice()})),index:0})))}if(null==t&&(t={data:[],index:0}),null===n&&(n={lastEffect:null,events:null,stores:null,memoCache:null},Zi.updateQueue=n),n.memoCache=t,void 0===(n=t.data[t.index]))for(n=t.data[t.index]=Array(e),r=0;r<e;r++)n[r]=E;return t.index++,n}function Ea(e,t){return"function"===typeof t?t(e):t}function ka(e){return _a(ba(),ea,e)}function _a(e,t,n){var r=e.queue;if(null===r)throw Error(s(311));r.lastRenderedReducer=n;var i=e.baseQueue,a=r.pending;if(null!==a){if(null!==i){var o=i.next;i.next=a.next,a.next=o}t.baseQueue=i=a,r.pending=null}if(a=e.baseState,null===i)e.memoizedState=a;else{var l=o=null,c=null,u=t=i.next,d=!1;do{var h=-536870913&u.lane;if(h!==u.lane?(rc&h)===h:(Ji&h)===h){var f=u.revertLane;if(0===f)null!==c&&(c=c.next={lane:0,revertLane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),h===$i&&(d=!0);else{if((Ji&f)===f){u=u.next,f===$i&&(d=!0);continue}h={lane:0,revertLane:u.revertLane,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null},null===c?(l=c=h,o=a):c=c.next=h,Zi.lanes|=f,dc|=f}h=u.action,ia&&n(a,h),a=u.hasEagerState?u.eagerState:n(a,h)}else f={lane:h,revertLane:u.revertLane,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null},null===c?(l=c=f,o=a):c=c.next=f,Zi.lanes|=h,dc|=h;u=u.next}while(null!==u&&u!==t);if(null===c?o=a:c.next=l,!Kn(a,e.memoizedState)&&(Bs=!0,d&&null!==(n=Hi)))throw n;e.memoizedState=a,e.baseState=o,e.baseQueue=c,r.lastRenderedState=a}return null===i&&(r.lanes=0),[e.memoizedState,r.dispatch]}function Ca(e){var t=ba(),n=t.queue;if(null===n)throw Error(s(311));n.lastRenderedReducer=e;var r=n.dispatch,i=n.pending,a=t.memoizedState;if(null!==i){n.pending=null;var o=i=i.next;do{a=e(a,o.action),o=o.next}while(o!==i);Kn(a,t.memoizedState)||(Bs=!0),t.memoizedState=a,null===t.baseQueue&&(t.baseState=a),n.lastRenderedState=a}return[a,r]}function Ta(e,t,n){var r=Zi,i=ba(),a=Yr;if(a){if(void 0===n)throw Error(s(407));n=n()}else n=t();var o=!Kn((ea||i).memoizedState,n);if(o&&(i.memoizedState=n,Bs=!0),i=i.queue,Ja(Pa.bind(null,r,i,e),[e]),i.getSnapshot!==t||o||null!==ta&&1&ta.memoizedState.tag){if(r.flags|=2048,Qa(9,Aa.bind(null,r,i,n,t),{destroy:void 0},null),null===tc)throw Error(s(349));a||0!==(60&Ji)||Ia(r,t,n)}return n}function Ia(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},null===(t=Zi.updateQueue)?(t={lastEffect:null,events:null,stores:null,memoCache:null},Zi.updateQueue=t,t.stores=[e]):null===(n=t.stores)?t.stores=[e]:n.push(e)}function Aa(e,t,n,r){t.value=n,t.getSnapshot=r,Na(t)&&Ra(e)}function Pa(e,t,n){return n((function(){Na(t)&&Ra(e)}))}function Na(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!Kn(e,n)}catch(r){return!0}}function Ra(e){var t=Ar(e,2);null!==t&&Rc(t,e,2)}function Oa(e){var t=va();if("function"===typeof e){var n=e;if(e=n(),ia){be(!0);try{n()}finally{be(!1)}}}return t.memoizedState=t.baseState=e,t.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ea,lastRenderedState:e},t}function Da(e,t,n,r){return e.baseState=n,_a(e,ea,"function"===typeof r?r:Ea)}function ja(e,t,n,r,i){if(xs(e))throw Error(s(485));if(null!==(e=t.action)){var a={payload:i,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(e){a.listeners.push(e)}};null!==P.T?n(!0):a.isTransition=!1,r(a),null===(n=t.pending)?(a.next=t.pending=a,La(t,a)):(a.next=n.next,t.pending=n.next=a)}}function La(e,t){var n=t.action,r=t.payload,i=e.state;if(t.isTransition){var a=P.T,s={};P.T=s;try{var o=n(i,r),l=P.S;null!==l&&l(s,o),Ma(e,t,o)}catch(c){za(e,t,c)}finally{P.T=a}}else try{Ma(e,t,a=n(i,r))}catch(u){za(e,t,u)}}function Ma(e,t,n){null!==n&&"object"===typeof n&&"function"===typeof n.then?n.then((function(n){Fa(e,t,n)}),(function(n){return za(e,t,n)})):Fa(e,t,n)}function Fa(e,t,n){t.status="fulfilled",t.value=n,Ua(t),e.state=n,null!==(t=e.pending)&&((n=t.next)===t?e.pending=null:(n=n.next,t.next=n,La(e,n)))}function za(e,t,n){var r=e.pending;if(e.pending=null,null!==r){r=r.next;do{t.status="rejected",t.reason=n,Ua(t),t=t.next}while(t!==r)}e.action=null}function Ua(e){e=e.listeners;for(var t=0;t<e.length;t++)(0,e[t])()}function Va(e,t){return t}function qa(e,t){if(Yr){var n=tc.formState;if(null!==n){e:{var r=Zi;if(Yr){if(Gr){t:{for(var i=Gr,a=Jr;8!==i.nodeType;){if(!a){i=null;break t}if(null===(i=od(i.nextSibling))){i=null;break t}}i="F!"===(a=i.data)||"F"===a?i:null}if(i){Gr=od(i.nextSibling),r="F!"===i.data;break e}}ei(r)}r=!1}r&&(t=n[0])}}return(n=va()).memoizedState=n.baseState=t,r={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Va,lastRenderedState:t},n.queue=r,n=vs.bind(null,Zi,r),r.dispatch=n,r=Oa(!1),a=ws.bind(null,Zi,!1,r.queue),i={state:t,dispatch:null,action:e,pending:null},(r=va()).queue=i,n=ja.bind(null,Zi,i,a,n),i.dispatch=n,r.memoizedState=e,[t,n,!1]}function Ba(e){return $a(ba(),ea,e)}function $a(e,t,n){t=_a(e,t,Va)[0],e=ka(Ea)[0],t="object"===typeof t&&null!==t&&"function"===typeof t.then?wa(t):t;var r=ba(),i=r.queue,a=i.dispatch;return n!==r.memoizedState&&(Zi.flags|=2048,Qa(9,Ha.bind(null,i,n),{destroy:void 0},null)),[t,a,e]}function Ha(e,t){e.action=t}function Wa(e){var t=ba(),n=ea;if(null!==n)return $a(t,n,e);ba(),t=t.memoizedState;var r=(n=ba()).queue.dispatch;return n.memoizedState=e,[t,r,!1]}function Qa(e,t,n,r){return e={tag:e,create:t,inst:n,deps:r,next:null},null===(t=Zi.updateQueue)&&(t={lastEffect:null,events:null,stores:null,memoCache:null},Zi.updateQueue=t),null===(n=t.lastEffect)?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e),e}function Ka(){return ba().memoizedState}function Ga(e,t,n,r){var i=va();Zi.flags|=e,i.memoizedState=Qa(1|t,n,{destroy:void 0},void 0===r?null:r)}function Ya(e,t,n,r){var i=ba();r=void 0===r?null:r;var a=i.memoizedState.inst;null!==ea&&null!==r&&ua(r,ea.memoizedState.deps)?i.memoizedState=Qa(t,n,a,r):(Zi.flags|=e,i.memoizedState=Qa(1|t,n,a,r))}function Xa(e,t){Ga(8390656,8,e,t)}function Ja(e,t){Ya(2048,8,e,t)}function Za(e,t){return Ya(4,2,e,t)}function es(e,t){return Ya(4,4,e,t)}function ts(e,t){if("function"===typeof t){e=e();var n=t(e);return function(){"function"===typeof n?n():t(null)}}if(null!==t&&void 0!==t)return e=e(),t.current=e,function(){t.current=null}}function ns(e,t,n){n=null!==n&&void 0!==n?n.concat([e]):null,Ya(4,4,ts.bind(null,t,e),n)}function rs(){}function is(e,t){var n=ba();t=void 0===t?null:t;var r=n.memoizedState;return null!==t&&ua(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function as(e,t){var n=ba();t=void 0===t?null:t;var r=n.memoizedState;if(null!==t&&ua(t,r[1]))return r[0];if(r=e(),ia){be(!0);try{e()}finally{be(!1)}}return n.memoizedState=[r,t],r}function ss(e,t,n){return void 0===n||0!==(1073741824&Ji)?e.memoizedState=t:(e.memoizedState=n,e=Nc(),Zi.lanes|=e,dc|=e,n)}function os(e,t,n,r){return Kn(n,t)?n:null!==Ei.current?(e=ss(e,n,r),Kn(e,t)||(Bs=!0),e):0===(42&Ji)?(Bs=!0,e.memoizedState=n):(e=Nc(),Zi.lanes|=e,dc|=e,t)}function ls(e,t,n,r,i){var a=q.p;q.p=0!==a&&8>a?a:8;var s=P.T,o={};P.T=o,ws(e,!1,t,n);try{var l=i(),c=P.S;if(null!==c&&c(o,l),null!==l&&"object"===typeof l&&"function"===typeof l.then)bs(e,t,function(e,t){var n=[],r={status:"pending",value:null,reason:null,then:function(e){n.push(e)}};return e.then((function(){r.status="fulfilled",r.value=t;for(var e=0;e<n.length;e++)(0,n[e])(t)}),(function(e){for(r.status="rejected",r.reason=e,e=0;e<n.length;e++)(0,n[e])(void 0)})),r}(l,r),Pc());else bs(e,t,r,Pc())}catch(u){bs(e,t,{then:function(){},status:"rejected",reason:u},Pc())}finally{q.p=a,P.T=s}}function cs(){}function us(e,t,n,r){if(5!==e.tag)throw Error(s(476));var i=ds(e).queue;ls(e,i,t,B,null===n?cs:function(){return hs(e),n(r)})}function ds(e){var t=e.memoizedState;if(null!==t)return t;var n={};return(t={memoizedState:B,baseState:B,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ea,lastRenderedState:B},next:null}).next={memoizedState:n,baseState:n,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ea,lastRenderedState:n},next:null},e.memoizedState=t,null!==(e=e.alternate)&&(e.memoizedState=t),t}function hs(e){bs(e,ds(e).next.queue,{},Pc())}function fs(){return _o(Ld)}function ps(){return ba().memoizedState}function ms(){return ba().memoizedState}function gs(e){for(var t=e.return;null!==t;){switch(t.tag){case 24:case 3:var n=Pc(),r=Ro(t,e=No(n),n);return null!==r&&(Rc(r,t,n),Oo(r,t,n)),t={cache:Ui()},void(e.payload=t)}t=t.return}}function ys(e,t,n){var r=Pc();n={lane:r,revertLane:0,action:n,hasEagerState:!1,eagerState:null,next:null},xs(e)?Ss(t,n):null!==(n=Ir(e,t,n,r))&&(Rc(n,e,r),Es(n,t,r))}function vs(e,t,n){bs(e,t,n,Pc())}function bs(e,t,n,r){var i={lane:r,revertLane:0,action:n,hasEagerState:!1,eagerState:null,next:null};if(xs(e))Ss(t,i);else{var a=e.alternate;if(0===e.lanes&&(null===a||0===a.lanes)&&null!==(a=t.lastRenderedReducer))try{var s=t.lastRenderedState,o=a(s,n);if(i.hasEagerState=!0,i.eagerState=o,Kn(o,s))return Tr(e,t,i,0),null===tc&&Cr(),!1}catch(l){}if(null!==(n=Ir(e,t,i,r)))return Rc(n,e,r),Es(n,t,r),!0}return!1}function ws(e,t,n,r){if(r={lane:2,revertLane:xu(),action:r,hasEagerState:!1,eagerState:null,next:null},xs(e)){if(t)throw Error(s(479))}else null!==(t=Ir(e,n,r,2))&&Rc(t,e,2)}function xs(e){var t=e.alternate;return e===Zi||null!==t&&t===Zi}function Ss(e,t){ra=na=!0;var n=e.pending;null===n?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function Es(e,t,n){if(0!==(4194176&n)){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,De(e,n)}}var ks={readContext:_o,use:xa,useCallback:ca,useContext:ca,useEffect:ca,useImperativeHandle:ca,useLayoutEffect:ca,useInsertionEffect:ca,useMemo:ca,useReducer:ca,useRef:ca,useState:ca,useDebugValue:ca,useDeferredValue:ca,useTransition:ca,useSyncExternalStore:ca,useId:ca};ks.useCacheRefresh=ca,ks.useMemoCache=ca,ks.useHostTransitionStatus=ca,ks.useFormState=ca,ks.useActionState=ca,ks.useOptimistic=ca;var _s={readContext:_o,use:xa,useCallback:function(e,t){return va().memoizedState=[e,void 0===t?null:t],e},useContext:_o,useEffect:Xa,useImperativeHandle:function(e,t,n){n=null!==n&&void 0!==n?n.concat([e]):null,Ga(4194308,4,ts.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Ga(4194308,4,e,t)},useInsertionEffect:function(e,t){Ga(4,2,e,t)},useMemo:function(e,t){var n=va();t=void 0===t?null:t;var r=e();if(ia){be(!0);try{e()}finally{be(!1)}}return n.memoizedState=[r,t],r},useReducer:function(e,t,n){var r=va();if(void 0!==n){var i=n(t);if(ia){be(!0);try{n(t)}finally{be(!1)}}}else i=t;return r.memoizedState=r.baseState=i,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:i},r.queue=e,e=e.dispatch=ys.bind(null,Zi,e),[r.memoizedState,e]},useRef:function(e){return e={current:e},va().memoizedState=e},useState:function(e){var t=(e=Oa(e)).queue,n=vs.bind(null,Zi,t);return t.dispatch=n,[e.memoizedState,n]},useDebugValue:rs,useDeferredValue:function(e,t){return ss(va(),e,t)},useTransition:function(){var e=Oa(!1);return e=ls.bind(null,Zi,e.queue,!0,!1),va().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,t,n){var r=Zi,i=va();if(Yr){if(void 0===n)throw Error(s(407));n=n()}else{if(n=t(),null===tc)throw Error(s(349));0!==(60&rc)||Ia(r,t,n)}i.memoizedState=n;var a={value:n,getSnapshot:t};return i.queue=a,Xa(Pa.bind(null,r,a,e),[e]),r.flags|=2048,Qa(9,Aa.bind(null,r,a,n,t),{destroy:void 0},null),n},useId:function(){var e=va(),t=tc.identifierPrefix;if(Yr){var n=Br;t=":"+t+"R"+(n=(qr&~(1<<32-we(qr)-1)).toString(32)+n),0<(n=aa++)&&(t+="H"+n.toString(32)),t+=":"}else t=":"+t+"r"+(n=la++).toString(32)+":";return e.memoizedState=t},useCacheRefresh:function(){return va().memoizedState=gs.bind(null,Zi)}};_s.useMemoCache=Sa,_s.useHostTransitionStatus=fs,_s.useFormState=qa,_s.useActionState=qa,_s.useOptimistic=function(e){var t=va();t.memoizedState=t.baseState=e;var n={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return t.queue=n,t=ws.bind(null,Zi,!0,n),n.dispatch=t,[e,t]};var Cs={readContext:_o,use:xa,useCallback:is,useContext:_o,useEffect:Ja,useImperativeHandle:ns,useInsertionEffect:Za,useLayoutEffect:es,useMemo:as,useReducer:ka,useRef:Ka,useState:function(){return ka(Ea)},useDebugValue:rs,useDeferredValue:function(e,t){return os(ba(),ea.memoizedState,e,t)},useTransition:function(){var e=ka(Ea)[0],t=ba().memoizedState;return["boolean"===typeof e?e:wa(e),t]},useSyncExternalStore:Ta,useId:ps};Cs.useCacheRefresh=ms,Cs.useMemoCache=Sa,Cs.useHostTransitionStatus=fs,Cs.useFormState=Ba,Cs.useActionState=Ba,Cs.useOptimistic=function(e,t){return Da(ba(),0,e,t)};var Ts={readContext:_o,use:xa,useCallback:is,useContext:_o,useEffect:Ja,useImperativeHandle:ns,useInsertionEffect:Za,useLayoutEffect:es,useMemo:as,useReducer:Ca,useRef:Ka,useState:function(){return Ca(Ea)},useDebugValue:rs,useDeferredValue:function(e,t){var n=ba();return null===ea?ss(n,e,t):os(n,ea.memoizedState,e,t)},useTransition:function(){var e=Ca(Ea)[0],t=ba().memoizedState;return["boolean"===typeof e?e:wa(e),t]},useSyncExternalStore:Ta,useId:ps};function Is(e,t,n,r){n=null===(n=n(r,t=e.memoizedState))||void 0===n?t:N({},t,n),e.memoizedState=n,0===e.lanes&&(e.updateQueue.baseState=n)}Ts.useCacheRefresh=ms,Ts.useMemoCache=Sa,Ts.useHostTransitionStatus=fs,Ts.useFormState=Wa,Ts.useActionState=Wa,Ts.useOptimistic=function(e,t){var n=ba();return null!==ea?Da(n,0,e,t):(n.baseState=e,[e,n.queue.dispatch])};var As={isMounted:function(e){return!!(e=e._reactInternals)&&M(e)===e},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=Pc(),i=No(r);i.payload=t,void 0!==n&&null!==n&&(i.callback=n),null!==(t=Ro(e,i,r))&&(Rc(t,e,r),Oo(t,e,r))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=Pc(),i=No(r);i.tag=1,i.payload=t,void 0!==n&&null!==n&&(i.callback=n),null!==(t=Ro(e,i,r))&&(Rc(t,e,r),Oo(t,e,r))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=Pc(),r=No(n);r.tag=2,void 0!==t&&null!==t&&(r.callback=t),null!==(t=Ro(e,r,n))&&(Rc(t,e,n),Oo(t,e,n))}};function Ps(e,t,n,r,i,a,s){return"function"===typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(r,a,s):!t.prototype||!t.prototype.isPureReactComponent||(!Gn(n,r)||!Gn(i,a))}function Ns(e,t,n,r){e=t.state,"function"===typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,r),"function"===typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&As.enqueueReplaceState(t,t.state,null)}function Rs(e,t){var n=t;if("ref"in t)for(var r in n={},t)"ref"!==r&&(n[r]=t[r]);if(e=e.defaultProps)for(var i in n===t&&(n=N({},n)),e)void 0===n[i]&&(n[i]=e[i]);return n}var Os="function"===typeof reportError?reportError:function(e){if("object"===typeof window&&"function"===typeof window.ErrorEvent){var t=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:"object"===typeof e&&null!==e&&"string"===typeof e.message?String(e.message):String(e),error:e});if(!window.dispatchEvent(t))return}else if("object"===typeof process&&"function"===typeof process.emit)return void process.emit("uncaughtException",e);console.error(e)};function Ds(e){Os(e)}function js(e){console.error(e)}function Ls(e){Os(e)}function Ms(e,t){try{(0,e.onUncaughtError)(t.value,{componentStack:t.stack})}catch(n){setTimeout((function(){throw n}))}}function Fs(e,t,n){try{(0,e.onCaughtError)(n.value,{componentStack:n.stack,errorBoundary:1===t.tag?t.stateNode:null})}catch(r){setTimeout((function(){throw r}))}}function zs(e,t,n){return(n=No(n)).tag=3,n.payload={element:null},n.callback=function(){Ms(e,t)},n}function Us(e){return(e=No(e)).tag=3,e}function Vs(e,t,n,r){var i=n.type.getDerivedStateFromError;if("function"===typeof i){var a=r.value;e.payload=function(){return i(a)},e.callback=function(){Fs(t,n,r)}}var s=n.stateNode;null!==s&&"function"===typeof s.componentDidCatch&&(e.callback=function(){Fs(t,n,r),"function"!==typeof i&&(null===Sc?Sc=new Set([this]):Sc.add(this));var e=r.stack;this.componentDidCatch(r.value,{componentStack:null!==e?e:""})})}var qs=Error(s(461)),Bs=!1;function $s(e,t,n,r){t.child=null===e?Si(t,null,n,r):xi(t,e.child,n,r)}function Hs(e,t,n,r,i){n=n.render;var a=t.ref;if("ref"in r){var s={};for(var o in r)"ref"!==o&&(s[o]=r[o])}else s=r;return ko(t),r=da(e,t,n,s,a,i),o=ma(),null===e||Bs?(Yr&&o&&Wr(t),t.flags|=1,$s(e,t,r,i),t.child):(ga(e,t,i),ho(e,t,i))}function Ws(e,t,n,r,i){if(null===e){var a=n.type;return"function"!==typeof a||Ll(a)||void 0!==a.defaultProps||null!==n.compare?((e=zl(n.type,null,r,t,t.mode,i)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=a,Qs(e,t,a,r,i))}if(a=e.child,!fo(e,i)){var s=a.memoizedProps;if((n=null!==(n=n.compare)?n:Gn)(s,r)&&e.ref===t.ref)return ho(e,t,i)}return t.flags|=1,(e=Ml(a,r)).ref=t.ref,e.return=t,t.child=e}function Qs(e,t,n,r,i){if(null!==e){var a=e.memoizedProps;if(Gn(a,r)&&e.ref===t.ref){if(Bs=!1,t.pendingProps=r=a,!fo(e,i))return t.lanes=e.lanes,ho(e,t,i);0!==(131072&e.flags)&&(Bs=!0)}}return Xs(e,t,n,r,i)}function Ks(e,t,n){var r=t.pendingProps,i=r.children,a=0!==(2&t.stateNode._pendingVisibility),s=null!==e?e.memoizedState:null;if(Ys(e,t),"hidden"===r.mode||a){if(0!==(128&t.flags)){if(r=null!==s?s.baseLanes|n:n,null!==e){for(i=t.child=e.child,a=0;null!==i;)a=a|i.lanes|i.childLanes,i=i.sibling;t.childLanes=a&~r}else t.childLanes=0,t.child=null;return Gs(e,t,r,n)}if(0===(536870912&n))return t.lanes=t.childLanes=536870912,Gs(e,t,null!==s?s.baseLanes|n:n,n);t.memoizedState={baseLanes:0,cachePool:null},null!==e&&Yi(0,null!==s?s.cachePool:null),null!==s?_i(t,s):Ci(),Ni(t)}else null!==s?(Yi(0,s.cachePool),_i(t,s),Ri(),t.memoizedState=null):(null!==e&&Yi(0,null),Ci(),Ri());return $s(e,t,i,n),t.child}function Gs(e,t,n,r){var i=Gi();return i=null===i?null:{parent:zi._currentValue,pool:i},t.memoizedState={baseLanes:n,cachePool:i},null!==e&&Yi(0,null),Ci(),Ni(t),null!==e&&So(e,t,r,!0),null}function Ys(e,t){var n=t.ref;if(null===n)null!==e&&null!==e.ref&&(t.flags|=2097664);else{if("function"!==typeof n&&"object"!==typeof n)throw Error(s(284));null!==e&&e.ref===n||(t.flags|=2097664)}}function Xs(e,t,n,r,i){return ko(t),n=da(e,t,n,r,void 0,i),r=ma(),null===e||Bs?(Yr&&r&&Wr(t),t.flags|=1,$s(e,t,n,i),t.child):(ga(e,t,i),ho(e,t,i))}function Js(e,t,n,r,i,a){return ko(t),t.updateQueue=null,n=fa(t,r,n,i),ha(e),r=ma(),null===e||Bs?(Yr&&r&&Wr(t),t.flags|=1,$s(e,t,n,a),t.child):(ga(e,t,a),ho(e,t,a))}function Zs(e,t,n,r,i){if(ko(t),null===t.stateNode){var a=Rr,s=n.contextType;"object"===typeof s&&null!==s&&(a=_o(s)),a=new n(r,a),t.memoizedState=null!==a.state&&void 0!==a.state?a.state:null,a.updater=As,t.stateNode=a,a._reactInternals=t,(a=t.stateNode).props=r,a.state=t.memoizedState,a.refs={},Ao(t),s=n.contextType,a.context="object"===typeof s&&null!==s?_o(s):Rr,a.state=t.memoizedState,"function"===typeof(s=n.getDerivedStateFromProps)&&(Is(t,n,s,r),a.state=t.memoizedState),"function"===typeof n.getDerivedStateFromProps||"function"===typeof a.getSnapshotBeforeUpdate||"function"!==typeof a.UNSAFE_componentWillMount&&"function"!==typeof a.componentWillMount||(s=a.state,"function"===typeof a.componentWillMount&&a.componentWillMount(),"function"===typeof a.UNSAFE_componentWillMount&&a.UNSAFE_componentWillMount(),s!==a.state&&As.enqueueReplaceState(a,a.state,null),Mo(t,r,a,i),Lo(),a.state=t.memoizedState),"function"===typeof a.componentDidMount&&(t.flags|=4194308),r=!0}else if(null===e){a=t.stateNode;var o=t.memoizedProps,l=Rs(n,o);a.props=l;var c=a.context,u=n.contextType;s=Rr,"object"===typeof u&&null!==u&&(s=_o(u));var d=n.getDerivedStateFromProps;u="function"===typeof d||"function"===typeof a.getSnapshotBeforeUpdate,o=t.pendingProps!==o,u||"function"!==typeof a.UNSAFE_componentWillReceiveProps&&"function"!==typeof a.componentWillReceiveProps||(o||c!==s)&&Ns(t,a,r,s),Io=!1;var h=t.memoizedState;a.state=h,Mo(t,r,a,i),Lo(),c=t.memoizedState,o||h!==c||Io?("function"===typeof d&&(Is(t,n,d,r),c=t.memoizedState),(l=Io||Ps(t,n,l,r,h,c,s))?(u||"function"!==typeof a.UNSAFE_componentWillMount&&"function"!==typeof a.componentWillMount||("function"===typeof a.componentWillMount&&a.componentWillMount(),"function"===typeof a.UNSAFE_componentWillMount&&a.UNSAFE_componentWillMount()),"function"===typeof a.componentDidMount&&(t.flags|=4194308)):("function"===typeof a.componentDidMount&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=c),a.props=r,a.state=c,a.context=s,r=l):("function"===typeof a.componentDidMount&&(t.flags|=4194308),r=!1)}else{a=t.stateNode,Po(e,t),u=Rs(n,s=t.memoizedProps),a.props=u,d=t.pendingProps,h=a.context,c=n.contextType,l=Rr,"object"===typeof c&&null!==c&&(l=_o(c)),(c="function"===typeof(o=n.getDerivedStateFromProps)||"function"===typeof a.getSnapshotBeforeUpdate)||"function"!==typeof a.UNSAFE_componentWillReceiveProps&&"function"!==typeof a.componentWillReceiveProps||(s!==d||h!==l)&&Ns(t,a,r,l),Io=!1,h=t.memoizedState,a.state=h,Mo(t,r,a,i),Lo();var f=t.memoizedState;s!==d||h!==f||Io||null!==e&&null!==e.dependencies&&Eo(e.dependencies)?("function"===typeof o&&(Is(t,n,o,r),f=t.memoizedState),(u=Io||Ps(t,n,u,r,h,f,l)||null!==e&&null!==e.dependencies&&Eo(e.dependencies))?(c||"function"!==typeof a.UNSAFE_componentWillUpdate&&"function"!==typeof a.componentWillUpdate||("function"===typeof a.componentWillUpdate&&a.componentWillUpdate(r,f,l),"function"===typeof a.UNSAFE_componentWillUpdate&&a.UNSAFE_componentWillUpdate(r,f,l)),"function"===typeof a.componentDidUpdate&&(t.flags|=4),"function"===typeof a.getSnapshotBeforeUpdate&&(t.flags|=1024)):("function"!==typeof a.componentDidUpdate||s===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!==typeof a.getSnapshotBeforeUpdate||s===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=f),a.props=r,a.state=f,a.context=l,r=u):("function"!==typeof a.componentDidUpdate||s===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!==typeof a.getSnapshotBeforeUpdate||s===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),r=!1)}return a=r,Ys(e,t),r=0!==(128&t.flags),a||r?(a=t.stateNode,n=r&&"function"!==typeof n.getDerivedStateFromError?null:a.render(),t.flags|=1,null!==e&&r?(t.child=xi(t,e.child,null,i),t.child=xi(t,null,n,i)):$s(e,t,n,i),t.memoizedState=a.state,e=t.child):e=ho(e,t,i),e}function eo(e,t,n,r){return ii(),t.flags|=256,$s(e,t,n,r),t.child}var to={dehydrated:null,treeContext:null,retryLane:0};function no(e){return{baseLanes:e,cachePool:Xi()}}function ro(e,t,n){return e=null!==e?e.childLanes&~n:0,t&&(e|=pc),e}function io(e,t,n){var r,i=t.pendingProps,a=!1,o=0!==(128&t.flags);if((r=o)||(r=(null===e||null!==e.memoizedState)&&0!==(2&Di.current)),r&&(a=!0,t.flags&=-129),r=0!==(32&t.flags),t.flags&=-33,null===e){if(Yr){if(a?Pi(t):Ri(),Yr){var l,c=Gr;if(l=c){e:{for(l=c,c=Jr;8!==l.nodeType;){if(!c){c=null;break e}if(null===(l=od(l.nextSibling))){c=null;break e}}c=l}null!==c?(t.memoizedState={dehydrated:c,treeContext:null!==Vr?{id:qr,overflow:Br}:null,retryLane:536870912},(l=jl(18,null,null,0)).stateNode=c,l.return=t,t.child=l,Kr=t,Gr=null,l=!0):l=!1}l||ei(t)}if(null!==(c=t.memoizedState)&&null!==(c=c.dehydrated))return"$!"===c.data?t.lanes=16:t.lanes=536870912,null;Oi(t)}return c=i.children,i=i.fallback,a?(Ri(),c=so({mode:"hidden",children:c},a=t.mode),i=Ul(i,a,n,null),c.return=t,i.return=t,c.sibling=i,t.child=c,(a=t.child).memoizedState=no(n),a.childLanes=ro(e,r,n),t.memoizedState=to,i):(Pi(t),ao(t,c))}if(null!==(l=e.memoizedState)&&null!==(c=l.dehydrated)){if(o)256&t.flags?(Pi(t),t.flags&=-257,t=oo(e,t,n)):null!==t.memoizedState?(Ri(),t.child=e.child,t.flags|=128,t=null):(Ri(),a=i.fallback,c=t.mode,i=so({mode:"visible",children:i.children},c),(a=Ul(a,c,n,null)).flags|=2,i.return=t,a.return=t,i.sibling=a,t.child=i,xi(t,e.child,null,n),(i=t.child).memoizedState=no(n),i.childLanes=ro(e,r,n),t.memoizedState=to,t=a);else if(Pi(t),"$!"===c.data){if(r=c.nextSibling&&c.nextSibling.dataset)var u=r.dgst;r=u,(i=Error(s(419))).stack="",i.digest=r,ai({value:i,source:null,stack:null}),t=oo(e,t,n)}else if(Bs||So(e,t,n,!1),r=0!==(n&e.childLanes),Bs||r){if(null!==(r=tc)){if(0!==(42&(i=n&-n)))i=1;else switch(i){case 2:i=1;break;case 8:i=4;break;case 32:i=16;break;case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:i=64;break;case 268435456:i=134217728;break;default:i=0}if(0!==(i=0!==(i&(r.suspendedLanes|n))?0:i)&&i!==l.retryLane)throw l.retryLane=i,Ar(e,i),Rc(r,e,i),qs}"$?"===c.data||$c(),t=oo(e,t,n)}else"$?"===c.data?(t.flags|=128,t.child=e.child,t=ou.bind(null,e),c._reactRetry=t,t=null):(e=l.treeContext,Gr=od(c.nextSibling),Kr=t,Yr=!0,Xr=null,Jr=!1,null!==e&&(zr[Ur++]=qr,zr[Ur++]=Br,zr[Ur++]=Vr,qr=e.id,Br=e.overflow,Vr=t),(t=ao(t,i.children)).flags|=4096);return t}return a?(Ri(),a=i.fallback,c=t.mode,u=(l=e.child).sibling,(i=Ml(l,{mode:"hidden",children:i.children})).subtreeFlags=31457280&l.subtreeFlags,null!==u?a=Ml(u,a):(a=Ul(a,c,n,null)).flags|=2,a.return=t,i.return=t,i.sibling=a,t.child=i,i=a,a=t.child,null===(c=e.child.memoizedState)?c=no(n):(null!==(l=c.cachePool)?(u=zi._currentValue,l=l.parent!==u?{parent:u,pool:u}:l):l=Xi(),c={baseLanes:c.baseLanes|n,cachePool:l}),a.memoizedState=c,a.childLanes=ro(e,r,n),t.memoizedState=to,i):(Pi(t),e=(n=e.child).sibling,(n=Ml(n,{mode:"visible",children:i.children})).return=t,n.sibling=null,null!==e&&(null===(r=t.deletions)?(t.deletions=[e],t.flags|=16):r.push(e)),t.child=n,t.memoizedState=null,n)}function ao(e,t){return(t=so({mode:"visible",children:t},e.mode)).return=e,e.child=t}function so(e,t){return Vl(e,t,0,null)}function oo(e,t,n){return xi(t,e.child,null,n),(e=ao(t,t.pendingProps.children)).flags|=2,t.memoizedState=null,e}function lo(e,t,n){e.lanes|=t;var r=e.alternate;null!==r&&(r.lanes|=t),wo(e.return,t,n)}function co(e,t,n,r,i){var a=e.memoizedState;null===a?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(a.isBackwards=t,a.rendering=null,a.renderingStartTime=0,a.last=r,a.tail=n,a.tailMode=i)}function uo(e,t,n){var r=t.pendingProps,i=r.revealOrder,a=r.tail;if($s(e,t,r.children,n),0!==(2&(r=Di.current)))r=1&r|2,t.flags|=128;else{if(null!==e&&0!==(128&e.flags))e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&lo(e,n,t);else if(19===e.tag)lo(e,n,t);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}switch(K(Di,r),i){case"forwards":for(n=t.child,i=null;null!==n;)null!==(e=n.alternate)&&null===ji(e)&&(i=n),n=n.sibling;null===(n=i)?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),co(t,!1,i,n,a);break;case"backwards":for(n=null,i=t.child,t.child=null;null!==i;){if(null!==(e=i.alternate)&&null===ji(e)){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}co(t,!0,n,null,a);break;case"together":co(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function ho(e,t,n){if(null!==e&&(t.dependencies=e.dependencies),dc|=t.lanes,0===(n&t.childLanes)){if(null===e)return null;if(So(e,t,n,!1),0===(n&t.childLanes))return null}if(null!==e&&t.child!==e.child)throw Error(s(153));if(null!==t.child){for(n=Ml(e=t.child,e.pendingProps),t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=Ml(e,e.pendingProps)).return=t;n.sibling=null}return t.child}function fo(e,t){return 0!==(e.lanes&t)||!(null===(e=e.dependencies)||!Eo(e))}function po(e,t,n){if(null!==e)if(e.memoizedProps!==t.pendingProps)Bs=!0;else{if(!fo(e,n)&&0===(128&t.flags))return Bs=!1,function(e,t,n){switch(t.tag){case 3:Z(t,t.stateNode.containerInfo),vo(t,zi,e.memoizedState.cache),ii();break;case 27:case 5:te(t);break;case 4:Z(t,t.stateNode.containerInfo);break;case 10:vo(t,t.type,t.memoizedProps.value);break;case 13:var r=t.memoizedState;if(null!==r)return null!==r.dehydrated?(Pi(t),t.flags|=128,null):0!==(n&t.child.childLanes)?io(e,t,n):(Pi(t),null!==(e=ho(e,t,n))?e.sibling:null);Pi(t);break;case 19:var i=0!==(128&e.flags);if((r=0!==(n&t.childLanes))||(So(e,t,n,!1),r=0!==(n&t.childLanes)),i){if(r)return uo(e,t,n);t.flags|=128}if(null!==(i=t.memoizedState)&&(i.rendering=null,i.tail=null,i.lastEffect=null),K(Di,Di.current),r)break;return null;case 22:case 23:return t.lanes=0,Ks(e,t,n);case 24:vo(t,zi,e.memoizedState.cache)}return ho(e,t,n)}(e,t,n);Bs=0!==(131072&e.flags)}else Bs=!1,Yr&&0!==(1048576&t.flags)&&Hr(t,Fr,t.index);switch(t.lanes=0,t.tag){case 16:e:{e=t.pendingProps;var r=t.elementType,i=r._init;if(r=i(r._payload),t.type=r,"function"!==typeof r){if(void 0!==r&&null!==r){if((i=r.$$typeof)===y){t.tag=11,t=Hs(null,t,r,e,n);break e}if(i===w){t.tag=14,t=Ws(null,t,r,e,n);break e}}throw t=T(r)||r,Error(s(306,t,""))}Ll(r)?(e=Rs(r,e),t.tag=1,t=Zs(null,t,r,e,n)):(t.tag=0,t=Xs(null,t,r,e,n))}return t;case 0:return Xs(e,t,t.type,t.pendingProps,n);case 1:return Zs(e,t,r=t.type,i=Rs(r,t.pendingProps),n);case 3:e:{if(Z(t,t.stateNode.containerInfo),null===e)throw Error(s(387));var a=t.pendingProps;r=(i=t.memoizedState).element,Po(e,t),Mo(t,a,null,n);var o=t.memoizedState;if(a=o.cache,vo(t,zi,a),a!==i.cache&&xo(t,[zi],n,!0),Lo(),a=o.element,i.isDehydrated){if(i={element:a,isDehydrated:!1,cache:o.cache},t.updateQueue.baseState=i,t.memoizedState=i,256&t.flags){t=eo(e,t,a,n);break e}if(a!==r){ai(r=Dr(Error(s(424)),t)),t=eo(e,t,a,n);break e}for(Gr=od(t.stateNode.containerInfo.firstChild),Kr=t,Yr=!0,Xr=null,Jr=!0,n=Si(t,null,a,n),t.child=n;n;)n.flags=-3&n.flags|4096,n=n.sibling}else{if(ii(),a===r){t=ho(e,t,n);break e}$s(e,t,a,n)}t=t.child}return t;case 26:return Ys(e,t),null===e?(n=gd(t.type,null,t.pendingProps,null))?t.memoizedState=n:Yr||(n=t.type,e=t.pendingProps,(r=Gu(X.current).createElement(n))[Fe]=t,r[ze]=e,Wu(r,n,e),Xe(r),t.stateNode=r):t.memoizedState=gd(t.type,e.memoizedProps,t.pendingProps,e.memoizedState),null;case 27:return te(t),null===e&&Yr&&(r=t.stateNode=cd(t.type,t.pendingProps,X.current),Kr=t,Jr=!0,Gr=od(r.firstChild)),r=t.pendingProps.children,null!==e||Yr?$s(e,t,r,n):t.child=xi(t,null,r,n),Ys(e,t),t.child;case 5:return null===e&&Yr&&((i=r=Gr)&&(null!==(r=function(e,t,n,r){for(;1===e.nodeType;){var i=n;if(e.nodeName.toLowerCase()!==t.toLowerCase()){if(!r&&("INPUT"!==e.nodeName||"hidden"!==e.type))break}else if(r){if(!e[He])switch(t){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if("stylesheet"===(a=e.getAttribute("rel"))&&e.hasAttribute("data-precedence"))break;if(a!==i.rel||e.getAttribute("href")!==(null==i.href?null:i.href)||e.getAttribute("crossorigin")!==(null==i.crossOrigin?null:i.crossOrigin)||e.getAttribute("title")!==(null==i.title?null:i.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(((a=e.getAttribute("src"))!==(null==i.src?null:i.src)||e.getAttribute("type")!==(null==i.type?null:i.type)||e.getAttribute("crossorigin")!==(null==i.crossOrigin?null:i.crossOrigin))&&a&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else{if("input"!==t||"hidden"!==e.type)return e;var a=null==i.name?null:""+i.name;if("hidden"===i.type&&e.getAttribute("name")===a)return e}if(null===(e=od(e.nextSibling)))break}return null}(r,t.type,t.pendingProps,Jr))?(t.stateNode=r,Kr=t,Gr=od(r.firstChild),Jr=!1,i=!0):i=!1),i||ei(t)),te(t),i=t.type,a=t.pendingProps,o=null!==e?e.memoizedProps:null,r=a.children,Ju(i,a)?r=null:null!==o&&Ju(i,o)&&(t.flags|=32),null!==t.memoizedState&&(i=da(e,t,pa,null,null,n),Ld._currentValue=i),Ys(e,t),$s(e,t,r,n),t.child;case 6:return null===e&&Yr&&((e=n=Gr)&&(null!==(n=function(e,t,n){if(""===t)return null;for(;3!==e.nodeType;){if((1!==e.nodeType||"INPUT"!==e.nodeName||"hidden"!==e.type)&&!n)return null;if(null===(e=od(e.nextSibling)))return null}return e}(n,t.pendingProps,Jr))?(t.stateNode=n,Kr=t,Gr=null,e=!0):e=!1),e||ei(t)),null;case 13:return io(e,t,n);case 4:return Z(t,t.stateNode.containerInfo),r=t.pendingProps,null===e?t.child=xi(t,null,r,n):$s(e,t,r,n),t.child;case 11:return Hs(e,t,t.type,t.pendingProps,n);case 7:return $s(e,t,t.pendingProps,n),t.child;case 8:case 12:return $s(e,t,t.pendingProps.children,n),t.child;case 10:return r=t.pendingProps,vo(t,t.type,r.value),$s(e,t,r.children,n),t.child;case 9:return i=t.type._context,r=t.pendingProps.children,ko(t),r=r(i=_o(i)),t.flags|=1,$s(e,t,r,n),t.child;case 14:return Ws(e,t,t.type,t.pendingProps,n);case 15:return Qs(e,t,t.type,t.pendingProps,n);case 19:return uo(e,t,n);case 22:return Ks(e,t,n);case 24:return ko(t),r=_o(zi),null===e?(null===(i=Gi())&&(i=tc,a=Ui(),i.pooledCache=a,a.refCount++,null!==a&&(i.pooledCacheLanes|=n),i=a),t.memoizedState={parent:r,cache:i},Ao(t),vo(t,zi,i)):(0!==(e.lanes&n)&&(Po(e,t),Mo(t,null,null,n),Lo()),i=e.memoizedState,a=t.memoizedState,i.parent!==r?(i={parent:r,cache:r},t.memoizedState=i,0===t.lanes&&(t.memoizedState=t.updateQueue.baseState=i),vo(t,zi,r)):(r=a.cache,vo(t,zi,r),r!==i.cache&&xo(t,[zi],n,!0))),$s(e,t,t.pendingProps.children,n),t.child;case 29:throw t.pendingProps}throw Error(s(156,t.tag))}var mo=W(null),go=null,yo=null;function vo(e,t,n){K(mo,t._currentValue),t._currentValue=n}function bo(e){e._currentValue=mo.current,Q(mo)}function wo(e,t,n){for(;null!==e;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,null!==r&&(r.childLanes|=t)):null!==r&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function xo(e,t,n,r){var i=e.child;for(null!==i&&(i.return=e);null!==i;){var a=i.dependencies;if(null!==a){var o=i.child;a=a.firstContext;e:for(;null!==a;){var l=a;a=i;for(var c=0;c<t.length;c++)if(l.context===t[c]){a.lanes|=n,null!==(l=a.alternate)&&(l.lanes|=n),wo(a.return,n,e),r||(o=null);break e}a=l.next}}else if(18===i.tag){if(null===(o=i.return))throw Error(s(341));o.lanes|=n,null!==(a=o.alternate)&&(a.lanes|=n),wo(o,n,e),o=null}else o=i.child;if(null!==o)o.return=i;else for(o=i;null!==o;){if(o===e){o=null;break}if(null!==(i=o.sibling)){i.return=o.return,o=i;break}o=o.return}i=o}}function So(e,t,n,r){e=null;for(var i=t,a=!1;null!==i;){if(!a)if(0!==(524288&i.flags))a=!0;else if(0!==(262144&i.flags))break;if(10===i.tag){var o=i.alternate;if(null===o)throw Error(s(387));if(null!==(o=o.memoizedProps)){var l=i.type;Kn(i.pendingProps.value,o.value)||(null!==e?e.push(l):e=[l])}}else if(i===J.current){if(null===(o=i.alternate))throw Error(s(387));o.memoizedState.memoizedState!==i.memoizedState.memoizedState&&(null!==e?e.push(Ld):e=[Ld])}i=i.return}null!==e&&xo(t,e,n,r),t.flags|=262144}function Eo(e){for(e=e.firstContext;null!==e;){if(!Kn(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function ko(e){go=e,yo=null,null!==(e=e.dependencies)&&(e.firstContext=null)}function _o(e){return To(go,e)}function Co(e,t){return null===go&&ko(e),To(e,t)}function To(e,t){var n=t._currentValue;if(t={context:t,memoizedValue:n,next:null},null===yo){if(null===e)throw Error(s(308));yo=t,e.dependencies={lanes:0,firstContext:t},e.flags|=524288}else yo=yo.next=t;return n}var Io=!1;function Ao(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Po(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function No(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function Ro(e,t,n){var r=e.updateQueue;if(null===r)return null;if(r=r.shared,0!==(2&ec)){var i=r.pending;return null===i?t.next=t:(t.next=i.next,i.next=t),r.pending=t,t=Nr(e),Pr(e,null,n),t}return Tr(e,r,t,n),Nr(e)}function Oo(e,t,n){if(null!==(t=t.updateQueue)&&(t=t.shared,0!==(4194176&n))){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,De(e,n)}}function Do(e,t){var n=e.updateQueue,r=e.alternate;if(null!==r&&n===(r=r.updateQueue)){var i=null,a=null;if(null!==(n=n.firstBaseUpdate)){do{var s={lane:n.lane,tag:n.tag,payload:n.payload,callback:null,next:null};null===a?i=a=s:a=a.next=s,n=n.next}while(null!==n);null===a?i=a=t:a=a.next=t}else i=a=t;return n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:a,shared:r.shared,callbacks:r.callbacks},void(e.updateQueue=n)}null===(e=n.lastBaseUpdate)?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}var jo=!1;function Lo(){if(jo){if(null!==Hi)throw Hi}}function Mo(e,t,n,r){jo=!1;var i=e.updateQueue;Io=!1;var a=i.firstBaseUpdate,s=i.lastBaseUpdate,o=i.shared.pending;if(null!==o){i.shared.pending=null;var l=o,c=l.next;l.next=null,null===s?a=c:s.next=c,s=l;var u=e.alternate;null!==u&&((o=(u=u.updateQueue).lastBaseUpdate)!==s&&(null===o?u.firstBaseUpdate=c:o.next=c,u.lastBaseUpdate=l))}if(null!==a){var d=i.baseState;for(s=0,u=c=l=null,o=a;;){var h=-536870913&o.lane,f=h!==o.lane;if(f?(rc&h)===h:(r&h)===h){0!==h&&h===$i&&(jo=!0),null!==u&&(u=u.next={lane:0,tag:o.tag,payload:o.payload,callback:null,next:null});e:{var p=e,m=o;h=t;var g=n;switch(m.tag){case 1:if("function"===typeof(p=m.payload)){d=p.call(g,d,h);break e}d=p;break e;case 3:p.flags=-65537&p.flags|128;case 0:if(null===(h="function"===typeof(p=m.payload)?p.call(g,d,h):p)||void 0===h)break e;d=N({},d,h);break e;case 2:Io=!0}}null!==(h=o.callback)&&(e.flags|=64,f&&(e.flags|=8192),null===(f=i.callbacks)?i.callbacks=[h]:f.push(h))}else f={lane:h,tag:o.tag,payload:o.payload,callback:o.callback,next:null},null===u?(c=u=f,l=d):u=u.next=f,s|=h;if(null===(o=o.next)){if(null===(o=i.shared.pending))break;o=(f=o).next,f.next=null,i.lastBaseUpdate=f,i.shared.pending=null}}null===u&&(l=d),i.baseState=l,i.firstBaseUpdate=c,i.lastBaseUpdate=u,null===a&&(i.shared.lanes=0),dc|=s,e.lanes=s,e.memoizedState=d}}function Fo(e,t){if("function"!==typeof e)throw Error(s(191,e));e.call(t)}function zo(e,t){var n=e.callbacks;if(null!==n)for(e.callbacks=null,e=0;e<n.length;e++)Fo(n[e],t)}function Uo(e,t){try{var n=t.updateQueue,r=null!==n?n.lastEffect:null;if(null!==r){var i=r.next;n=i;do{if((n.tag&e)===e){r=void 0;var a=n.create,s=n.inst;r=a(),s.destroy=r}n=n.next}while(n!==i)}}catch(o){ru(t,t.return,o)}}function Vo(e,t,n){try{var r=t.updateQueue,i=null!==r?r.lastEffect:null;if(null!==i){var a=i.next;r=a;do{if((r.tag&e)===e){var s=r.inst,o=s.destroy;if(void 0!==o){s.destroy=void 0,i=t;var l=n;try{o()}catch(c){ru(i,l,c)}}}r=r.next}while(r!==a)}}catch(c){ru(t,t.return,c)}}function qo(e){var t=e.updateQueue;if(null!==t){var n=e.stateNode;try{zo(t,n)}catch(r){ru(e,e.return,r)}}}function Bo(e,t,n){n.props=Rs(e.type,e.memoizedProps),n.state=e.memoizedState;try{n.componentWillUnmount()}catch(r){ru(e,t,r)}}function $o(e,t){try{var n=e.ref;if(null!==n){var r=e.stateNode;switch(e.tag){case 26:case 27:case 5:var i=r;break;default:i=r}"function"===typeof n?e.refCleanup=n(i):n.current=i}}catch(a){ru(e,t,a)}}function Ho(e,t){var n=e.ref,r=e.refCleanup;if(null!==n)if("function"===typeof r)try{r()}catch(i){ru(e,t,i)}finally{e.refCleanup=null,null!=(e=e.alternate)&&(e.refCleanup=null)}else if("function"===typeof n)try{n(null)}catch(a){ru(e,t,a)}else n.current=null}function Wo(e){var t=e.type,n=e.memoizedProps,r=e.stateNode;try{e:switch(t){case"button":case"input":case"select":case"textarea":n.autoFocus&&r.focus();break e;case"img":n.src?r.src=n.src:n.srcSet&&(r.srcset=n.srcSet)}}catch(i){ru(e,e.return,i)}}function Qo(e,t,n){try{var r=e.stateNode;!function(e,t,n,r){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var i=null,a=null,o=null,l=null,c=null,u=null,d=null;for(p in n){var h=n[p];if(n.hasOwnProperty(p)&&null!=h)switch(p){case"checked":case"value":break;case"defaultValue":c=h;default:r.hasOwnProperty(p)||$u(e,t,p,null,r,h)}}for(var f in r){var p=r[f];if(h=n[f],r.hasOwnProperty(f)&&(null!=p||null!=h))switch(f){case"type":a=p;break;case"name":i=p;break;case"checked":u=p;break;case"defaultChecked":d=p;break;case"value":o=p;break;case"defaultValue":l=p;break;case"children":case"dangerouslySetInnerHTML":if(null!=p)throw Error(s(137,t));break;default:p!==h&&$u(e,t,f,p,r,h)}}return void gt(e,o,l,c,u,d,a,i);case"select":for(a in p=o=l=f=null,n)if(c=n[a],n.hasOwnProperty(a)&&null!=c)switch(a){case"value":break;case"multiple":p=c;default:r.hasOwnProperty(a)||$u(e,t,a,null,r,c)}for(i in r)if(a=r[i],c=n[i],r.hasOwnProperty(i)&&(null!=a||null!=c))switch(i){case"value":f=a;break;case"defaultValue":l=a;break;case"multiple":o=a;default:a!==c&&$u(e,t,i,a,r,c)}return t=l,n=o,r=p,void(null!=f?bt(e,!!n,f,!1):!!r!==!!n&&(null!=t?bt(e,!!n,t,!0):bt(e,!!n,n?[]:"",!1)));case"textarea":for(l in p=f=null,n)if(i=n[l],n.hasOwnProperty(l)&&null!=i&&!r.hasOwnProperty(l))switch(l){case"value":case"children":break;default:$u(e,t,l,null,r,i)}for(o in r)if(i=r[o],a=n[o],r.hasOwnProperty(o)&&(null!=i||null!=a))switch(o){case"value":f=i;break;case"defaultValue":p=i;break;case"children":break;case"dangerouslySetInnerHTML":if(null!=i)throw Error(s(91));break;default:i!==a&&$u(e,t,o,i,r,a)}return void wt(e,f,p);case"option":for(var m in n)if(f=n[m],n.hasOwnProperty(m)&&null!=f&&!r.hasOwnProperty(m))if("selected"===m)e.selected=!1;else $u(e,t,m,null,r,f);for(c in r)if(f=r[c],p=n[c],r.hasOwnProperty(c)&&f!==p&&(null!=f||null!=p))if("selected"===c)e.selected=f&&"function"!==typeof f&&"symbol"!==typeof f;else $u(e,t,c,f,r,p);return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var g in n)f=n[g],n.hasOwnProperty(g)&&null!=f&&!r.hasOwnProperty(g)&&$u(e,t,g,null,r,f);for(u in r)if(f=r[u],p=n[u],r.hasOwnProperty(u)&&f!==p&&(null!=f||null!=p))switch(u){case"children":case"dangerouslySetInnerHTML":if(null!=f)throw Error(s(137,t));break;default:$u(e,t,u,f,r,p)}return;default:if(Ct(t)){for(var y in n)f=n[y],n.hasOwnProperty(y)&&void 0!==f&&!r.hasOwnProperty(y)&&Hu(e,t,y,void 0,r,f);for(d in r)f=r[d],p=n[d],!r.hasOwnProperty(d)||f===p||void 0===f&&void 0===p||Hu(e,t,d,f,r,p);return}}for(var v in n)f=n[v],n.hasOwnProperty(v)&&null!=f&&!r.hasOwnProperty(v)&&$u(e,t,v,null,r,f);for(h in r)f=r[h],p=n[h],!r.hasOwnProperty(h)||f===p||null==f&&null==p||$u(e,t,h,f,r,p)}(r,e.type,n,t),r[ze]=t}catch(i){ru(e,e.return,i)}}function Ko(e){return 5===e.tag||3===e.tag||26===e.tag||27===e.tag||4===e.tag}function Go(e){e:for(;;){for(;null===e.sibling;){if(null===e.return||Ko(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;5!==e.tag&&6!==e.tag&&27!==e.tag&&18!==e.tag;){if(2&e.flags)continue e;if(null===e.child||4===e.tag)continue e;e.child.return=e,e=e.child}if(!(2&e.flags))return e.stateNode}}function Yo(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?8===n.nodeType?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(8===n.nodeType?(t=n.parentNode).insertBefore(e,n):(t=n).appendChild(e),null!==(n=n._reactRootContainer)&&void 0!==n||null!==t.onclick||(t.onclick=Bu));else if(4!==r&&27!==r&&null!==(e=e.child))for(Yo(e,t,n),e=e.sibling;null!==e;)Yo(e,t,n),e=e.sibling}function Xo(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(4!==r&&27!==r&&null!==(e=e.child))for(Xo(e,t,n),e=e.sibling;null!==e;)Xo(e,t,n),e=e.sibling}var Jo=!1,Zo=!1,el=!1,tl="function"===typeof WeakSet?WeakSet:Set,nl=null,rl=!1;function il(e,t,n){var r=n.flags;switch(n.tag){case 0:case 11:case 15:yl(e,n),4&r&&Uo(5,n);break;case 1:if(yl(e,n),4&r)if(e=n.stateNode,null===t)try{e.componentDidMount()}catch(o){ru(n,n.return,o)}else{var i=Rs(n.type,t.memoizedProps);t=t.memoizedState;try{e.componentDidUpdate(i,t,e.__reactInternalSnapshotBeforeUpdate)}catch(l){ru(n,n.return,l)}}64&r&&qo(n),512&r&&$o(n,n.return);break;case 3:if(yl(e,n),64&r&&null!==(r=n.updateQueue)){if(e=null,null!==n.child)switch(n.child.tag){case 27:case 5:case 1:e=n.child.stateNode}try{zo(r,e)}catch(o){ru(n,n.return,o)}}break;case 26:yl(e,n),512&r&&$o(n,n.return);break;case 27:case 5:yl(e,n),null===t&&4&r&&Wo(n),512&r&&$o(n,n.return);break;case 12:default:yl(e,n);break;case 13:yl(e,n),4&r&&ul(e,n);break;case 22:if(!(i=null!==n.memoizedState||Jo)){t=null!==t&&null!==t.memoizedState||Zo;var a=Jo,s=Zo;Jo=i,(Zo=t)&&!s?bl(e,n,0!==(8772&n.subtreeFlags)):yl(e,n),Jo=a,Zo=s}512&r&&("manual"===n.memoizedProps.mode?$o(n,n.return):Ho(n,n.return))}}function al(e){var t=e.alternate;null!==t&&(e.alternate=null,al(t)),e.child=null,e.deletions=null,e.sibling=null,5===e.tag&&(null!==(t=e.stateNode)&&We(t)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var sl=null,ol=!1;function ll(e,t,n){for(n=n.child;null!==n;)cl(e,t,n),n=n.sibling}function cl(e,t,n){if(ve&&"function"===typeof ve.onCommitFiberUnmount)try{ve.onCommitFiberUnmount(ye,n)}catch(s){}switch(n.tag){case 26:Zo||Ho(n,t),ll(e,t,n),n.memoizedState?n.memoizedState.count--:n.stateNode&&(n=n.stateNode).parentNode.removeChild(n);break;case 27:Zo||Ho(n,t);var r=sl,i=ol;for(sl=n.stateNode,ll(e,t,n),t=(n=n.stateNode).attributes;t.length;)n.removeAttributeNode(t[0]);We(n),sl=r,ol=i;break;case 5:Zo||Ho(n,t);case 6:i=sl;var a=ol;if(sl=null,ll(e,t,n),ol=a,null!==(sl=i))if(ol)try{e=sl,r=n.stateNode,8===e.nodeType?e.parentNode.removeChild(r):e.removeChild(r)}catch(o){ru(n,t,o)}else try{sl.removeChild(n.stateNode)}catch(o){ru(n,t,o)}break;case 18:null!==sl&&(ol?(t=sl,n=n.stateNode,8===t.nodeType?ad(t.parentNode,n):1===t.nodeType&&ad(t,n),mh(t)):ad(sl,n.stateNode));break;case 4:r=sl,i=ol,sl=n.stateNode.containerInfo,ol=!0,ll(e,t,n),sl=r,ol=i;break;case 0:case 11:case 14:case 15:Zo||Vo(2,n,t),Zo||Vo(4,n,t),ll(e,t,n);break;case 1:Zo||(Ho(n,t),"function"===typeof(r=n.stateNode).componentWillUnmount&&Bo(n,t,r)),ll(e,t,n);break;case 21:ll(e,t,n);break;case 22:Zo||Ho(n,t),Zo=(r=Zo)||null!==n.memoizedState,ll(e,t,n),Zo=r;break;default:ll(e,t,n)}}function ul(e,t){if(null===t.memoizedState&&(null!==(e=t.alternate)&&(null!==(e=e.memoizedState)&&null!==(e=e.dehydrated))))try{mh(e)}catch(n){ru(t,t.return,n)}}function dl(e,t){var n=function(e){switch(e.tag){case 13:case 19:var t=e.stateNode;return null===t&&(t=e.stateNode=new tl),t;case 22:return null===(t=(e=e.stateNode)._retryCache)&&(t=e._retryCache=new tl),t;default:throw Error(s(435,e.tag))}}(e);t.forEach((function(t){var r=lu.bind(null,e,t);n.has(t)||(n.add(t),t.then(r,r))}))}function hl(e,t){var n=t.deletions;if(null!==n)for(var r=0;r<n.length;r++){var i=n[r],a=e,o=t,l=o;e:for(;null!==l;){switch(l.tag){case 27:case 5:sl=l.stateNode,ol=!1;break e;case 3:case 4:sl=l.stateNode.containerInfo,ol=!0;break e}l=l.return}if(null===sl)throw Error(s(160));cl(a,o,i),sl=null,ol=!1,null!==(a=i.alternate)&&(a.return=null),i.return=null}if(13878&t.subtreeFlags)for(t=t.child;null!==t;)pl(t,e),t=t.sibling}var fl=null;function pl(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:hl(t,e),ml(e),4&r&&(Vo(3,e,e.return),Uo(3,e),Vo(5,e,e.return));break;case 1:hl(t,e),ml(e),512&r&&(Zo||null===n||Ho(n,n.return)),64&r&&Jo&&(null!==(e=e.updateQueue)&&(null!==(r=e.callbacks)&&(n=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=null===n?r:n.concat(r))));break;case 26:var i=fl;if(hl(t,e),ml(e),512&r&&(Zo||null===n||Ho(n,n.return)),4&r){var a=null!==n?n.memoizedState:null;if(r=e.memoizedState,null===n)if(null===r)if(null===e.stateNode){e:{r=e.type,n=e.memoizedProps,i=i.ownerDocument||i;t:switch(r){case"title":(!(a=i.getElementsByTagName("title")[0])||a[He]||a[Fe]||"http://www.w3.org/2000/svg"===a.namespaceURI||a.hasAttribute("itemprop"))&&(a=i.createElement(r),i.head.insertBefore(a,i.querySelector("head > title"))),Wu(a,r,n),a[Fe]=e,Xe(a),r=a;break e;case"link":var o=Td("link","href",i).get(r+(n.href||""));if(o)for(var l=0;l<o.length;l++)if((a=o[l]).getAttribute("href")===(null==n.href?null:n.href)&&a.getAttribute("rel")===(null==n.rel?null:n.rel)&&a.getAttribute("title")===(null==n.title?null:n.title)&&a.getAttribute("crossorigin")===(null==n.crossOrigin?null:n.crossOrigin)){o.splice(l,1);break t}Wu(a=i.createElement(r),r,n),i.head.appendChild(a);break;case"meta":if(o=Td("meta","content",i).get(r+(n.content||"")))for(l=0;l<o.length;l++)if((a=o[l]).getAttribute("content")===(null==n.content?null:""+n.content)&&a.getAttribute("name")===(null==n.name?null:n.name)&&a.getAttribute("property")===(null==n.property?null:n.property)&&a.getAttribute("http-equiv")===(null==n.httpEquiv?null:n.httpEquiv)&&a.getAttribute("charset")===(null==n.charSet?null:n.charSet)){o.splice(l,1);break t}Wu(a=i.createElement(r),r,n),i.head.appendChild(a);break;default:throw Error(s(468,r))}a[Fe]=e,Xe(a),r=a}e.stateNode=r}else Id(i,e.type,e.stateNode);else e.stateNode=Sd(i,r,e.memoizedProps);else a!==r?(null===a?null!==n.stateNode&&(n=n.stateNode).parentNode.removeChild(n):a.count--,null===r?Id(i,e.type,e.stateNode):Sd(i,r,e.memoizedProps)):null===r&&null!==e.stateNode&&Qo(e,e.memoizedProps,n.memoizedProps)}break;case 27:if(4&r&&null===e.alternate){i=e.stateNode,a=e.memoizedProps;try{for(var c=i.firstChild;c;){var u=c.nextSibling,d=c.nodeName;c[He]||"HEAD"===d||"BODY"===d||"SCRIPT"===d||"STYLE"===d||"LINK"===d&&"stylesheet"===c.rel.toLowerCase()||i.removeChild(c),c=u}for(var h=e.type,f=i.attributes;f.length;)i.removeAttributeNode(f[0]);Wu(i,h,a),i[Fe]=e,i[ze]=a}catch(m){ru(e,e.return,m)}}case 5:if(hl(t,e),ml(e),512&r&&(Zo||null===n||Ho(n,n.return)),32&e.flags){i=e.stateNode;try{St(i,"")}catch(m){ru(e,e.return,m)}}4&r&&null!=e.stateNode&&Qo(e,i=e.memoizedProps,null!==n?n.memoizedProps:i),1024&r&&(el=!0);break;case 6:if(hl(t,e),ml(e),4&r){if(null===e.stateNode)throw Error(s(162));r=e.memoizedProps,n=e.stateNode;try{n.nodeValue=r}catch(m){ru(e,e.return,m)}}break;case 3:if(Cd=null,i=fl,fl=hd(t.containerInfo),hl(t,e),fl=i,ml(e),4&r&&null!==n&&n.memoizedState.isDehydrated)try{mh(t.containerInfo)}catch(m){ru(e,e.return,m)}el&&(el=!1,gl(e));break;case 4:r=fl,fl=hd(e.stateNode.containerInfo),hl(t,e),ml(e),fl=r;break;case 12:hl(t,e),ml(e);break;case 13:hl(t,e),ml(e),8192&e.child.flags&&null!==e.memoizedState!==(null!==n&&null!==n.memoizedState)&&(bc=le()),4&r&&(null!==(r=e.updateQueue)&&(e.updateQueue=null,dl(e,r)));break;case 22:if(512&r&&(Zo||null===n||Ho(n,n.return)),c=null!==e.memoizedState,u=null!==n&&null!==n.memoizedState,Jo=(d=Jo)||c,Zo=(h=Zo)||u,hl(t,e),Zo=h,Jo=d,ml(e),(t=e.stateNode)._current=e,t._visibility&=-3,t._visibility|=2&t._pendingVisibility,8192&r&&(t._visibility=c?-2&t._visibility:1|t._visibility,c&&(t=Jo||Zo,null===n||u||t||vl(e)),null===e.memoizedProps||"manual"!==e.memoizedProps.mode))e:for(n=null,t=e;;){if(5===t.tag||26===t.tag||27===t.tag){if(null===n){u=n=t;try{if(i=u.stateNode,c)"function"===typeof(a=i.style).setProperty?a.setProperty("display","none","important"):a.display="none";else{o=u.stateNode;var p=void 0!==(l=u.memoizedProps.style)&&null!==l&&l.hasOwnProperty("display")?l.display:null;o.style.display=null==p||"boolean"===typeof p?"":(""+p).trim()}}catch(m){ru(u,u.return,m)}}}else if(6===t.tag){if(null===n){u=t;try{u.stateNode.nodeValue=c?"":u.memoizedProps}catch(m){ru(u,u.return,m)}}}else if((22!==t.tag&&23!==t.tag||null===t.memoizedState||t===e)&&null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;null===t.sibling;){if(null===t.return||t.return===e)break e;n===t&&(n=null),t=t.return}n===t&&(n=null),t.sibling.return=t.return,t=t.sibling}4&r&&(null!==(r=e.updateQueue)&&(null!==(n=r.retryQueue)&&(r.retryQueue=null,dl(e,n))));break;case 19:hl(t,e),ml(e),4&r&&(null!==(r=e.updateQueue)&&(e.updateQueue=null,dl(e,r)));break;case 21:break;default:hl(t,e),ml(e)}}function ml(e){var t=e.flags;if(2&t){try{if(27!==e.tag){e:{for(var n=e.return;null!==n;){if(Ko(n)){var r=n;break e}n=n.return}throw Error(s(160))}switch(r.tag){case 27:var i=r.stateNode;Xo(e,Go(e),i);break;case 5:var a=r.stateNode;32&r.flags&&(St(a,""),r.flags&=-33),Xo(e,Go(e),a);break;case 3:case 4:var o=r.stateNode.containerInfo;Yo(e,Go(e),o);break;default:throw Error(s(161))}}}catch(l){ru(e,e.return,l)}e.flags&=-3}4096&t&&(e.flags&=-4097)}function gl(e){if(1024&e.subtreeFlags)for(e=e.child;null!==e;){var t=e;gl(t),5===t.tag&&1024&t.flags&&t.stateNode.reset(),e=e.sibling}}function yl(e,t){if(8772&t.subtreeFlags)for(t=t.child;null!==t;)il(e,t.alternate,t),t=t.sibling}function vl(e){for(e=e.child;null!==e;){var t=e;switch(t.tag){case 0:case 11:case 14:case 15:Vo(4,t,t.return),vl(t);break;case 1:Ho(t,t.return);var n=t.stateNode;"function"===typeof n.componentWillUnmount&&Bo(t,t.return,n),vl(t);break;case 26:case 27:case 5:Ho(t,t.return),vl(t);break;case 22:Ho(t,t.return),null===t.memoizedState&&vl(t);break;default:vl(t)}e=e.sibling}}function bl(e,t,n){for(n=n&&0!==(8772&t.subtreeFlags),t=t.child;null!==t;){var r=t.alternate,i=e,a=t,s=a.flags;switch(a.tag){case 0:case 11:case 15:bl(i,a,n),Uo(4,a);break;case 1:if(bl(i,a,n),"function"===typeof(i=(r=a).stateNode).componentDidMount)try{i.componentDidMount()}catch(c){ru(r,r.return,c)}if(null!==(i=(r=a).updateQueue)){var o=r.stateNode;try{var l=i.shared.hiddenCallbacks;if(null!==l)for(i.shared.hiddenCallbacks=null,i=0;i<l.length;i++)Fo(l[i],o)}catch(c){ru(r,r.return,c)}}n&&64&s&&qo(a),$o(a,a.return);break;case 26:case 27:case 5:bl(i,a,n),n&&null===r&&4&s&&Wo(a),$o(a,a.return);break;case 12:default:bl(i,a,n);break;case 13:bl(i,a,n),n&&4&s&&ul(i,a);break;case 22:null===a.memoizedState&&bl(i,a,n),$o(a,a.return)}t=t.sibling}}function wl(e,t){var n=null;null!==e&&null!==e.memoizedState&&null!==e.memoizedState.cachePool&&(n=e.memoizedState.cachePool.pool),e=null,null!==t.memoizedState&&null!==t.memoizedState.cachePool&&(e=t.memoizedState.cachePool.pool),e!==n&&(null!=e&&e.refCount++,null!=n&&Vi(n))}function xl(e,t){e=null,null!==t.alternate&&(e=t.alternate.memoizedState.cache),(t=t.memoizedState.cache)!==e&&(t.refCount++,null!=e&&Vi(e))}function Sl(e,t,n,r){if(10256&t.subtreeFlags)for(t=t.child;null!==t;)El(e,t,n,r),t=t.sibling}function El(e,t,n,r){var i=t.flags;switch(t.tag){case 0:case 11:case 15:Sl(e,t,n,r),2048&i&&Uo(9,t);break;case 3:Sl(e,t,n,r),2048&i&&(e=null,null!==t.alternate&&(e=t.alternate.memoizedState.cache),(t=t.memoizedState.cache)!==e&&(t.refCount++,null!=e&&Vi(e)));break;case 12:if(2048&i){Sl(e,t,n,r),e=t.stateNode;try{var a=t.memoizedProps,s=a.id,o=a.onPostCommit;"function"===typeof o&&o(s,null===t.alternate?"mount":"update",e.passiveEffectDuration,-0)}catch(l){ru(t,t.return,l)}}else Sl(e,t,n,r);break;case 23:break;case 22:a=t.stateNode,null!==t.memoizedState?4&a._visibility?Sl(e,t,n,r):_l(e,t):4&a._visibility?Sl(e,t,n,r):(a._visibility|=4,kl(e,t,n,r,0!==(10256&t.subtreeFlags))),2048&i&&wl(t.alternate,t);break;case 24:Sl(e,t,n,r),2048&i&&xl(t.alternate,t);break;default:Sl(e,t,n,r)}}function kl(e,t,n,r,i){for(i=i&&0!==(10256&t.subtreeFlags),t=t.child;null!==t;){var a=e,s=t,o=n,l=r,c=s.flags;switch(s.tag){case 0:case 11:case 15:kl(a,s,o,l,i),Uo(8,s);break;case 23:break;case 22:var u=s.stateNode;null!==s.memoizedState?4&u._visibility?kl(a,s,o,l,i):_l(a,s):(u._visibility|=4,kl(a,s,o,l,i)),i&&2048&c&&wl(s.alternate,s);break;case 24:kl(a,s,o,l,i),i&&2048&c&&xl(s.alternate,s);break;default:kl(a,s,o,l,i)}t=t.sibling}}function _l(e,t){if(10256&t.subtreeFlags)for(t=t.child;null!==t;){var n=e,r=t,i=r.flags;switch(r.tag){case 22:_l(n,r),2048&i&&wl(r.alternate,r);break;case 24:_l(n,r),2048&i&&xl(r.alternate,r);break;default:_l(n,r)}t=t.sibling}}var Cl=8192;function Tl(e){if(e.subtreeFlags&Cl)for(e=e.child;null!==e;)Il(e),e=e.sibling}function Il(e){switch(e.tag){case 26:Tl(e),e.flags&Cl&&null!==e.memoizedState&&function(e,t,n){if(null===Pd)throw Error(s(475));var r=Pd;if("stylesheet"===t.type&&("string"!==typeof n.media||!1!==matchMedia(n.media).matches)&&0===(4&t.state.loading)){if(null===t.instance){var i=yd(n.href),a=e.querySelector(vd(i));if(a)return null!==(e=a._p)&&"object"===typeof e&&"function"===typeof e.then&&(r.count++,r=Rd.bind(r),e.then(r,r)),t.state.loading|=4,t.instance=a,void Xe(a);a=e.ownerDocument||e,n=bd(n),(i=ud.get(i))&&kd(n,i),Xe(a=a.createElement("link"));var o=a;o._p=new Promise((function(e,t){o.onload=e,o.onerror=t})),Wu(a,"link",n),t.instance=a}null===r.stylesheets&&(r.stylesheets=new Map),r.stylesheets.set(t,e),(e=t.state.preload)&&0===(3&t.state.loading)&&(r.count++,t=Rd.bind(r),e.addEventListener("load",t),e.addEventListener("error",t))}}(fl,e.memoizedState,e.memoizedProps);break;case 5:default:Tl(e);break;case 3:case 4:var t=fl;fl=hd(e.stateNode.containerInfo),Tl(e),fl=t;break;case 22:null===e.memoizedState&&(null!==(t=e.alternate)&&null!==t.memoizedState?(t=Cl,Cl=16777216,Tl(e),Cl=t):Tl(e))}}function Al(e){var t=e.alternate;if(null!==t&&null!==(e=t.child)){t.child=null;do{t=e.sibling,e.sibling=null,e=t}while(null!==e)}}function Pl(e){var t=e.deletions;if(0!==(16&e.flags)){if(null!==t)for(var n=0;n<t.length;n++){var r=t[n];nl=r,Ol(r,e)}Al(e)}if(10256&e.subtreeFlags)for(e=e.child;null!==e;)Nl(e),e=e.sibling}function Nl(e){switch(e.tag){case 0:case 11:case 15:Pl(e),2048&e.flags&&Vo(9,e,e.return);break;case 3:case 12:default:Pl(e);break;case 22:var t=e.stateNode;null!==e.memoizedState&&4&t._visibility&&(null===e.return||13!==e.return.tag)?(t._visibility&=-5,Rl(e)):Pl(e)}}function Rl(e){var t=e.deletions;if(0!==(16&e.flags)){if(null!==t)for(var n=0;n<t.length;n++){var r=t[n];nl=r,Ol(r,e)}Al(e)}for(e=e.child;null!==e;){switch((t=e).tag){case 0:case 11:case 15:Vo(8,t,t.return),Rl(t);break;case 22:4&(n=t.stateNode)._visibility&&(n._visibility&=-5,Rl(t));break;default:Rl(t)}e=e.sibling}}function Ol(e,t){for(;null!==nl;){var n=nl;switch(n.tag){case 0:case 11:case 15:Vo(8,n,t);break;case 23:case 22:if(null!==n.memoizedState&&null!==n.memoizedState.cachePool){var r=n.memoizedState.cachePool.pool;null!=r&&r.refCount++}break;case 24:Vi(n.memoizedState.cache)}if(null!==(r=n.child))r.return=n,nl=r;else e:for(n=e;null!==nl;){var i=(r=nl).sibling,a=r.return;if(al(r),r===n){nl=null;break e}if(null!==i){i.return=a,nl=i;break e}nl=a}}}function Dl(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function jl(e,t,n,r){return new Dl(e,t,n,r)}function Ll(e){return!(!(e=e.prototype)||!e.isReactComponent)}function Ml(e,t){var n=e.alternate;return null===n?((n=jl(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=31457280&e.flags,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n.refCleanup=e.refCleanup,n}function Fl(e,t){e.flags&=31457282;var n=e.alternate;return null===n?(e.childLanes=0,e.lanes=t,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=n.childLanes,e.lanes=n.lanes,e.child=n.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=n.memoizedProps,e.memoizedState=n.memoizedState,e.updateQueue=n.updateQueue,e.type=n.type,t=n.dependencies,e.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext}),e}function zl(e,t,n,r,i,a){var o=0;if(r=e,"function"===typeof e)Ll(e)&&(o=1);else if("string"===typeof e)o=function(e,t,n){if(1===n||null!=t.itemProp)return!1;switch(e){case"meta":case"title":return!0;case"style":if("string"!==typeof t.precedence||"string"!==typeof t.href||""===t.href)break;return!0;case"link":if("string"!==typeof t.rel||"string"!==typeof t.href||""===t.href||t.onLoad||t.onError)break;return"stylesheet"!==t.rel||(e=t.disabled,"string"===typeof t.precedence&&null==e);case"script":if(t.async&&"function"!==typeof t.async&&"symbol"!==typeof t.async&&!t.onLoad&&!t.onError&&t.src&&"string"===typeof t.src)return!0}return!1}(e,n,G.current)?26:"html"===e||"head"===e||"body"===e?27:5;else e:switch(e){case d:return Ul(n.children,i,a,t);case h:o=8,i|=24;break;case f:return(e=jl(12,n,t,2|i)).elementType=f,e.lanes=a,e;case v:return(e=jl(13,n,t,i)).elementType=v,e.lanes=a,e;case b:return(e=jl(19,n,t,i)).elementType=b,e.lanes=a,e;case S:return Vl(n,i,a,t);default:if("object"===typeof e&&null!==e)switch(e.$$typeof){case p:case g:o=10;break e;case m:o=9;break e;case y:o=11;break e;case w:o=14;break e;case x:o=16,r=null;break e}o=29,n=Error(s(130,null===e?"null":typeof e,"")),r=null}return(t=jl(o,n,t,i)).elementType=e,t.type=r,t.lanes=a,t}function Ul(e,t,n,r){return(e=jl(7,e,r,t)).lanes=n,e}function Vl(e,t,n,r){(e=jl(22,e,r,t)).elementType=S,e.lanes=n;var i={_visibility:1,_pendingVisibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null,_current:null,detach:function(){var e=i._current;if(null===e)throw Error(s(456));if(0===(2&i._pendingVisibility)){var t=Ar(e,2);null!==t&&(i._pendingVisibility|=2,Rc(t,e,2))}},attach:function(){var e=i._current;if(null===e)throw Error(s(456));if(0!==(2&i._pendingVisibility)){var t=Ar(e,2);null!==t&&(i._pendingVisibility&=-3,Rc(t,e,2))}}};return e.stateNode=i,e}function ql(e,t,n){return(e=jl(6,e,null,t)).lanes=n,e}function Bl(e,t,n){return(t=jl(4,null!==e.children?e.children:[],e.key,t)).lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function $l(e){e.flags|=4}function Hl(e,t){if("stylesheet"!==t.type||0!==(4&t.state.loading))e.flags&=-16777217;else if(e.flags|=16777216,!Ad(t)){if(null!==(t=Ii.current)&&((4194176&rc)===rc?null!==Ai:(62914560&rc)!==rc&&0===(536870912&rc)||t!==Ai))throw hi=li,oi;e.flags|=8192}}function Wl(e,t){null!==t&&(e.flags|=4),16384&e.flags&&(t=22!==e.tag?Pe():536870912,e.lanes|=t,mc|=t)}function Ql(e,t){if(!Yr)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;null!==t;)null!==t.alternate&&(n=t),t=t.sibling;null===n?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;null!==n;)null!==n.alternate&&(r=n),n=n.sibling;null===r?t||null===e.tail?e.tail=null:e.tail.sibling=null:r.sibling=null}}function Kl(e){var t=null!==e.alternate&&e.alternate.child===e.child,n=0,r=0;if(t)for(var i=e.child;null!==i;)n|=i.lanes|i.childLanes,r|=31457280&i.subtreeFlags,r|=31457280&i.flags,i.return=e,i=i.sibling;else for(i=e.child;null!==i;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function Gl(e,t,n){var r=t.pendingProps;switch(Qr(t),t.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:case 1:return Kl(t),null;case 3:return n=t.stateNode,r=null,null!==e&&(r=e.memoizedState.cache),t.memoizedState.cache!==r&&(t.flags|=2048),bo(zi),ee(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),null!==e&&null!==e.child||(ri(t)?$l(t):null===e||e.memoizedState.isDehydrated&&0===(256&t.flags)||(t.flags|=1024,null!==Xr&&(Dc(Xr),Xr=null))),Kl(t),null;case 26:return n=t.memoizedState,null===e?($l(t),null!==n?(Kl(t),Hl(t,n)):(Kl(t),t.flags&=-16777217)):n?n!==e.memoizedState?($l(t),Kl(t),Hl(t,n)):(Kl(t),t.flags&=-16777217):(e.memoizedProps!==r&&$l(t),Kl(t),t.flags&=-16777217),null;case 27:ne(t),n=X.current;var i=t.type;if(null!==e&&null!=t.stateNode)e.memoizedProps!==r&&$l(t);else{if(!r){if(null===t.stateNode)throw Error(s(166));return Kl(t),null}e=G.current,ri(t)?ti(t):(e=cd(i,r,n),t.stateNode=e,$l(t))}return Kl(t),null;case 5:if(ne(t),n=t.type,null!==e&&null!=t.stateNode)e.memoizedProps!==r&&$l(t);else{if(!r){if(null===t.stateNode)throw Error(s(166));return Kl(t),null}if(e=G.current,ri(t))ti(t);else{switch(i=Gu(X.current),e){case 1:e=i.createElementNS("http://www.w3.org/2000/svg",n);break;case 2:e=i.createElementNS("http://www.w3.org/1998/Math/MathML",n);break;default:switch(n){case"svg":e=i.createElementNS("http://www.w3.org/2000/svg",n);break;case"math":e=i.createElementNS("http://www.w3.org/1998/Math/MathML",n);break;case"script":(e=i.createElement("div")).innerHTML="<script><\/script>",e=e.removeChild(e.firstChild);break;case"select":e="string"===typeof r.is?i.createElement("select",{is:r.is}):i.createElement("select"),r.multiple?e.multiple=!0:r.size&&(e.size=r.size);break;default:e="string"===typeof r.is?i.createElement(n,{is:r.is}):i.createElement(n)}}e[Fe]=t,e[ze]=r;e:for(i=t.child;null!==i;){if(5===i.tag||6===i.tag)e.appendChild(i.stateNode);else if(4!==i.tag&&27!==i.tag&&null!==i.child){i.child.return=i,i=i.child;continue}if(i===t)break e;for(;null===i.sibling;){if(null===i.return||i.return===t)break e;i=i.return}i.sibling.return=i.return,i=i.sibling}t.stateNode=e;e:switch(Wu(e,n,r),n){case"button":case"input":case"select":case"textarea":e=!!r.autoFocus;break e;case"img":e=!0;break e;default:e=!1}e&&$l(t)}}return Kl(t),t.flags&=-16777217,null;case 6:if(e&&null!=t.stateNode)e.memoizedProps!==r&&$l(t);else{if("string"!==typeof r&&null===t.stateNode)throw Error(s(166));if(e=X.current,ri(t)){if(e=t.stateNode,n=t.memoizedProps,r=null,null!==(i=Kr))switch(i.tag){case 27:case 5:r=i.memoizedProps}e[Fe]=t,(e=!!(e.nodeValue===n||null!==r&&!0===r.suppressHydrationWarning||qu(e.nodeValue,n)))||ei(t)}else(e=Gu(e).createTextNode(r))[Fe]=t,t.stateNode=e}return Kl(t),null;case 13:if(r=t.memoizedState,null===e||null!==e.memoizedState&&null!==e.memoizedState.dehydrated){if(i=ri(t),null!==r&&null!==r.dehydrated){if(null===e){if(!i)throw Error(s(318));if(!(i=null!==(i=t.memoizedState)?i.dehydrated:null))throw Error(s(317));i[Fe]=t}else ii(),0===(128&t.flags)&&(t.memoizedState=null),t.flags|=4;Kl(t),i=!1}else null!==Xr&&(Dc(Xr),Xr=null),i=!0;if(!i)return 256&t.flags?(Oi(t),t):(Oi(t),null)}if(Oi(t),0!==(128&t.flags))return t.lanes=n,t;if(n=null!==r,e=null!==e&&null!==e.memoizedState,n){i=null,null!==(r=t.child).alternate&&null!==r.alternate.memoizedState&&null!==r.alternate.memoizedState.cachePool&&(i=r.alternate.memoizedState.cachePool.pool);var a=null;null!==r.memoizedState&&null!==r.memoizedState.cachePool&&(a=r.memoizedState.cachePool.pool),a!==i&&(r.flags|=2048)}return n!==e&&n&&(t.child.flags|=8192),Wl(t,t.updateQueue),Kl(t),null;case 4:return ee(),null===e&&Ru(t.stateNode.containerInfo),Kl(t),null;case 10:return bo(t.type),Kl(t),null;case 19:if(Q(Di),null===(i=t.memoizedState))return Kl(t),null;if(r=0!==(128&t.flags),null===(a=i.rendering))if(r)Ql(i,!1);else{if(0!==uc||null!==e&&0!==(128&e.flags))for(e=t.child;null!==e;){if(null!==(a=ji(e))){for(t.flags|=128,Ql(i,!1),e=a.updateQueue,t.updateQueue=e,Wl(t,e),t.subtreeFlags=0,e=n,n=t.child;null!==n;)Fl(n,e),n=n.sibling;return K(Di,1&Di.current|2),t.child}e=e.sibling}null!==i.tail&&le()>wc&&(t.flags|=128,r=!0,Ql(i,!1),t.lanes=4194304)}else{if(!r)if(null!==(e=ji(a))){if(t.flags|=128,r=!0,e=e.updateQueue,t.updateQueue=e,Wl(t,e),Ql(i,!0),null===i.tail&&"hidden"===i.tailMode&&!a.alternate&&!Yr)return Kl(t),null}else 2*le()-i.renderingStartTime>wc&&536870912!==n&&(t.flags|=128,r=!0,Ql(i,!1),t.lanes=4194304);i.isBackwards?(a.sibling=t.child,t.child=a):(null!==(e=i.last)?e.sibling=a:t.child=a,i.last=a)}return null!==i.tail?(t=i.tail,i.rendering=t,i.tail=t.sibling,i.renderingStartTime=le(),t.sibling=null,e=Di.current,K(Di,r?1&e|2:1&e),t):(Kl(t),null);case 22:case 23:return Oi(t),Ti(),r=null!==t.memoizedState,null!==e?null!==e.memoizedState!==r&&(t.flags|=8192):r&&(t.flags|=8192),r?0!==(536870912&n)&&0===(128&t.flags)&&(Kl(t),6&t.subtreeFlags&&(t.flags|=8192)):Kl(t),null!==(n=t.updateQueue)&&Wl(t,n.retryQueue),n=null,null!==e&&null!==e.memoizedState&&null!==e.memoizedState.cachePool&&(n=e.memoizedState.cachePool.pool),r=null,null!==t.memoizedState&&null!==t.memoizedState.cachePool&&(r=t.memoizedState.cachePool.pool),r!==n&&(t.flags|=2048),null!==e&&Q(Ki),null;case 24:return n=null,null!==e&&(n=e.memoizedState.cache),t.memoizedState.cache!==n&&(t.flags|=2048),bo(zi),Kl(t),null;case 25:return null}throw Error(s(156,t.tag))}function Yl(e,t){switch(Qr(t),t.tag){case 1:return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 3:return bo(zi),ee(),0!==(65536&(e=t.flags))&&0===(128&e)?(t.flags=-65537&e|128,t):null;case 26:case 27:case 5:return ne(t),null;case 13:if(Oi(t),null!==(e=t.memoizedState)&&null!==e.dehydrated){if(null===t.alternate)throw Error(s(340));ii()}return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 19:return Q(Di),null;case 4:return ee(),null;case 10:return bo(t.type),null;case 22:case 23:return Oi(t),Ti(),null!==e&&Q(Ki),65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 24:return bo(zi),null;default:return null}}function Xl(e,t){switch(Qr(t),t.tag){case 3:bo(zi),ee();break;case 26:case 27:case 5:ne(t);break;case 4:ee();break;case 13:Oi(t);break;case 19:Q(Di);break;case 10:bo(t.type);break;case 22:case 23:Oi(t),Ti(),null!==e&&Q(Ki);break;case 24:bo(zi)}}var Jl={getCacheForType:function(e){var t=_o(zi),n=t.data.get(e);return void 0===n&&(n=e(),t.data.set(e,n)),n}},Zl="function"===typeof WeakMap?WeakMap:Map,ec=0,tc=null,nc=null,rc=0,ic=0,ac=null,sc=!1,oc=!1,lc=!1,cc=0,uc=0,dc=0,hc=0,fc=0,pc=0,mc=0,gc=null,yc=null,vc=!1,bc=0,wc=1/0,xc=null,Sc=null,Ec=!1,kc=null,_c=0,Cc=0,Tc=null,Ic=0,Ac=null;function Pc(){if(0!==(2&ec)&&0!==rc)return rc&-rc;if(null!==P.T){return 0!==$i?$i:xu()}return Le()}function Nc(){0===pc&&(pc=0===(536870912&rc)||Yr?Ae():536870912);var e=Ii.current;return null!==e&&(e.flags|=32),pc}function Rc(e,t,n){(e===tc&&2===ic||null!==e.cancelPendingCommit)&&(Uc(e,0),Mc(e,rc,pc,!1)),Re(e,n),0!==(2&ec)&&e===tc||(e===tc&&(0===(2&ec)&&(hc|=n),4===uc&&Mc(e,rc,pc,!1)),mu(e))}function Oc(e,t,n){if(0!==(6&ec))throw Error(s(327));for(var r=!n&&0===(60&t)&&0===(t&e.expiredLanes)||Te(e,t),i=r?function(e,t){var n=ec;ec|=2;var r=qc(),i=Bc();tc!==e||rc!==t?(xc=null,wc=le()+500,Uc(e,t)):oc=Te(e,t);e:for(;;)try{if(0!==ic&&null!==nc){t=nc;var a=ac;t:switch(ic){case 1:ic=0,ac=null,Yc(e,t,a,1);break;case 2:if(ci(a)){ic=0,ac=null,Gc(t);break}t=function(){2===ic&&tc===e&&(ic=7),mu(e)},a.then(t,t);break e;case 3:ic=7;break e;case 4:ic=5;break e;case 7:ci(a)?(ic=0,ac=null,Gc(t)):(ic=0,ac=null,Yc(e,t,a,7));break;case 5:var o=null;switch(nc.tag){case 26:o=nc.memoizedState;case 5:case 27:var l=nc;if(!o||Ad(o)){ic=0,ac=null;var c=l.sibling;if(null!==c)nc=c;else{var u=l.return;null!==u?(nc=u,Xc(u)):nc=null}break t}}ic=0,ac=null,Yc(e,t,a,5);break;case 6:ic=0,ac=null,Yc(e,t,a,6);break;case 8:zc(),uc=6;break e;default:throw Error(s(462))}}Qc();break}catch(d){Vc(e,d)}return yo=go=null,P.H=r,P.A=i,ec=n,null!==nc?0:(tc=null,rc=0,Cr(),uc)}(e,t):Hc(e,t,!0),a=r;;){if(0===i){oc&&!r&&Mc(e,t,0,!1);break}if(6===i)Mc(e,t,0,!sc);else{if(n=e.current.alternate,a&&!Lc(n)){i=Hc(e,t,!1),a=!1;continue}if(2===i){if(a=t,e.errorRecoveryDisabledLanes&a)var o=0;else o=0!==(o=-536870913&e.pendingLanes)?o:536870912&o?536870912:0;if(0!==o){t=o;e:{var l=e;i=gc;var c=l.current.memoizedState.isDehydrated;if(c&&(Uc(l,o).flags|=256),2!==(o=Hc(l,o,!1))){if(lc&&!c){l.errorRecoveryDisabledLanes|=a,hc|=a,i=4;break e}a=yc,yc=i,null!==a&&Dc(a)}i=o}if(a=!1,2!==i)continue}}if(1===i){Uc(e,0),Mc(e,t,0,!0);break}e:{switch(r=e,i){case 0:case 1:throw Error(s(345));case 4:if((4194176&t)===t){Mc(r,t,pc,!sc);break e}break;case 2:yc=null;break;case 3:case 5:break;default:throw Error(s(329))}if(r.finishedWork=n,r.finishedLanes=t,(62914560&t)===t&&10<(a=bc+300-le())){if(Mc(r,t,pc,!sc),0!==Ce(r,0))break e;r.timeoutHandle=ed(jc.bind(null,r,n,yc,xc,vc,t,pc,hc,mc,sc,2,-0,0),a)}else jc(r,n,yc,xc,vc,t,pc,hc,mc,sc,0,-0,0)}}break}mu(e)}function Dc(e){null===yc?yc=e:yc.push.apply(yc,e)}function jc(e,t,n,r,i,a,o,l,c,u,d,h,f){var p=t.subtreeFlags;if((8192&p||16785408===(16785408&p))&&(Pd={stylesheets:null,count:0,unsuspend:Nd},Il(t),null!==(t=function(){if(null===Pd)throw Error(s(475));var e=Pd;return e.stylesheets&&0===e.count&&Dd(e,e.stylesheets),0<e.count?function(t){var n=setTimeout((function(){if(e.stylesheets&&Dd(e,e.stylesheets),e.unsuspend){var t=e.unsuspend;e.unsuspend=null,t()}}),6e4);return e.unsuspend=t,function(){e.unsuspend=null,clearTimeout(n)}}:null}())))return e.cancelPendingCommit=t(Zc.bind(null,e,n,r,i,o,l,c,1,h,f)),void Mc(e,a,o,!u);Zc(e,n,r,i,o,l,c,d,h,f)}function Lc(e){for(var t=e;;){var n=t.tag;if((0===n||11===n||15===n)&&16384&t.flags&&(null!==(n=t.updateQueue)&&null!==(n=n.stores)))for(var r=0;r<n.length;r++){var i=n[r],a=i.getSnapshot;i=i.value;try{if(!Kn(a(),i))return!1}catch(s){return!1}}if(n=t.child,16384&t.subtreeFlags&&null!==n)n.return=t,t=n;else{if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Mc(e,t,n,r){t&=~fc,t&=~hc,e.suspendedLanes|=t,e.pingedLanes&=~t,r&&(e.warmLanes|=t),r=e.expirationTimes;for(var i=t;0<i;){var a=31-we(i),s=1<<a;r[a]=-1,i&=~s}0!==n&&Oe(e,n,t)}function Fc(){return 0!==(6&ec)||(gu(0,!1),!1)}function zc(){if(null!==nc){if(0===ic)var e=nc.return;else yo=go=null,ya(e=nc),pi=null,mi=0,e=nc;for(;null!==e;)Xl(e.alternate,e),e=e.return;nc=null}}function Uc(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;-1!==n&&(e.timeoutHandle=-1,td(n)),null!==(n=e.cancelPendingCommit)&&(e.cancelPendingCommit=null,n()),zc(),tc=e,nc=n=Ml(e.current,null),rc=t,ic=0,ac=null,sc=!1,oc=Te(e,t),lc=!1,mc=pc=fc=hc=dc=uc=0,yc=gc=null,vc=!1,0!==(8&t)&&(t|=32&t);var r=e.entangledLanes;if(0!==r)for(e=e.entanglements,r&=t;0<r;){var i=31-we(r),a=1<<i;t|=e[i],r&=~a}return cc=t,Cr(),n}function Vc(e,t){Zi=null,P.H=ks,t===si?(t=fi(),ic=3):t===oi?(t=fi(),ic=4):ic=t===qs?8:null!==t&&"object"===typeof t&&"function"===typeof t.then?6:1,ac=t,null===nc&&(uc=1,Ms(e,Dr(t,e.current)))}function qc(){var e=P.H;return P.H=ks,null===e?ks:e}function Bc(){var e=P.A;return P.A=Jl,e}function $c(){uc=4,sc||(4194176&rc)!==rc&&null!==Ii.current||(oc=!0),0===(134217727&dc)&&0===(134217727&hc)||null===tc||Mc(tc,rc,pc,!1)}function Hc(e,t,n){var r=ec;ec|=2;var i=qc(),a=Bc();tc===e&&rc===t||(xc=null,Uc(e,t)),t=!1;var s=uc;e:for(;;)try{if(0!==ic&&null!==nc){var o=nc,l=ac;switch(ic){case 8:zc(),s=6;break e;case 3:case 2:case 6:null===Ii.current&&(t=!0);var c=ic;if(ic=0,ac=null,Yc(e,o,l,c),n&&oc){s=0;break e}break;default:c=ic,ic=0,ac=null,Yc(e,o,l,c)}}Wc(),s=uc;break}catch(u){Vc(e,u)}return t&&e.shellSuspendCounter++,yo=go=null,ec=r,P.H=i,P.A=a,null===nc&&(tc=null,rc=0,Cr()),s}function Wc(){for(;null!==nc;)Kc(nc)}function Qc(){for(;null!==nc&&!se();)Kc(nc)}function Kc(e){var t=po(e.alternate,e,cc);e.memoizedProps=e.pendingProps,null===t?Xc(e):nc=t}function Gc(e){var t=e,n=t.alternate;switch(t.tag){case 15:case 0:t=Js(n,t,t.pendingProps,t.type,void 0,rc);break;case 11:t=Js(n,t,t.pendingProps,t.type.render,t.ref,rc);break;case 5:ya(t);default:Xl(n,t),t=po(n,t=nc=Fl(t,cc),cc)}e.memoizedProps=e.pendingProps,null===t?Xc(e):nc=t}function Yc(e,t,n,r){yo=go=null,ya(t),pi=null,mi=0;var i=t.return;try{if(function(e,t,n,r,i){if(n.flags|=32768,null!==r&&"object"===typeof r&&"function"===typeof r.then){if(null!==(t=n.alternate)&&So(t,n,i,!0),null!==(n=Ii.current)){switch(n.tag){case 13:return null===Ai?$c():null===n.alternate&&0===uc&&(uc=3),n.flags&=-257,n.flags|=65536,n.lanes=i,r===li?n.flags|=16384:(null===(t=n.updateQueue)?n.updateQueue=new Set([r]):t.add(r),iu(e,r,i)),!1;case 22:return n.flags|=65536,r===li?n.flags|=16384:(null===(t=n.updateQueue)?(t={transitions:null,markerInstances:null,retryQueue:new Set([r])},n.updateQueue=t):null===(n=t.retryQueue)?t.retryQueue=new Set([r]):n.add(r),iu(e,r,i)),!1}throw Error(s(435,n.tag))}return iu(e,r,i),$c(),!1}if(Yr)return null!==(t=Ii.current)?(0===(65536&t.flags)&&(t.flags|=256),t.flags|=65536,t.lanes=i,r!==Zr&&ai(Dr(e=Error(s(422),{cause:r}),n))):(r!==Zr&&ai(Dr(t=Error(s(423),{cause:r}),n)),(e=e.current.alternate).flags|=65536,i&=-i,e.lanes|=i,r=Dr(r,n),Do(e,i=zs(e.stateNode,r,i)),4!==uc&&(uc=2)),!1;var a=Error(s(520),{cause:r});if(a=Dr(a,n),null===gc?gc=[a]:gc.push(a),4!==uc&&(uc=2),null===t)return!0;r=Dr(r,n),n=t;do{switch(n.tag){case 3:return n.flags|=65536,e=i&-i,n.lanes|=e,Do(n,e=zs(n.stateNode,r,e)),!1;case 1:if(t=n.type,a=n.stateNode,0===(128&n.flags)&&("function"===typeof t.getDerivedStateFromError||null!==a&&"function"===typeof a.componentDidCatch&&(null===Sc||!Sc.has(a))))return n.flags|=65536,i&=-i,n.lanes|=i,Vs(i=Us(i),e,n,r),Do(n,i),!1}n=n.return}while(null!==n);return!1}(e,i,t,n,rc))return uc=1,Ms(e,Dr(n,e.current)),void(nc=null)}catch(a){if(null!==i)throw nc=i,a;return uc=1,Ms(e,Dr(n,e.current)),void(nc=null)}32768&t.flags?(Yr||1===r?e=!0:oc||0!==(536870912&rc)?e=!1:(sc=e=!0,(2===r||3===r||6===r)&&(null!==(r=Ii.current)&&13===r.tag&&(r.flags|=16384))),Jc(t,e)):Xc(t)}function Xc(e){var t=e;do{if(0!==(32768&t.flags))return void Jc(t,sc);e=t.return;var n=Gl(t.alternate,t,cc);if(null!==n)return void(nc=n);if(null!==(t=t.sibling))return void(nc=t);nc=t=e}while(null!==t);0===uc&&(uc=5)}function Jc(e,t){do{var n=Yl(e.alternate,e);if(null!==n)return n.flags&=32767,void(nc=n);if(null!==(n=e.return)&&(n.flags|=32768,n.subtreeFlags=0,n.deletions=null),!t&&null!==(e=e.sibling))return void(nc=e);nc=e=n}while(null!==e);uc=6,nc=null}function Zc(e,t,n,r,i,a,o,l,c,u){var d=P.T,h=q.p;try{q.p=2,P.T=null,function(e,t,n,r,i,a,o,l){do{tu()}while(null!==kc);if(0!==(6&ec))throw Error(s(327));var c=e.finishedWork;if(r=e.finishedLanes,null===c)return null;if(e.finishedWork=null,e.finishedLanes=0,c===e.current)throw Error(s(177));e.callbackNode=null,e.callbackPriority=0,e.cancelPendingCommit=null;var u=c.lanes|c.childLanes;if(function(e,t,n,r,i,a){var s=e.pendingLanes;e.pendingLanes=n,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=n,e.entangledLanes&=n,e.errorRecoveryDisabledLanes&=n,e.shellSuspendCounter=0;var o=e.entanglements,l=e.expirationTimes,c=e.hiddenUpdates;for(n=s&~n;0<n;){var u=31-we(n),d=1<<u;o[u]=0,l[u]=-1;var h=c[u];if(null!==h)for(c[u]=null,u=0;u<h.length;u++){var f=h[u];null!==f&&(f.lane&=-536870913)}n&=~d}0!==r&&Oe(e,r,0),0!==a&&0===i&&0!==e.tag&&(e.suspendedLanes|=a&~(s&~t))}(e,r,u|=_r,a,o,l),e===tc&&(nc=tc=null,rc=0),0===(10256&c.subtreeFlags)&&0===(10256&c.flags)||Ec||(Ec=!0,Cc=u,Tc=n,function(e,t){ie(e,t)}(he,(function(){return tu(),null}))),n=0!==(15990&c.flags),0!==(15990&c.subtreeFlags)||n?(n=P.T,P.T=null,a=q.p,q.p=2,o=ec,ec|=4,function(e,t){if(e=e.containerInfo,Qu=$d,er(e=Zn(e))){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{var r=(n=(n=e.ownerDocument)&&n.defaultView||window).getSelection&&n.getSelection();if(r&&0!==r.rangeCount){n=r.anchorNode;var i=r.anchorOffset,a=r.focusNode;r=r.focusOffset;try{n.nodeType,a.nodeType}catch(g){n=null;break e}var o=0,l=-1,c=-1,u=0,d=0,h=e,f=null;t:for(;;){for(var p;h!==n||0!==i&&3!==h.nodeType||(l=o+i),h!==a||0!==r&&3!==h.nodeType||(c=o+r),3===h.nodeType&&(o+=h.nodeValue.length),null!==(p=h.firstChild);)f=h,h=p;for(;;){if(h===e)break t;if(f===n&&++u===i&&(l=o),f===a&&++d===r&&(c=o),null!==(p=h.nextSibling))break;f=(h=f).parentNode}h=p}n=-1===l||-1===c?null:{start:l,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for(Ku={focusedElem:e,selectionRange:n},$d=!1,nl=t;null!==nl;)if(e=(t=nl).child,0!==(1028&t.subtreeFlags)&&null!==e)e.return=t,nl=e;else for(;null!==nl;){switch(a=(t=nl).alternate,e=t.flags,t.tag){case 0:case 11:case 15:case 5:case 26:case 27:case 6:case 4:case 17:break;case 1:if(0!==(1024&e)&&null!==a){e=void 0,n=t,i=a.memoizedProps,a=a.memoizedState,r=n.stateNode;try{var m=Rs(n.type,i,(n.elementType,n.type));e=r.getSnapshotBeforeUpdate(m,a),r.__reactInternalSnapshotBeforeUpdate=e}catch(y){ru(n,n.return,y)}}break;case 3:if(0!==(1024&e))if(9===(n=(e=t.stateNode.containerInfo).nodeType))sd(e);else if(1===n)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":sd(e);break;default:e.textContent=""}break;default:if(0!==(1024&e))throw Error(s(163))}if(null!==(e=t.sibling)){e.return=t.return,nl=e;break}nl=t.return}m=rl,rl=!1}(e,c),pl(c,e),tr(Ku,e.containerInfo),$d=!!Qu,Ku=Qu=null,e.current=c,il(e,c.alternate,c),oe(),ec=o,q.p=a,P.T=n):e.current=c,Ec?(Ec=!1,kc=e,_c=r):eu(e,u),u=e.pendingLanes,0===u&&(Sc=null),function(e){if(ve&&"function"===typeof ve.onCommitFiberRoot)try{ve.onCommitFiberRoot(ye,e,void 0,128===(128&e.current.flags))}catch(t){}}(c.stateNode),mu(e),null!==t)for(i=e.onRecoverableError,c=0;c<t.length;c++)u=t[c],i(u.value,{componentStack:u.stack});0!==(3&_c)&&tu(),u=e.pendingLanes,0!==(4194218&r)&&0!==(42&u)?e===Ac?Ic++:(Ic=0,Ac=e):Ic=0,gu(0,!1)}(e,t,n,r,h,i,a,o)}finally{P.T=d,q.p=h}}function eu(e,t){0===(e.pooledCacheLanes&=t)&&(null!=(t=e.pooledCache)&&(e.pooledCache=null,Vi(t)))}function tu(){if(null!==kc){var e=kc,t=Cc;Cc=0;var n=je(_c),r=P.T,i=q.p;try{if(q.p=32>n?32:n,P.T=null,null===kc)var a=!1;else{n=Tc,Tc=null;var o=kc,l=_c;if(kc=null,_c=0,0!==(6&ec))throw Error(s(331));var c=ec;if(ec|=4,Nl(o.current),El(o,o.current,l,n),ec=c,gu(0,!1),ve&&"function"===typeof ve.onPostCommitFiberRoot)try{ve.onPostCommitFiberRoot(ye,o)}catch(u){}a=!0}return a}finally{q.p=i,P.T=r,eu(e,t)}}return!1}function nu(e,t,n){t=Dr(n,t),null!==(e=Ro(e,t=zs(e.stateNode,t,2),2))&&(Re(e,2),mu(e))}function ru(e,t,n){if(3===e.tag)nu(e,e,n);else for(;null!==t;){if(3===t.tag){nu(t,e,n);break}if(1===t.tag){var r=t.stateNode;if("function"===typeof t.type.getDerivedStateFromError||"function"===typeof r.componentDidCatch&&(null===Sc||!Sc.has(r))){e=Dr(n,e),null!==(r=Ro(t,n=Us(2),2))&&(Vs(n,r,t,e),Re(r,2),mu(r));break}}t=t.return}}function iu(e,t,n){var r=e.pingCache;if(null===r){r=e.pingCache=new Zl;var i=new Set;r.set(t,i)}else void 0===(i=r.get(t))&&(i=new Set,r.set(t,i));i.has(n)||(lc=!0,i.add(n),e=au.bind(null,e,t,n),t.then(e,e))}function au(e,t,n){var r=e.pingCache;null!==r&&r.delete(t),e.pingedLanes|=e.suspendedLanes&n,e.warmLanes&=~n,tc===e&&(rc&n)===n&&(4===uc||3===uc&&(62914560&rc)===rc&&300>le()-bc?0===(2&ec)&&Uc(e,0):fc|=n,mc===rc&&(mc=0)),mu(e)}function su(e,t){0===t&&(t=Pe()),null!==(e=Ar(e,t))&&(Re(e,t),mu(e))}function ou(e){var t=e.memoizedState,n=0;null!==t&&(n=t.retryLane),su(e,n)}function lu(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,i=e.memoizedState;null!==i&&(n=i.retryLane);break;case 19:r=e.stateNode;break;case 22:r=e.stateNode._retryCache;break;default:throw Error(s(314))}null!==r&&r.delete(t),su(e,n)}var cu=null,uu=null,du=!1,hu=!1,fu=!1,pu=0;function mu(e){var t;e!==uu&&null===e.next&&(null===uu?cu=uu=e:uu=uu.next=e),hu=!0,du||(du=!0,t=yu,rd((function(){0!==(6&ec)?ie(ue,t):t()})))}function gu(e,t){if(!fu&&hu){fu=!0;do{for(var n=!1,r=cu;null!==r;){if(!t)if(0!==e){var i=r.pendingLanes;if(0===i)var a=0;else{var s=r.suspendedLanes,o=r.pingedLanes;a=(1<<31-we(42|e)+1)-1,a=201326677&(a&=i&~(s&~o))?201326677&a|1:a?2|a:0}0!==a&&(n=!0,wu(r,a))}else a=rc,0===(3&(a=Ce(r,r===tc?a:0)))||Te(r,a)||(n=!0,wu(r,a));r=r.next}}while(n);fu=!1}}function yu(){hu=du=!1;var e=0;0!==pu&&(function(){var e=window.event;if(e&&"popstate"===e.type)return e!==Zu&&(Zu=e,!0);return Zu=null,!1}()&&(e=pu),pu=0);for(var t=le(),n=null,r=cu;null!==r;){var i=r.next,a=vu(r,t);0===a?(r.next=null,null===n?cu=i:n.next=i,null===i&&(uu=n)):(n=r,(0!==e||0!==(3&a))&&(hu=!0)),r=i}gu(e,!1)}function vu(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,i=e.expirationTimes,a=-62914561&e.pendingLanes;0<a;){var s=31-we(a),o=1<<s,l=i[s];-1===l?0!==(o&n)&&0===(o&r)||(i[s]=Ie(o,t)):l<=t&&(e.expiredLanes|=o),a&=~o}if(n=rc,n=Ce(e,e===(t=tc)?n:0),r=e.callbackNode,0===n||e===t&&2===ic||null!==e.cancelPendingCommit)return null!==r&&null!==r&&ae(r),e.callbackNode=null,e.callbackPriority=0;if(0===(3&n)||Te(e,n)){if((t=n&-n)===e.callbackPriority)return t;switch(null!==r&&ae(r),je(n)){case 2:case 8:n=de;break;case 32:default:n=he;break;case 268435456:n=pe}return r=bu.bind(null,e),n=ie(n,r),e.callbackPriority=t,e.callbackNode=n,t}return null!==r&&null!==r&&ae(r),e.callbackPriority=2,e.callbackNode=null,2}function bu(e,t){var n=e.callbackNode;if(tu()&&e.callbackNode!==n)return null;var r=rc;return 0===(r=Ce(e,e===tc?r:0))?null:(Oc(e,r,t),vu(e,le()),null!=e.callbackNode&&e.callbackNode===n?bu.bind(null,e):null)}function wu(e,t){if(tu())return null;Oc(e,t,!0)}function xu(){return 0===pu&&(pu=Ae()),pu}function Su(e){return null==e||"symbol"===typeof e||"boolean"===typeof e?null:"function"===typeof e?e:At(""+e)}function Eu(e,t){var n=t.ownerDocument.createElement("input");return n.name=t.name,n.value=t.value,e.id&&n.setAttribute("form",e.id),t.parentNode.insertBefore(n,t),e=new FormData(e),n.parentNode.removeChild(n),e}for(var ku=0;ku<xr.length;ku++){var _u=xr[ku];Sr(_u.toLowerCase(),"on"+(_u[0].toUpperCase()+_u.slice(1)))}Sr(fr,"onAnimationEnd"),Sr(pr,"onAnimationIteration"),Sr(mr,"onAnimationStart"),Sr("dblclick","onDoubleClick"),Sr("focusin","onFocus"),Sr("focusout","onBlur"),Sr(gr,"onTransitionRun"),Sr(yr,"onTransitionStart"),Sr(vr,"onTransitionCancel"),Sr(br,"onTransitionEnd"),tt("onMouseEnter",["mouseout","mouseover"]),tt("onMouseLeave",["mouseout","mouseover"]),tt("onPointerEnter",["pointerout","pointerover"]),tt("onPointerLeave",["pointerout","pointerover"]),et("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),et("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),et("onBeforeInput",["compositionend","keypress","textInput","paste"]),et("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),et("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),et("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Cu="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Tu=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Cu));function Iu(e,t){t=0!==(4&t);for(var n=0;n<e.length;n++){var r=e[n],i=r.event;r=r.listeners;e:{var a=void 0;if(t)for(var s=r.length-1;0<=s;s--){var o=r[s],l=o.instance,c=o.currentTarget;if(o=o.listener,l!==a&&i.isPropagationStopped())break e;a=o,i.currentTarget=c;try{a(i)}catch(u){Os(u)}i.currentTarget=null,a=l}else for(s=0;s<r.length;s++){if(l=(o=r[s]).instance,c=o.currentTarget,o=o.listener,l!==a&&i.isPropagationStopped())break e;a=o,i.currentTarget=c;try{a(i)}catch(u){Os(u)}i.currentTarget=null,a=l}}}}function Au(e,t){var n=t[Ve];void 0===n&&(n=t[Ve]=new Set);var r=e+"__bubble";n.has(r)||(Ou(t,e,2,!1),n.add(r))}function Pu(e,t,n){var r=0;t&&(r|=4),Ou(n,e,r,t)}var Nu="_reactListening"+Math.random().toString(36).slice(2);function Ru(e){if(!e[Nu]){e[Nu]=!0,Je.forEach((function(t){"selectionchange"!==t&&(Tu.has(t)||Pu(t,!1,e),Pu(t,!0,e))}));var t=9===e.nodeType?e:e.ownerDocument;null===t||t[Nu]||(t[Nu]=!0,Pu("selectionchange",!1,t))}}function Ou(e,t,n,r){switch(Xd(t)){case 2:var i=Hd;break;case 8:i=Wd;break;default:i=Qd}n=i.bind(null,t,n,e),i=void 0,!Ft||"touchstart"!==t&&"touchmove"!==t&&"wheel"!==t||(i=!0),r?void 0!==i?e.addEventListener(t,n,{capture:!0,passive:i}):e.addEventListener(t,n,!0):void 0!==i?e.addEventListener(t,n,{passive:i}):e.addEventListener(t,n,!1)}function Du(e,t,n,r,i){var a=r;if(0===(1&t)&&0===(2&t)&&null!==r)e:for(;;){if(null===r)return;var s=r.tag;if(3===s||4===s){var o=r.stateNode.containerInfo;if(o===i||8===o.nodeType&&o.parentNode===i)break;if(4===s)for(s=r.return;null!==s;){var l=s.tag;if((3===l||4===l)&&((l=s.stateNode.containerInfo)===i||8===l.nodeType&&l.parentNode===i))return;s=s.return}for(;null!==o;){if(null===(s=Qe(o)))return;if(5===(l=s.tag)||6===l||26===l||27===l){r=a=s;continue e}o=o.parentNode}}r=r.return}Lt((function(){var r=a,i=Nt(n),s=[];e:{var o=wr.get(e);if(void 0!==o){var l=Jt,c=e;switch(e){case"keypress":if(0===$t(n))break e;case"keydown":case"keyup":l=pn;break;case"focusin":c="focus",l=an;break;case"focusout":c="blur",l=an;break;case"beforeblur":case"afterblur":l=an;break;case"click":if(2===n.button)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":l=nn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":l=rn;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":l=gn;break;case fr:case pr:case mr:l=sn;break;case br:l=yn;break;case"scroll":case"scrollend":l=en;break;case"wheel":l=vn;break;case"copy":case"cut":case"paste":l=on;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":l=mn;break;case"toggle":case"beforetoggle":l=bn}var u=0!==(4&t),d=!u&&("scroll"===e||"scrollend"===e),h=u?null!==o?o+"Capture":null:o;u=[];for(var f,p=r;null!==p;){var m=p;if(f=m.stateNode,5!==(m=m.tag)&&26!==m&&27!==m||null===f||null===h||null!=(m=Mt(p,h))&&u.push(ju(p,m,f)),d)break;p=p.return}0<u.length&&(o=new l(o,c,null,n,i),s.push({event:o,listeners:u}))}}if(0===(7&t)){if(l="mouseout"===e||"pointerout"===e,(!(o="mouseover"===e||"pointerover"===e)||n===Pt||!(c=n.relatedTarget||n.fromElement)||!Qe(c)&&!c[Ue])&&(l||o)&&(o=i.window===i?i:(o=i.ownerDocument)?o.defaultView||o.parentWindow:window,l?(l=r,null!==(c=(c=n.relatedTarget||n.toElement)?Qe(c):null)&&(d=M(c),u=c.tag,c!==d||5!==u&&27!==u&&6!==u)&&(c=null)):(l=null,c=r),l!==c)){if(u=nn,m="onMouseLeave",h="onMouseEnter",p="mouse","pointerout"!==e&&"pointerover"!==e||(u=mn,m="onPointerLeave",h="onPointerEnter",p="pointer"),d=null==l?o:Ge(l),f=null==c?o:Ge(c),(o=new u(m,p+"leave",l,n,i)).target=d,o.relatedTarget=f,m=null,Qe(i)===r&&((u=new u(h,p+"enter",c,n,i)).target=f,u.relatedTarget=d,m=u),d=m,l&&c)e:{for(h=c,p=0,f=u=l;f;f=Mu(f))p++;for(f=0,m=h;m;m=Mu(m))f++;for(;0<p-f;)u=Mu(u),p--;for(;0<f-p;)h=Mu(h),f--;for(;p--;){if(u===h||null!==h&&u===h.alternate)break e;u=Mu(u),h=Mu(h)}u=null}else u=null;null!==l&&Fu(s,o,l,u,!1),null!==c&&null!==d&&Fu(s,d,c,u,!0)}if("select"===(l=(o=r?Ge(r):window).nodeName&&o.nodeName.toLowerCase())||"input"===l&&"file"===o.type)var g=Mn;else if(Nn(o))if(Fn)g=Qn;else{g=Hn;var y=$n}else!(l=o.nodeName)||"input"!==l.toLowerCase()||"checkbox"!==o.type&&"radio"!==o.type?r&&Ct(r.elementType)&&(g=Mn):g=Wn;switch(g&&(g=g(e,r))?Rn(s,g,n,i):(y&&y(e,o,r),"focusout"===e&&r&&"number"===o.type&&null!=r.memoizedProps.value&&vt(o,"number",o.value)),y=r?Ge(r):window,e){case"focusin":(Nn(y)||"true"===y.contentEditable)&&(rr=y,ir=r,ar=null);break;case"focusout":ar=ir=rr=null;break;case"mousedown":sr=!0;break;case"contextmenu":case"mouseup":case"dragend":sr=!1,or(s,n,i);break;case"selectionchange":if(nr)break;case"keydown":case"keyup":or(s,n,i)}var v;if(xn)e:{switch(e){case"compositionstart":var b="onCompositionStart";break e;case"compositionend":b="onCompositionEnd";break e;case"compositionupdate":b="onCompositionUpdate";break e}b=void 0}else An?Tn(e,n)&&(b="onCompositionEnd"):"keydown"===e&&229===n.keyCode&&(b="onCompositionStart");b&&(kn&&"ko"!==n.locale&&(An||"onCompositionStart"!==b?"onCompositionEnd"===b&&An&&(v=Bt()):(Vt="value"in(Ut=i)?Ut.value:Ut.textContent,An=!0)),0<(y=Lu(r,b)).length&&(b=new ln(b,e,null,n,i),s.push({event:b,listeners:y}),v?b.data=v:null!==(v=In(n))&&(b.data=v))),(v=En?function(e,t){switch(e){case"compositionend":return In(t);case"keypress":return 32!==t.which?null:(Cn=!0,_n);case"textInput":return(e=t.data)===_n&&Cn?null:e;default:return null}}(e,n):function(e,t){if(An)return"compositionend"===e||!xn&&Tn(e,t)?(e=Bt(),qt=Vt=Ut=null,An=!1,e):null;switch(e){case"paste":default:return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return kn&&"ko"!==t.locale?null:t.data}}(e,n))&&(0<(b=Lu(r,"onBeforeInput")).length&&(y=new ln("onBeforeInput","beforeinput",null,n,i),s.push({event:y,listeners:b}),y.data=v)),function(e,t,n,r,i){if("submit"===t&&n&&n.stateNode===i){var a=Su((i[ze]||null).action),s=r.submitter;s&&null!==(t=(t=s[ze]||null)?Su(t.formAction):s.getAttribute("formAction"))&&(a=t,s=null);var o=new Jt("action","action",null,r,i);e.push({event:o,listeners:[{instance:null,listener:function(){if(r.defaultPrevented){if(0!==pu){var e=s?Eu(i,s):new FormData(i);us(n,{pending:!0,data:e,method:i.method,action:a},null,e)}}else"function"===typeof a&&(o.preventDefault(),e=s?Eu(i,s):new FormData(i),us(n,{pending:!0,data:e,method:i.method,action:a},a,e))},currentTarget:i}]})}}(s,e,r,n,i)}Iu(s,t)}))}function ju(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Lu(e,t){for(var n=t+"Capture",r=[];null!==e;){var i=e,a=i.stateNode;5!==(i=i.tag)&&26!==i&&27!==i||null===a||(null!=(i=Mt(e,n))&&r.unshift(ju(e,i,a)),null!=(i=Mt(e,t))&&r.push(ju(e,i,a))),e=e.return}return r}function Mu(e){if(null===e)return null;do{e=e.return}while(e&&5!==e.tag&&27!==e.tag);return e||null}function Fu(e,t,n,r,i){for(var a=t._reactName,s=[];null!==n&&n!==r;){var o=n,l=o.alternate,c=o.stateNode;if(o=o.tag,null!==l&&l===r)break;5!==o&&26!==o&&27!==o||null===c||(l=c,i?null!=(c=Mt(n,a))&&s.unshift(ju(n,c,l)):i||null!=(c=Mt(n,a))&&s.push(ju(n,c,l))),n=n.return}0!==s.length&&e.push({event:t,listeners:s})}var zu=/\r\n?/g,Uu=/\u0000|\uFFFD/g;function Vu(e){return("string"===typeof e?e:""+e).replace(zu,"\n").replace(Uu,"")}function qu(e,t){return t=Vu(t),Vu(e)===t}function Bu(){}function $u(e,t,n,r,i,a){switch(n){case"children":"string"===typeof r?"body"===t||"textarea"===t&&""===r||St(e,r):("number"===typeof r||"bigint"===typeof r)&&"body"!==t&&St(e,""+r);break;case"className":ot(e,"class",r);break;case"tabIndex":ot(e,"tabindex",r);break;case"dir":case"role":case"viewBox":case"width":case"height":ot(e,n,r);break;case"style":_t(e,r,a);break;case"data":if("object"!==t){ot(e,"data",r);break}case"src":case"href":if(""===r&&("a"!==t||"href"!==n)){e.removeAttribute(n);break}if(null==r||"function"===typeof r||"symbol"===typeof r||"boolean"===typeof r){e.removeAttribute(n);break}r=At(""+r),e.setAttribute(n,r);break;case"action":case"formAction":if("function"===typeof r){e.setAttribute(n,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}if("function"===typeof a&&("formAction"===n?("input"!==t&&$u(e,t,"name",i.name,i,null),$u(e,t,"formEncType",i.formEncType,i,null),$u(e,t,"formMethod",i.formMethod,i,null),$u(e,t,"formTarget",i.formTarget,i,null)):($u(e,t,"encType",i.encType,i,null),$u(e,t,"method",i.method,i,null),$u(e,t,"target",i.target,i,null))),null==r||"symbol"===typeof r||"boolean"===typeof r){e.removeAttribute(n);break}r=At(""+r),e.setAttribute(n,r);break;case"onClick":null!=r&&(e.onclick=Bu);break;case"onScroll":null!=r&&Au("scroll",e);break;case"onScrollEnd":null!=r&&Au("scrollend",e);break;case"dangerouslySetInnerHTML":if(null!=r){if("object"!==typeof r||!("__html"in r))throw Error(s(61));if(null!=(n=r.__html)){if(null!=i.children)throw Error(s(60));e.innerHTML=n}}break;case"multiple":e.multiple=r&&"function"!==typeof r&&"symbol"!==typeof r;break;case"muted":e.muted=r&&"function"!==typeof r&&"symbol"!==typeof r;break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":case"autoFocus":break;case"xlinkHref":if(null==r||"function"===typeof r||"boolean"===typeof r||"symbol"===typeof r){e.removeAttribute("xlink:href");break}n=At(""+r),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",n);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":null!=r&&"function"!==typeof r&&"symbol"!==typeof r?e.setAttribute(n,""+r):e.removeAttribute(n);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":r&&"function"!==typeof r&&"symbol"!==typeof r?e.setAttribute(n,""):e.removeAttribute(n);break;case"capture":case"download":!0===r?e.setAttribute(n,""):!1!==r&&null!=r&&"function"!==typeof r&&"symbol"!==typeof r?e.setAttribute(n,r):e.removeAttribute(n);break;case"cols":case"rows":case"size":case"span":null!=r&&"function"!==typeof r&&"symbol"!==typeof r&&!isNaN(r)&&1<=r?e.setAttribute(n,r):e.removeAttribute(n);break;case"rowSpan":case"start":null==r||"function"===typeof r||"symbol"===typeof r||isNaN(r)?e.removeAttribute(n):e.setAttribute(n,r);break;case"popover":Au("beforetoggle",e),Au("toggle",e),st(e,"popover",r);break;case"xlinkActuate":lt(e,"http://www.w3.org/1999/xlink","xlink:actuate",r);break;case"xlinkArcrole":lt(e,"http://www.w3.org/1999/xlink","xlink:arcrole",r);break;case"xlinkRole":lt(e,"http://www.w3.org/1999/xlink","xlink:role",r);break;case"xlinkShow":lt(e,"http://www.w3.org/1999/xlink","xlink:show",r);break;case"xlinkTitle":lt(e,"http://www.w3.org/1999/xlink","xlink:title",r);break;case"xlinkType":lt(e,"http://www.w3.org/1999/xlink","xlink:type",r);break;case"xmlBase":lt(e,"http://www.w3.org/XML/1998/namespace","xml:base",r);break;case"xmlLang":lt(e,"http://www.w3.org/XML/1998/namespace","xml:lang",r);break;case"xmlSpace":lt(e,"http://www.w3.org/XML/1998/namespace","xml:space",r);break;case"is":st(e,"is",r);break;case"innerText":case"textContent":break;default:(!(2<n.length)||"o"!==n[0]&&"O"!==n[0]||"n"!==n[1]&&"N"!==n[1])&&st(e,n=Tt.get(n)||n,r)}}function Hu(e,t,n,r,i,a){switch(n){case"style":_t(e,r,a);break;case"dangerouslySetInnerHTML":if(null!=r){if("object"!==typeof r||!("__html"in r))throw Error(s(61));if(null!=(n=r.__html)){if(null!=i.children)throw Error(s(60));e.innerHTML=n}}break;case"children":"string"===typeof r?St(e,r):("number"===typeof r||"bigint"===typeof r)&&St(e,""+r);break;case"onScroll":null!=r&&Au("scroll",e);break;case"onScrollEnd":null!=r&&Au("scrollend",e);break;case"onClick":null!=r&&(e.onclick=Bu);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":case"innerText":case"textContent":break;default:Ze.hasOwnProperty(n)||("o"!==n[0]||"n"!==n[1]||(i=n.endsWith("Capture"),t=n.slice(2,i?n.length-7:void 0),"function"===typeof(a=null!=(a=e[ze]||null)?a[n]:null)&&e.removeEventListener(t,a,i),"function"!==typeof r)?n in e?e[n]=r:!0===r?e.setAttribute(n,""):st(e,n,r):("function"!==typeof a&&null!==a&&(n in e?e[n]=null:e.hasAttribute(n)&&e.removeAttribute(n)),e.addEventListener(t,r,i)))}}function Wu(e,t,n){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Au("error",e),Au("load",e);var r,i=!1,a=!1;for(r in n)if(n.hasOwnProperty(r)){var o=n[r];if(null!=o)switch(r){case"src":i=!0;break;case"srcSet":a=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(s(137,t));default:$u(e,t,r,o,n,null)}}return a&&$u(e,t,"srcSet",n.srcSet,n,null),void(i&&$u(e,t,"src",n.src,n,null));case"input":Au("invalid",e);var l=r=o=a=null,c=null,u=null;for(i in n)if(n.hasOwnProperty(i)){var d=n[i];if(null!=d)switch(i){case"name":a=d;break;case"type":o=d;break;case"checked":c=d;break;case"defaultChecked":u=d;break;case"value":r=d;break;case"defaultValue":l=d;break;case"children":case"dangerouslySetInnerHTML":if(null!=d)throw Error(s(137,t));break;default:$u(e,t,i,d,n,null)}}return yt(e,r,l,c,u,o,a,!1),void dt(e);case"select":for(a in Au("invalid",e),i=o=r=null,n)if(n.hasOwnProperty(a)&&null!=(l=n[a]))switch(a){case"value":r=l;break;case"defaultValue":o=l;break;case"multiple":i=l;default:$u(e,t,a,l,n,null)}return t=r,n=o,e.multiple=!!i,void(null!=t?bt(e,!!i,t,!1):null!=n&&bt(e,!!i,n,!0));case"textarea":for(o in Au("invalid",e),r=a=i=null,n)if(n.hasOwnProperty(o)&&null!=(l=n[o]))switch(o){case"value":i=l;break;case"defaultValue":a=l;break;case"children":r=l;break;case"dangerouslySetInnerHTML":if(null!=l)throw Error(s(91));break;default:$u(e,t,o,l,n,null)}return xt(e,i,a,r),void dt(e);case"option":for(c in n)if(n.hasOwnProperty(c)&&null!=(i=n[c]))if("selected"===c)e.selected=i&&"function"!==typeof i&&"symbol"!==typeof i;else $u(e,t,c,i,n,null);return;case"dialog":Au("cancel",e),Au("close",e);break;case"iframe":case"object":Au("load",e);break;case"video":case"audio":for(i=0;i<Cu.length;i++)Au(Cu[i],e);break;case"image":Au("error",e),Au("load",e);break;case"details":Au("toggle",e);break;case"embed":case"source":case"link":Au("error",e),Au("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(u in n)if(n.hasOwnProperty(u)&&null!=(i=n[u]))switch(u){case"children":case"dangerouslySetInnerHTML":throw Error(s(137,t));default:$u(e,t,u,i,n,null)}return;default:if(Ct(t)){for(d in n)n.hasOwnProperty(d)&&(void 0!==(i=n[d])&&Hu(e,t,d,i,n,void 0));return}}for(l in n)n.hasOwnProperty(l)&&(null!=(i=n[l])&&$u(e,t,l,i,n,null))}var Qu=null,Ku=null;function Gu(e){return 9===e.nodeType?e:e.ownerDocument}function Yu(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Xu(e,t){if(0===e)switch(t){case"svg":return 1;case"math":return 2;default:return 0}return 1===e&&"foreignObject"===t?0:e}function Ju(e,t){return"textarea"===e||"noscript"===e||"string"===typeof t.children||"number"===typeof t.children||"bigint"===typeof t.children||"object"===typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var Zu=null;var ed="function"===typeof setTimeout?setTimeout:void 0,td="function"===typeof clearTimeout?clearTimeout:void 0,nd="function"===typeof Promise?Promise:void 0,rd="function"===typeof queueMicrotask?queueMicrotask:"undefined"!==typeof nd?function(e){return nd.resolve(null).then(e).catch(id)}:ed;function id(e){setTimeout((function(){throw e}))}function ad(e,t){var n=t,r=0;do{var i=n.nextSibling;if(e.removeChild(n),i&&8===i.nodeType)if("/$"===(n=i.data)){if(0===r)return e.removeChild(i),void mh(t);r--}else"$"!==n&&"$?"!==n&&"$!"!==n||r++;n=i}while(n);mh(t)}function sd(e){var t=e.firstChild;for(t&&10===t.nodeType&&(t=t.nextSibling);t;){var n=t;switch(t=t.nextSibling,n.nodeName){case"HTML":case"HEAD":case"BODY":sd(n),We(n);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if("stylesheet"===n.rel.toLowerCase())continue}e.removeChild(n)}}function od(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break;if(8===t){if("$"===(t=e.data)||"$!"===t||"$?"===t||"F!"===t||"F"===t)break;if("/$"===t)return null}}return e}function ld(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if("$"===n||"$!"===n||"$?"===n){if(0===t)return e;t--}else"/$"===n&&t++}e=e.previousSibling}return null}function cd(e,t,n){switch(t=Gu(n),e){case"html":if(!(e=t.documentElement))throw Error(s(452));return e;case"head":if(!(e=t.head))throw Error(s(453));return e;case"body":if(!(e=t.body))throw Error(s(454));return e;default:throw Error(s(451))}}var ud=new Map,dd=new Set;function hd(e){return"function"===typeof e.getRootNode?e.getRootNode():e.ownerDocument}var fd=q.d;q.d={f:function(){var e=fd.f(),t=Fc();return e||t},r:function(e){var t=Ke(e);null!==t&&5===t.tag&&"form"===t.type?hs(t):fd.r(e)},D:function(e){fd.D(e),md("dns-prefetch",e,null)},C:function(e,t){fd.C(e,t),md("preconnect",e,t)},L:function(e,t,n){fd.L(e,t,n);var r=pd;if(r&&e&&t){var i='link[rel="preload"][as="'+mt(t)+'"]';"image"===t&&n&&n.imageSrcSet?(i+='[imagesrcset="'+mt(n.imageSrcSet)+'"]',"string"===typeof n.imageSizes&&(i+='[imagesizes="'+mt(n.imageSizes)+'"]')):i+='[href="'+mt(e)+'"]';var a=i;switch(t){case"style":a=yd(e);break;case"script":a=wd(e)}ud.has(a)||(e=N({rel:"preload",href:"image"===t&&n&&n.imageSrcSet?void 0:e,as:t},n),ud.set(a,e),null!==r.querySelector(i)||"style"===t&&r.querySelector(vd(a))||"script"===t&&r.querySelector(xd(a))||(Wu(t=r.createElement("link"),"link",e),Xe(t),r.head.appendChild(t)))}},m:function(e,t){fd.m(e,t);var n=pd;if(n&&e){var r=t&&"string"===typeof t.as?t.as:"script",i='link[rel="modulepreload"][as="'+mt(r)+'"][href="'+mt(e)+'"]',a=i;switch(r){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":a=wd(e)}if(!ud.has(a)&&(e=N({rel:"modulepreload",href:e},t),ud.set(a,e),null===n.querySelector(i))){switch(r){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(n.querySelector(xd(a)))return}Wu(r=n.createElement("link"),"link",e),Xe(r),n.head.appendChild(r)}}},X:function(e,t){fd.X(e,t);var n=pd;if(n&&e){var r=Ye(n).hoistableScripts,i=wd(e),a=r.get(i);a||((a=n.querySelector(xd(i)))||(e=N({src:e,async:!0},t),(t=ud.get(i))&&_d(e,t),Xe(a=n.createElement("script")),Wu(a,"link",e),n.head.appendChild(a)),a={type:"script",instance:a,count:1,state:null},r.set(i,a))}},S:function(e,t,n){fd.S(e,t,n);var r=pd;if(r&&e){var i=Ye(r).hoistableStyles,a=yd(e);t=t||"default";var s=i.get(a);if(!s){var o={loading:0,preload:null};if(s=r.querySelector(vd(a)))o.loading=5;else{e=N({rel:"stylesheet",href:e,"data-precedence":t},n),(n=ud.get(a))&&kd(e,n);var l=s=r.createElement("link");Xe(l),Wu(l,"link",e),l._p=new Promise((function(e,t){l.onload=e,l.onerror=t})),l.addEventListener("load",(function(){o.loading|=1})),l.addEventListener("error",(function(){o.loading|=2})),o.loading|=4,Ed(s,t,r)}s={type:"stylesheet",instance:s,count:1,state:o},i.set(a,s)}}},M:function(e,t){fd.M(e,t);var n=pd;if(n&&e){var r=Ye(n).hoistableScripts,i=wd(e),a=r.get(i);a||((a=n.querySelector(xd(i)))||(e=N({src:e,async:!0,type:"module"},t),(t=ud.get(i))&&_d(e,t),Xe(a=n.createElement("script")),Wu(a,"link",e),n.head.appendChild(a)),a={type:"script",instance:a,count:1,state:null},r.set(i,a))}}};var pd="undefined"===typeof document?null:document;function md(e,t,n){var r=pd;if(r&&"string"===typeof t&&t){var i=mt(t);i='link[rel="'+e+'"][href="'+i+'"]',"string"===typeof n&&(i+='[crossorigin="'+n+'"]'),dd.has(i)||(dd.add(i),e={rel:e,crossOrigin:n,href:t},null===r.querySelector(i)&&(Wu(t=r.createElement("link"),"link",e),Xe(t),r.head.appendChild(t)))}}function gd(e,t,n,r){var i,a,o,l,c=(c=X.current)?hd(c):null;if(!c)throw Error(s(446));switch(e){case"meta":case"title":return null;case"style":return"string"===typeof n.precedence&&"string"===typeof n.href?(t=yd(n.href),(r=(n=Ye(c).hoistableStyles).get(t))||(r={type:"style",instance:null,count:0,state:null},n.set(t,r)),r):{type:"void",instance:null,count:0,state:null};case"link":if("stylesheet"===n.rel&&"string"===typeof n.href&&"string"===typeof n.precedence){e=yd(n.href);var u=Ye(c).hoistableStyles,d=u.get(e);if(d||(c=c.ownerDocument||c,d={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},u.set(e,d),(u=c.querySelector(vd(e)))&&!u._p&&(d.instance=u,d.state.loading=5),ud.has(e)||(n={rel:"preload",as:"style",href:n.href,crossOrigin:n.crossOrigin,integrity:n.integrity,media:n.media,hrefLang:n.hrefLang,referrerPolicy:n.referrerPolicy},ud.set(e,n),u||(i=c,a=e,o=n,l=d.state,i.querySelector('link[rel="preload"][as="style"]['+a+"]")?l.loading=1:(a=i.createElement("link"),l.preload=a,a.addEventListener("load",(function(){return l.loading|=1})),a.addEventListener("error",(function(){return l.loading|=2})),Wu(a,"link",o),Xe(a),i.head.appendChild(a))))),t&&null===r)throw Error(s(528,""));return d}if(t&&null!==r)throw Error(s(529,""));return null;case"script":return t=n.async,"string"===typeof(n=n.src)&&t&&"function"!==typeof t&&"symbol"!==typeof t?(t=wd(n),(r=(n=Ye(c).hoistableScripts).get(t))||(r={type:"script",instance:null,count:0,state:null},n.set(t,r)),r):{type:"void",instance:null,count:0,state:null};default:throw Error(s(444,e))}}function yd(e){return'href="'+mt(e)+'"'}function vd(e){return'link[rel="stylesheet"]['+e+"]"}function bd(e){return N({},e,{"data-precedence":e.precedence,precedence:null})}function wd(e){return'[src="'+mt(e)+'"]'}function xd(e){return"script[async]"+e}function Sd(e,t,n){if(t.count++,null===t.instance)switch(t.type){case"style":var r=e.querySelector('style[data-href~="'+mt(n.href)+'"]');if(r)return t.instance=r,Xe(r),r;var i=N({},n,{"data-href":n.href,"data-precedence":n.precedence,href:null,precedence:null});return Xe(r=(e.ownerDocument||e).createElement("style")),Wu(r,"style",i),Ed(r,n.precedence,e),t.instance=r;case"stylesheet":i=yd(n.href);var a=e.querySelector(vd(i));if(a)return t.state.loading|=4,t.instance=a,Xe(a),a;r=bd(n),(i=ud.get(i))&&kd(r,i),Xe(a=(e.ownerDocument||e).createElement("link"));var o=a;return o._p=new Promise((function(e,t){o.onload=e,o.onerror=t})),Wu(a,"link",r),t.state.loading|=4,Ed(a,n.precedence,e),t.instance=a;case"script":return a=wd(n.src),(i=e.querySelector(xd(a)))?(t.instance=i,Xe(i),i):(r=n,(i=ud.get(a))&&_d(r=N({},n),i),Xe(i=(e=e.ownerDocument||e).createElement("script")),Wu(i,"link",r),e.head.appendChild(i),t.instance=i);case"void":return null;default:throw Error(s(443,t.type))}else"stylesheet"===t.type&&0===(4&t.state.loading)&&(r=t.instance,t.state.loading|=4,Ed(r,n.precedence,e));return t.instance}function Ed(e,t,n){for(var r=n.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),i=r.length?r[r.length-1]:null,a=i,s=0;s<r.length;s++){var o=r[s];if(o.dataset.precedence===t)a=o;else if(a!==i)break}a?a.parentNode.insertBefore(e,a.nextSibling):(t=9===n.nodeType?n.head:n).insertBefore(e,t.firstChild)}function kd(e,t){null==e.crossOrigin&&(e.crossOrigin=t.crossOrigin),null==e.referrerPolicy&&(e.referrerPolicy=t.referrerPolicy),null==e.title&&(e.title=t.title)}function _d(e,t){null==e.crossOrigin&&(e.crossOrigin=t.crossOrigin),null==e.referrerPolicy&&(e.referrerPolicy=t.referrerPolicy),null==e.integrity&&(e.integrity=t.integrity)}var Cd=null;function Td(e,t,n){if(null===Cd){var r=new Map,i=Cd=new Map;i.set(n,r)}else(r=(i=Cd).get(n))||(r=new Map,i.set(n,r));if(r.has(e))return r;for(r.set(e,null),n=n.getElementsByTagName(e),i=0;i<n.length;i++){var a=n[i];if(!(a[He]||a[Fe]||"link"===e&&"stylesheet"===a.getAttribute("rel"))&&"http://www.w3.org/2000/svg"!==a.namespaceURI){var s=a.getAttribute(t)||"";s=e+s;var o=r.get(s);o?o.push(a):r.set(s,[a])}}return r}function Id(e,t,n){(e=e.ownerDocument||e).head.insertBefore(n,"title"===t?e.querySelector("head > title"):null)}function Ad(e){return"stylesheet"!==e.type||0!==(3&e.state.loading)}var Pd=null;function Nd(){}function Rd(){if(this.count--,0===this.count)if(this.stylesheets)Dd(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}var Od=null;function Dd(e,t){e.stylesheets=null,null!==e.unsuspend&&(e.count++,Od=new Map,t.forEach(jd,e),Od=null,Rd.call(e))}function jd(e,t){if(!(4&t.state.loading)){var n=Od.get(e);if(n)var r=n.get(null);else{n=new Map,Od.set(e,n);for(var i=e.querySelectorAll("link[data-precedence],style[data-precedence]"),a=0;a<i.length;a++){var s=i[a];"LINK"!==s.nodeName&&"not all"===s.getAttribute("media")||(n.set(s.dataset.precedence,s),r=s)}r&&n.set(null,r)}s=(i=t.instance).getAttribute("data-precedence"),(a=n.get(s)||r)===r&&n.set(null,i),n.set(s,i),this.count++,r=Rd.bind(this),i.addEventListener("load",r),i.addEventListener("error",r),a?a.parentNode.insertBefore(i,a.nextSibling):(e=9===e.nodeType?e.head:e).insertBefore(i,e.firstChild),t.state.loading|=4}}var Ld={$$typeof:g,Provider:null,Consumer:null,_currentValue:B,_currentValue2:B,_threadCount:0};function Md(e,t,n,r,i,a,s,o){this.tag=1,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Ne(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.finishedLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Ne(0),this.hiddenUpdates=Ne(null),this.identifierPrefix=r,this.onUncaughtError=i,this.onCaughtError=a,this.onRecoverableError=s,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=o,this.incompleteTransitions=new Map}function Fd(e,t,n,r,i,a,s,o,l,c,u,d){return e=new Md(e,t,n,s,o,l,c,d),t=1,!0===a&&(t|=24),a=jl(3,null,null,t),e.current=a,a.stateNode=e,(t=Ui()).refCount++,e.pooledCache=t,t.refCount++,a.memoizedState={element:r,isDehydrated:n,cache:t},Ao(a),e}function zd(e){return e?e=Rr:Rr}function Ud(e,t,n,r,i,a){i=zd(i),null===r.context?r.context=i:r.pendingContext=i,(r=No(t)).payload={element:n},null!==(a=void 0===a?null:a)&&(r.callback=a),null!==(n=Ro(e,r,t))&&(Rc(n,0,t),Oo(n,e,t))}function Vd(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var n=e.retryLane;e.retryLane=0!==n&&n<t?n:t}}function qd(e,t){Vd(e,t),(e=e.alternate)&&Vd(e,t)}function Bd(e){if(13===e.tag){var t=Ar(e,67108864);null!==t&&Rc(t,0,67108864),qd(e,67108864)}}var $d=!0;function Hd(e,t,n,r){var i=P.T;P.T=null;var a=q.p;try{q.p=2,Qd(e,t,n,r)}finally{q.p=a,P.T=i}}function Wd(e,t,n,r){var i=P.T;P.T=null;var a=q.p;try{q.p=8,Qd(e,t,n,r)}finally{q.p=a,P.T=i}}function Qd(e,t,n,r){if($d){var i=Kd(r);if(null===i)Du(e,t,r,Gd,n),sh(e,r);else if(function(e,t,n,r,i){switch(t){case"focusin":return Zd=oh(Zd,e,t,n,r,i),!0;case"dragenter":return eh=oh(eh,e,t,n,r,i),!0;case"mouseover":return th=oh(th,e,t,n,r,i),!0;case"pointerover":var a=i.pointerId;return nh.set(a,oh(nh.get(a)||null,e,t,n,r,i)),!0;case"gotpointercapture":return a=i.pointerId,rh.set(a,oh(rh.get(a)||null,e,t,n,r,i)),!0}return!1}(i,e,t,n,r))r.stopPropagation();else if(sh(e,r),4&t&&-1<ah.indexOf(e)){for(;null!==i;){var a=Ke(i);if(null!==a)switch(a.tag){case 3:if((a=a.stateNode).current.memoizedState.isDehydrated){var s=_e(a.pendingLanes);if(0!==s){var o=a;for(o.pendingLanes|=2,o.entangledLanes|=2;s;){var l=1<<31-we(s);o.entanglements[1]|=l,s&=~l}mu(a),0===(6&ec)&&(wc=le()+500,gu(0,!1))}}break;case 13:null!==(o=Ar(a,2))&&Rc(o,0,2),Fc(),qd(a,2)}if(null===(a=Kd(r))&&Du(e,t,r,Gd,n),a===i)break;i=a}null!==i&&r.stopPropagation()}else Du(e,t,r,null,n)}}function Kd(e){return Yd(e=Nt(e))}var Gd=null;function Yd(e){if(Gd=null,null!==(e=Qe(e))){var t=M(e);if(null===t)e=null;else{var n=t.tag;if(13===n){if(null!==(e=F(t)))return e;e=null}else if(3===n){if(t.stateNode.current.memoizedState.isDehydrated)return 3===t.tag?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null)}}return Gd=e,null}function Xd(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(ce()){case ue:return 2;case de:return 8;case he:case fe:return 32;case pe:return 268435456;default:return 32}default:return 32}}var Jd=!1,Zd=null,eh=null,th=null,nh=new Map,rh=new Map,ih=[],ah="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function sh(e,t){switch(e){case"focusin":case"focusout":Zd=null;break;case"dragenter":case"dragleave":eh=null;break;case"mouseover":case"mouseout":th=null;break;case"pointerover":case"pointerout":nh.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":rh.delete(t.pointerId)}}function oh(e,t,n,r,i,a){return null===e||e.nativeEvent!==a?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:a,targetContainers:[i]},null!==t&&(null!==(t=Ke(t))&&Bd(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,null!==i&&-1===t.indexOf(i)&&t.push(i),e)}function lh(e){var t=Qe(e.target);if(null!==t){var n=M(t);if(null!==n)if(13===(t=n.tag)){if(null!==(t=F(n)))return e.blockedOn=t,void function(e,t){var n=q.p;try{return q.p=e,t()}finally{q.p=n}}(e.priority,(function(){if(13===n.tag){var e=Pc(),t=Ar(n,e);null!==t&&Rc(t,0,e),qd(n,e)}}))}else if(3===t&&n.stateNode.current.memoizedState.isDehydrated)return void(e.blockedOn=3===n.tag?n.stateNode.containerInfo:null)}e.blockedOn=null}function ch(e){if(null!==e.blockedOn)return!1;for(var t=e.targetContainers;0<t.length;){var n=Kd(e.nativeEvent);if(null!==n)return null!==(t=Ke(n))&&Bd(t),e.blockedOn=n,!1;var r=new(n=e.nativeEvent).constructor(n.type,n);Pt=r,n.target.dispatchEvent(r),Pt=null,t.shift()}return!0}function uh(e,t,n){ch(e)&&n.delete(t)}function dh(){Jd=!1,null!==Zd&&ch(Zd)&&(Zd=null),null!==eh&&ch(eh)&&(eh=null),null!==th&&ch(th)&&(th=null),nh.forEach(uh),rh.forEach(uh)}function hh(e,t){e.blockedOn===t&&(e.blockedOn=null,Jd||(Jd=!0,r.unstable_scheduleCallback(r.unstable_NormalPriority,dh)))}var fh=null;function ph(e){fh!==e&&(fh=e,r.unstable_scheduleCallback(r.unstable_NormalPriority,(function(){fh===e&&(fh=null);for(var t=0;t<e.length;t+=3){var n=e[t],r=e[t+1],i=e[t+2];if("function"!==typeof r){if(null===Yd(r||n))continue;break}var a=Ke(n);null!==a&&(e.splice(t,3),t-=3,us(a,{pending:!0,data:i,method:n.method,action:r},r,i))}})))}function mh(e){function t(t){return hh(t,e)}null!==Zd&&hh(Zd,e),null!==eh&&hh(eh,e),null!==th&&hh(th,e),nh.forEach(t),rh.forEach(t);for(var n=0;n<ih.length;n++){var r=ih[n];r.blockedOn===e&&(r.blockedOn=null)}for(;0<ih.length&&null===(n=ih[0]).blockedOn;)lh(n),null===n.blockedOn&&ih.shift();if(null!=(n=(e.ownerDocument||e).$$reactFormReplay))for(r=0;r<n.length;r+=3){var i=n[r],a=n[r+1],s=i[ze]||null;if("function"===typeof a)s||ph(n);else if(s){var o=null;if(a&&a.hasAttribute("formAction")){if(i=a,s=a[ze]||null)o=s.formAction;else if(null!==Yd(i))continue}else o=s.action;"function"===typeof o?n[r+1]=o:(n.splice(r,3),r-=3),ph(n)}}}function gh(e){this._internalRoot=e}function yh(e){this._internalRoot=e}yh.prototype.render=gh.prototype.render=function(e){var t=this._internalRoot;if(null===t)throw Error(s(409));Ud(t.current,Pc(),e,t,null,null)},yh.prototype.unmount=gh.prototype.unmount=function(){var e=this._internalRoot;if(null!==e){this._internalRoot=null;var t=e.containerInfo;0===e.tag&&tu(),Ud(e.current,2,null,e,null,null),Fc(),t[Ue]=null}},yh.prototype.unstable_scheduleHydration=function(e){if(e){var t=Le();e={blockedOn:null,target:e,priority:t};for(var n=0;n<ih.length&&0!==t&&t<ih[n].priority;n++);ih.splice(n,0,e),0===n&&lh(e)}};var vh=i.version;if("19.0.0"!==vh)throw Error(s(527,vh,"19.0.0"));q.findDOMNode=function(e){var t=e._reactInternals;if(void 0===t){if("function"===typeof e.render)throw Error(s(188));throw e=Object.keys(e).join(","),Error(s(268,e))}return e=function(e){var t=e.alternate;if(!t){if(null===(t=M(e)))throw Error(s(188));return t!==e?null:e}for(var n=e,r=t;;){var i=n.return;if(null===i)break;var a=i.alternate;if(null===a){if(null!==(r=i.return)){n=r;continue}break}if(i.child===a.child){for(a=i.child;a;){if(a===n)return z(i),e;if(a===r)return z(i),t;a=a.sibling}throw Error(s(188))}if(n.return!==r.return)n=i,r=a;else{for(var o=!1,l=i.child;l;){if(l===n){o=!0,n=i,r=a;break}if(l===r){o=!0,r=i,n=a;break}l=l.sibling}if(!o){for(l=a.child;l;){if(l===n){o=!0,n=a,r=i;break}if(l===r){o=!0,r=a,n=i;break}l=l.sibling}if(!o)throw Error(s(189))}}if(n.alternate!==r)throw Error(s(190))}if(3!==n.tag)throw Error(s(188));return n.stateNode.current===n?e:t}(t),e=null===(e=null!==e?U(e):null)?null:e.stateNode};var bh={bundleType:0,version:"19.0.0",rendererPackageName:"react-dom",currentDispatcherRef:P,findFiberByHostInstance:Qe,reconcilerVersion:"19.0.0"};if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var wh=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!wh.isDisabled&&wh.supportsFiber)try{ye=wh.inject(bh),ve=wh}catch(Sh){}}t.createRoot=function(e,t){if(!o(e))throw Error(s(299));var n=!1,r="",i=Ds,a=js,l=Ls;return null!==t&&void 0!==t&&(!0===t.unstable_strictMode&&(n=!0),void 0!==t.identifierPrefix&&(r=t.identifierPrefix),void 0!==t.onUncaughtError&&(i=t.onUncaughtError),void 0!==t.onCaughtError&&(a=t.onCaughtError),void 0!==t.onRecoverableError&&(l=t.onRecoverableError),void 0!==t.unstable_transitionCallbacks&&t.unstable_transitionCallbacks),t=Fd(e,1,!1,null,0,n,r,i,a,l,0,null),e[Ue]=t.current,Ru(8===e.nodeType?e.parentNode:e),new gh(t)},t.hydrateRoot=function(e,t,n){if(!o(e))throw Error(s(299));var r=!1,i="",a=Ds,l=js,c=Ls,u=null;return null!==n&&void 0!==n&&(!0===n.unstable_strictMode&&(r=!0),void 0!==n.identifierPrefix&&(i=n.identifierPrefix),void 0!==n.onUncaughtError&&(a=n.onUncaughtError),void 0!==n.onCaughtError&&(l=n.onCaughtError),void 0!==n.onRecoverableError&&(c=n.onRecoverableError),void 0!==n.unstable_transitionCallbacks&&n.unstable_transitionCallbacks,void 0!==n.formState&&(u=n.formState)),(t=Fd(e,1,!0,t,0,r,i,a,l,c,0,u)).context=zd(null),n=t.current,(i=No(r=Pc())).callback=null,Ro(n,i,r),t.current.lanes=r,Re(t,r),mu(t),e[Ue]=t.current,Ru(e),new yh(t)},t.version="19.0.0"},43:(e,t,n)=>{"use strict";e.exports=n(288)},173:(e,t,n)=>{e.exports=n(497)()},218:e=>{"use strict";e.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},240:(e,t,n)=>{"use strict";n.d(t,{D:()=>a,SUBSCRIPTION_PLANS:()=>r,a:()=>i});const r={free:{id:"free",name:"Free",price:0,priceId:null,maxQuestions:10,maxChars:500,features:["10 questions per quiz","500 characters per question/answer","Basic features"]},basic:{id:"basic",name:"Basic",price:9.99,priceId:{NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_FIREBASE_API_KEY:"AIzaSyB_geIGOagn2h6blPgMmYV00N-oqXYOI0Q",REACT_APP_FIREBASE_AUTH_DOMAIN:"quirkle-db.firebaseapp.com",REACT_APP_FIREBASE_PROJECT_ID:"quirkle-db",REACT_APP_FIREBASE_STORAGE_BUCKET:"quirkle-db.firebasestorage.app",REACT_APP_FIREBASE_MESSAGING_SENDER_ID:"953361912983",REACT_APP_FIREBASE_APP_ID:"1:953361912983:web:2d4cbe9fb86e9b9d22c5d2",REACT_APP_FIREBASE_MEASUREMENT_ID:"G-8PPFC7BPZL"}.REACT_APP_STRIPE_BASIC_PRICE_ID||"price_pseudo_basic_monthly",maxQuestions:50,maxChars:500,features:["50 questions per quiz","500 characters per question/answer","All basic features","Priority support"]},pro:{id:"pro",name:"Pro",price:19.99,priceId:{NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_FIREBASE_API_KEY:"AIzaSyB_geIGOagn2h6blPgMmYV00N-oqXYOI0Q",REACT_APP_FIREBASE_AUTH_DOMAIN:"quirkle-db.firebaseapp.com",REACT_APP_FIREBASE_PROJECT_ID:"quirkle-db",REACT_APP_FIREBASE_STORAGE_BUCKET:"quirkle-db.firebasestorage.app",REACT_APP_FIREBASE_MESSAGING_SENDER_ID:"953361912983",REACT_APP_FIREBASE_APP_ID:"1:953361912983:web:2d4cbe9fb86e9b9d22c5d2",REACT_APP_FIREBASE_MEASUREMENT_ID:"G-8PPFC7BPZL"}.REACT_APP_STRIPE_PRO_PRICE_ID||"price_pseudo_pro_monthly",maxQuestions:200,maxChars:2e3,features:["200 questions per quiz","2000 characters per question/answer","All features","Priority support","Advanced analytics"]}},i=e=>{var t;return null!==(t=r[e])&&void 0!==t&&t.maxQuestions?{maxQuestions:r[e].maxQuestions,maxChars:r[e].maxChars}:r.free},a=()=>Object.values(r).filter((e=>"free"!==e.id))},288:(e,t)=>{"use strict";var n=Symbol.for("react.transitional.element"),r=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),a=Symbol.for("react.strict_mode"),s=Symbol.for("react.profiler"),o=Symbol.for("react.consumer"),l=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),u=Symbol.for("react.suspense"),d=Symbol.for("react.memo"),h=Symbol.for("react.lazy"),f=Symbol.iterator;var p={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},m=Object.assign,g={};function y(e,t,n){this.props=e,this.context=t,this.refs=g,this.updater=n||p}function v(){}function b(e,t,n){this.props=e,this.context=t,this.refs=g,this.updater=n||p}y.prototype.isReactComponent={},y.prototype.setState=function(e,t){if("object"!==typeof e&&"function"!==typeof e&&null!=e)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")},y.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},v.prototype=y.prototype;var w=b.prototype=new v;w.constructor=b,m(w,y.prototype),w.isPureReactComponent=!0;var x=Array.isArray,S={H:null,A:null,T:null,S:null},E=Object.prototype.hasOwnProperty;function k(e,t,r,i,a,s){return r=s.ref,{$$typeof:n,type:e,key:t,ref:void 0!==r?r:null,props:s}}function _(e){return"object"===typeof e&&null!==e&&e.$$typeof===n}var C=/\/+/g;function T(e,t){return"object"===typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,(function(e){return t[e]}))}(""+e.key):t.toString(36)}function I(){}function A(e,t,i,a,s){var o=typeof e;"undefined"!==o&&"boolean"!==o||(e=null);var l,c,u=!1;if(null===e)u=!0;else switch(o){case"bigint":case"string":case"number":u=!0;break;case"object":switch(e.$$typeof){case n:case r:u=!0;break;case h:return A((u=e._init)(e._payload),t,i,a,s)}}if(u)return s=s(e),u=""===a?"."+T(e,0):a,x(s)?(i="",null!=u&&(i=u.replace(C,"$&/")+"/"),A(s,t,i,"",(function(e){return e}))):null!=s&&(_(s)&&(l=s,c=i+(null==s.key||e&&e.key===s.key?"":(""+s.key).replace(C,"$&/")+"/")+u,s=k(l.type,c,void 0,0,0,l.props)),t.push(s)),1;u=0;var d,p=""===a?".":a+":";if(x(e))for(var m=0;m<e.length;m++)u+=A(a=e[m],t,i,o=p+T(a,m),s);else if("function"===typeof(m=null===(d=e)||"object"!==typeof d?null:"function"===typeof(d=f&&d[f]||d["@@iterator"])?d:null))for(e=m.call(e),m=0;!(a=e.next()).done;)u+=A(a=a.value,t,i,o=p+T(a,m++),s);else if("object"===o){if("function"===typeof e.then)return A(function(e){switch(e.status){case"fulfilled":return e.value;case"rejected":throw e.reason;default:switch("string"===typeof e.status?e.then(I,I):(e.status="pending",e.then((function(t){"pending"===e.status&&(e.status="fulfilled",e.value=t)}),(function(t){"pending"===e.status&&(e.status="rejected",e.reason=t)}))),e.status){case"fulfilled":return e.value;case"rejected":throw e.reason}}throw e}(e),t,i,a,s);throw t=String(e),Error("Objects are not valid as a React child (found: "+("[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.")}return u}function P(e,t,n){if(null==e)return e;var r=[],i=0;return A(e,r,"","",(function(e){return t.call(n,e,i++)})),r}function N(e){if(-1===e._status){var t=e._result;(t=t()).then((function(t){0!==e._status&&-1!==e._status||(e._status=1,e._result=t)}),(function(t){0!==e._status&&-1!==e._status||(e._status=2,e._result=t)})),-1===e._status&&(e._status=0,e._result=t)}if(1===e._status)return e._result.default;throw e._result}var R="function"===typeof reportError?reportError:function(e){if("object"===typeof window&&"function"===typeof window.ErrorEvent){var t=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:"object"===typeof e&&null!==e&&"string"===typeof e.message?String(e.message):String(e),error:e});if(!window.dispatchEvent(t))return}else if("object"===typeof process&&"function"===typeof process.emit)return void process.emit("uncaughtException",e);console.error(e)};function O(){}t.Children={map:P,forEach:function(e,t,n){P(e,(function(){t.apply(this,arguments)}),n)},count:function(e){var t=0;return P(e,(function(){t++})),t},toArray:function(e){return P(e,(function(e){return e}))||[]},only:function(e){if(!_(e))throw Error("React.Children.only expected to receive a single React element child.");return e}},t.Component=y,t.Fragment=i,t.Profiler=s,t.PureComponent=b,t.StrictMode=a,t.Suspense=u,t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=S,t.act=function(){throw Error("act(...) is not supported in production builds of React.")},t.cache=function(e){return function(){return e.apply(null,arguments)}},t.cloneElement=function(e,t,n){if(null===e||void 0===e)throw Error("The argument must be a React element, but you passed "+e+".");var r=m({},e.props),i=e.key;if(null!=t)for(a in void 0!==t.ref&&void 0,void 0!==t.key&&(i=""+t.key),t)!E.call(t,a)||"key"===a||"__self"===a||"__source"===a||"ref"===a&&void 0===t.ref||(r[a]=t[a]);var a=arguments.length-2;if(1===a)r.children=n;else if(1<a){for(var s=Array(a),o=0;o<a;o++)s[o]=arguments[o+2];r.children=s}return k(e.type,i,void 0,0,0,r)},t.createContext=function(e){return(e={$$typeof:l,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null}).Provider=e,e.Consumer={$$typeof:o,_context:e},e},t.createElement=function(e,t,n){var r,i={},a=null;if(null!=t)for(r in void 0!==t.key&&(a=""+t.key),t)E.call(t,r)&&"key"!==r&&"__self"!==r&&"__source"!==r&&(i[r]=t[r]);var s=arguments.length-2;if(1===s)i.children=n;else if(1<s){for(var o=Array(s),l=0;l<s;l++)o[l]=arguments[l+2];i.children=o}if(e&&e.defaultProps)for(r in s=e.defaultProps)void 0===i[r]&&(i[r]=s[r]);return k(e,a,void 0,0,0,i)},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:c,render:e}},t.isValidElement=_,t.lazy=function(e){return{$$typeof:h,_payload:{_status:-1,_result:e},_init:N}},t.memo=function(e,t){return{$$typeof:d,type:e,compare:void 0===t?null:t}},t.startTransition=function(e){var t=S.T,n={};S.T=n;try{var r=e(),i=S.S;null!==i&&i(n,r),"object"===typeof r&&null!==r&&"function"===typeof r.then&&r.then(O,R)}catch(a){R(a)}finally{S.T=t}},t.unstable_useCacheRefresh=function(){return S.H.useCacheRefresh()},t.use=function(e){return S.H.use(e)},t.useActionState=function(e,t,n){return S.H.useActionState(e,t,n)},t.useCallback=function(e,t){return S.H.useCallback(e,t)},t.useContext=function(e){return S.H.useContext(e)},t.useDebugValue=function(){},t.useDeferredValue=function(e,t){return S.H.useDeferredValue(e,t)},t.useEffect=function(e,t){return S.H.useEffect(e,t)},t.useId=function(){return S.H.useId()},t.useImperativeHandle=function(e,t,n){return S.H.useImperativeHandle(e,t,n)},t.useInsertionEffect=function(e,t){return S.H.useInsertionEffect(e,t)},t.useLayoutEffect=function(e,t){return S.H.useLayoutEffect(e,t)},t.useMemo=function(e,t){return S.H.useMemo(e,t)},t.useOptimistic=function(e,t){return S.H.useOptimistic(e,t)},t.useReducer=function(e,t,n){return S.H.useReducer(e,t,n)},t.useRef=function(e){return S.H.useRef(e)},t.useState=function(e){return S.H.useState(e)},t.useSyncExternalStore=function(e,t,n){return S.H.useSyncExternalStore(e,t,n)},t.useTransition=function(){return S.H.useTransition()},t.version="19.0.0"},358:(e,t)=>{"use strict";const n=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,r=/^[\u0021-\u003A\u003C-\u007E]*$/,i=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,a=/^[\u0020-\u003A\u003D-\u007E]*$/,s=Object.prototype.toString,o=(()=>{const e=function(){};return e.prototype=Object.create(null),e})();function l(e,t,n){do{const n=e.charCodeAt(t);if(32!==n&&9!==n)return t}while(++t<n);return n}function c(e,t,n){for(;t>n;){const n=e.charCodeAt(--t);if(32!==n&&9!==n)return t+1}return n}function u(e){if(-1===e.indexOf("%"))return e;try{return decodeURIComponent(e)}catch(t){return e}}},391:(e,t,n)=>{"use strict";!function e(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}(),e.exports=n(4)},497:(e,t,n)=>{"use strict";var r=n(218);function i(){}function a(){}a.resetWarningCache=i,e.exports=function(){function e(e,t,n,i,a,s){if(s!==r){var o=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw o.name="Invariant Violation",o}}function t(){return e}e.isRequired=e;var n={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:a,resetWarningCache:i};return n.PropTypes=n,n}},579:(e,t,n)=>{"use strict";e.exports=n(799)},672:(e,t,n)=>{"use strict";var r=n(43);function i(e){var t="https://react.dev/errors/"+e;if(1<arguments.length){t+="?args[]="+encodeURIComponent(arguments[1]);for(var n=2;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n])}return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function a(){}var s={d:{f:a,r:function(){throw Error(i(522))},D:a,C:a,L:a,m:a,X:a,S:a,M:a},p:0,findDOMNode:null},o=Symbol.for("react.portal");var l=r.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function c(e,t){return"font"===e?"":"string"===typeof t?"use-credentials"===t?t:"":void 0}t.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=s,t.createPortal=function(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!t||1!==t.nodeType&&9!==t.nodeType&&11!==t.nodeType)throw Error(i(299));return function(e,t,n){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:o,key:null==r?null:""+r,children:e,containerInfo:t,implementation:n}}(e,t,null,n)},t.flushSync=function(e){var t=l.T,n=s.p;try{if(l.T=null,s.p=2,e)return e()}finally{l.T=t,s.p=n,s.d.f()}},t.preconnect=function(e,t){"string"===typeof e&&(t?t="string"===typeof(t=t.crossOrigin)?"use-credentials"===t?t:"":void 0:t=null,s.d.C(e,t))},t.prefetchDNS=function(e){"string"===typeof e&&s.d.D(e)},t.preinit=function(e,t){if("string"===typeof e&&t&&"string"===typeof t.as){var n=t.as,r=c(n,t.crossOrigin),i="string"===typeof t.integrity?t.integrity:void 0,a="string"===typeof t.fetchPriority?t.fetchPriority:void 0;"style"===n?s.d.S(e,"string"===typeof t.precedence?t.precedence:void 0,{crossOrigin:r,integrity:i,fetchPriority:a}):"script"===n&&s.d.X(e,{crossOrigin:r,integrity:i,fetchPriority:a,nonce:"string"===typeof t.nonce?t.nonce:void 0})}},t.preinitModule=function(e,t){if("string"===typeof e)if("object"===typeof t&&null!==t){if(null==t.as||"script"===t.as){var n=c(t.as,t.crossOrigin);s.d.M(e,{crossOrigin:n,integrity:"string"===typeof t.integrity?t.integrity:void 0,nonce:"string"===typeof t.nonce?t.nonce:void 0})}}else null==t&&s.d.M(e)},t.preload=function(e,t){if("string"===typeof e&&"object"===typeof t&&null!==t&&"string"===typeof t.as){var n=t.as,r=c(n,t.crossOrigin);s.d.L(e,n,{crossOrigin:r,integrity:"string"===typeof t.integrity?t.integrity:void 0,nonce:"string"===typeof t.nonce?t.nonce:void 0,type:"string"===typeof t.type?t.type:void 0,fetchPriority:"string"===typeof t.fetchPriority?t.fetchPriority:void 0,referrerPolicy:"string"===typeof t.referrerPolicy?t.referrerPolicy:void 0,imageSrcSet:"string"===typeof t.imageSrcSet?t.imageSrcSet:void 0,imageSizes:"string"===typeof t.imageSizes?t.imageSizes:void 0,media:"string"===typeof t.media?t.media:void 0})}},t.preloadModule=function(e,t){if("string"===typeof e)if(t){var n=c(t.as,t.crossOrigin);s.d.m(e,{as:"string"===typeof t.as&&"script"!==t.as?t.as:void 0,crossOrigin:n,integrity:"string"===typeof t.integrity?t.integrity:void 0})}else s.d.m(e)},t.requestFormReset=function(e){s.d.r(e)},t.unstable_batchedUpdates=function(e,t){return e(t)},t.useFormState=function(e,t,n){return l.H.useFormState(e,t,n)},t.useFormStatus=function(){return l.H.useHostTransitionStatus()},t.version="19.0.0"},799:(e,t)=>{"use strict";var n=Symbol.for("react.transitional.element"),r=Symbol.for("react.fragment");function i(e,t,r){var i=null;if(void 0!==r&&(i=""+r),void 0!==t.key&&(i=""+t.key),"key"in t)for(var a in r={},t)"key"!==a&&(r[a]=t[a]);else r=t;return t=r.ref,{$$typeof:n,type:e,key:i,ref:void 0!==t?t:null,props:r}}t.Fragment=r,t.jsx=i,t.jsxs=i},853:(e,t,n)=>{"use strict";e.exports=n(896)},896:(e,t)=>{"use strict";function n(e,t){var n=e.length;e.push(t);e:for(;0<n;){var r=n-1>>>1,i=e[r];if(!(0<a(i,t)))break e;e[r]=t,e[n]=i,n=r}}function r(e){return 0===e.length?null:e[0]}function i(e){if(0===e.length)return null;var t=e[0],n=e.pop();if(n!==t){e[0]=n;e:for(var r=0,i=e.length,s=i>>>1;r<s;){var o=2*(r+1)-1,l=e[o],c=o+1,u=e[c];if(0>a(l,n))c<i&&0>a(u,l)?(e[r]=u,e[c]=n,r=c):(e[r]=l,e[o]=n,r=o);else{if(!(c<i&&0>a(u,n)))break e;e[r]=u,e[c]=n,r=c}}}return t}function a(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}if(t.unstable_now=void 0,"object"===typeof performance&&"function"===typeof performance.now){var s=performance;t.unstable_now=function(){return s.now()}}else{var o=Date,l=o.now();t.unstable_now=function(){return o.now()-l}}var c=[],u=[],d=1,h=null,f=3,p=!1,m=!1,g=!1,y="function"===typeof setTimeout?setTimeout:null,v="function"===typeof clearTimeout?clearTimeout:null,b="undefined"!==typeof setImmediate?setImmediate:null;function w(e){for(var t=r(u);null!==t;){if(null===t.callback)i(u);else{if(!(t.startTime<=e))break;i(u),t.sortIndex=t.expirationTime,n(c,t)}t=r(u)}}function x(e){if(g=!1,w(e),!m)if(null!==r(c))m=!0,N();else{var t=r(u);null!==t&&R(x,t.startTime-e)}}var S,E=!1,k=-1,_=5,C=-1;function T(){return!(t.unstable_now()-C<_)}function I(){if(E){var e=t.unstable_now();C=e;var n=!0;try{e:{m=!1,g&&(g=!1,v(k),k=-1),p=!0;var a=f;try{t:{for(w(e),h=r(c);null!==h&&!(h.expirationTime>e&&T());){var s=h.callback;if("function"===typeof s){h.callback=null,f=h.priorityLevel;var o=s(h.expirationTime<=e);if(e=t.unstable_now(),"function"===typeof o){h.callback=o,w(e),n=!0;break t}h===r(c)&&i(c),w(e)}else i(c);h=r(c)}if(null!==h)n=!0;else{var l=r(u);null!==l&&R(x,l.startTime-e),n=!1}}break e}finally{h=null,f=a,p=!1}n=void 0}}finally{n?S():E=!1}}}if("function"===typeof b)S=function(){b(I)};else if("undefined"!==typeof MessageChannel){var A=new MessageChannel,P=A.port2;A.port1.onmessage=I,S=function(){P.postMessage(null)}}else S=function(){y(I,0)};function N(){E||(E=!0,S())}function R(e,n){k=y((function(){e(t.unstable_now())}),n)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_continueExecution=function(){m||p||(m=!0,N())},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):_=0<e?Math.floor(1e3/e):5},t.unstable_getCurrentPriorityLevel=function(){return f},t.unstable_getFirstCallbackNode=function(){return r(c)},t.unstable_next=function(e){switch(f){case 1:case 2:case 3:var t=3;break;default:t=f}var n=f;f=t;try{return e()}finally{f=n}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=f;f=e;try{return t()}finally{f=n}},t.unstable_scheduleCallback=function(e,i,a){var s=t.unstable_now();switch("object"===typeof a&&null!==a?a="number"===typeof(a=a.delay)&&0<a?s+a:s:a=s,e){case 1:var o=-1;break;case 2:o=250;break;case 5:o=1073741823;break;case 4:o=1e4;break;default:o=5e3}return e={id:d++,callback:i,priorityLevel:e,startTime:a,expirationTime:o=a+o,sortIndex:-1},a>s?(e.sortIndex=a,n(u,e),null===r(c)&&e===r(u)&&(g?(v(k),k=-1):g=!0,R(x,a-s))):(e.sortIndex=o,n(c,e),m||p||(m=!0,N())),e},t.unstable_shouldYield=T,t.unstable_wrapCallback=function(e){var t=f;return function(){var n=f;f=t;try{return e.apply(this,arguments)}finally{f=n}}}},950:(e,t,n)=>{"use strict";!function e(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}(),e.exports=n(672)}},t={};function n(r){var i=t[r];if(void 0!==i)return i.exports;var a=t[r]={exports:{}};return e[r](a,a.exports,n),a.exports}n.m=e,n.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return n.d(t,{a:t}),t},n.d=(e,t)=>{for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.f={},n.e=e=>Promise.all(Object.keys(n.f).reduce(((t,r)=>(n.f[r](e,t),t)),[])),n.u=e=>"static/js/"+e+"."+{453:"c8110930",972:"5f4a1595"}[e]+".chunk.js",n.miniCssF=e=>{},n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}(),n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),(()=>{var e={},t="quirkle:";n.l=(r,i,a,s)=>{if(e[r])e[r].push(i);else{var o,l;if(void 0!==a)for(var c=document.getElementsByTagName("script"),u=0;u<c.length;u++){var d=c[u];if(d.getAttribute("src")==r||d.getAttribute("data-webpack")==t+a){o=d;break}}o||(l=!0,(o=document.createElement("script")).charset="utf-8",o.timeout=120,n.nc&&o.setAttribute("nonce",n.nc),o.setAttribute("data-webpack",t+a),o.src=r),e[r]=[i];var h=(t,n)=>{o.onerror=o.onload=null,clearTimeout(f);var i=e[r];if(delete e[r],o.parentNode&&o.parentNode.removeChild(o),i&&i.forEach((e=>e(n))),t)return t(n)},f=setTimeout(h.bind(null,void 0,{type:"timeout",target:o}),12e4);o.onerror=h.bind(null,o.onerror),o.onload=h.bind(null,o.onload),l&&document.head.appendChild(o)}}})(),n.r=e=>{"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.p="/",(()=>{var e={792:0};n.f.j=(t,r)=>{var i=n.o(e,t)?e[t]:void 0;if(0!==i)if(i)r.push(i[2]);else{var a=new Promise(((n,r)=>i=e[t]=[n,r]));r.push(i[2]=a);var s=n.p+n.u(t),o=new Error;n.l(s,(r=>{if(n.o(e,t)&&(0!==(i=e[t])&&(e[t]=void 0),i)){var a=r&&("load"===r.type?"missing":r.type),s=r&&r.target&&r.target.src;o.message="Loading chunk "+t+" failed.\n("+a+": "+s+")",o.name="ChunkLoadError",o.type=a,o.request=s,i[1](o)}}),"chunk-"+t,t)}};var t=(t,r)=>{var i,a,s=r[0],o=r[1],l=r[2],c=0;if(s.some((t=>0!==e[t]))){for(i in o)n.o(o,i)&&(n.m[i]=o[i]);if(l)l(n)}for(t&&t(r);c<s.length;c++)a=s[c],n.o(e,a)&&e[a]&&e[a][0](),e[a]=0},r=self.webpackChunkquirkle=self.webpackChunkquirkle||[];r.forEach(t.bind(null,0)),r.push=t.bind(null,r.push.bind(r))})(),(()=>{"use strict";var e=n(43),t=n(391),r=(n(358),"popstate");function i(){return d((function(e,t){let{pathname:n="/",search:r="",hash:i=""}=u(e.location.hash.substring(1));return n.startsWith("/")||n.startsWith(".")||(n="/"+n),l("",{pathname:n,search:r,hash:i},t.state&&t.state.usr||null,t.state&&t.state.key||"default")}),(function(e,t){let n=e.document.querySelector("base"),r="";if(n&&n.getAttribute("href")){let t=e.location.href,n=t.indexOf("#");r=-1===n?t:t.slice(0,n)}return r+"#"+("string"===typeof t?t:c(t))}),(function(e,t){s("/"===e.pathname.charAt(0),`relative pathnames are not supported in hash history.push(${JSON.stringify(t)})`)}),arguments.length>0&&void 0!==arguments[0]?arguments[0]:{})}function a(e,t){if(!1===e||null===e||"undefined"===typeof e)throw new Error(t)}function s(e,t){if(!e){"undefined"!==typeof console&&console.warn(t);try{throw new Error(t)}catch(n){}}}function o(e,t){return{usr:e.state,key:e.key,idx:t}}function l(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,r=arguments.length>3?arguments[3]:void 0;return{pathname:"string"===typeof e?e:e.pathname,search:"",hash:"",..."string"===typeof t?u(t):t,state:n,key:t&&t.key||r||Math.random().toString(36).substring(2,10)}}function c(e){let{pathname:t="/",search:n="",hash:r=""}=e;return n&&"?"!==n&&(t+="?"===n.charAt(0)?n:"?"+n),r&&"#"!==r&&(t+="#"===r.charAt(0)?r:"#"+r),t}function u(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substring(n),e=e.substring(0,n));let r=e.indexOf("?");r>=0&&(t.search=e.substring(r),e=e.substring(0,r)),e&&(t.pathname=e)}return t}function d(e,t,n){let i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},{window:s=document.defaultView,v5Compat:u=!1}=i,d=s.history,h="POP",f=null,p=m();function m(){return(d.state||{idx:null}).idx}function g(){h="POP";let e=m(),t=null==e?null:e-p;p=e,f&&f({action:h,location:v.location,delta:t})}function y(e){let t="null"!==s.location.origin?s.location.origin:s.location.href,n="string"===typeof e?e:c(e);return n=n.replace(/ $/,"%20"),a(t,`No window.location.(origin|href) available to create URL for href: ${n}`),new URL(n,t)}null==p&&(p=0,d.replaceState({...d.state,idx:p},""));let v={get action(){return h},get location(){return e(s,d)},listen(e){if(f)throw new Error("A history only accepts one active listener");return s.addEventListener(r,g),f=e,()=>{s.removeEventListener(r,g),f=null}},createHref:e=>t(s,e),createURL:y,encodeLocation(e){let t=y(e);return{pathname:t.pathname,search:t.search,hash:t.hash}},push:function(e,t){h="PUSH";let r=l(v.location,e,t);n&&n(r,e),p=m()+1;let i=o(r,p),a=v.createHref(r);try{d.pushState(i,"",a)}catch(c){if(c instanceof DOMException&&"DataCloneError"===c.name)throw c;s.location.assign(a)}u&&f&&f({action:h,location:v.location,delta:1})},replace:function(e,t){h="REPLACE";let r=l(v.location,e,t);n&&n(r,e),p=m();let i=o(r,p),a=v.createHref(r);d.replaceState(i,"",a),u&&f&&f({action:h,location:v.location,delta:0})},go:e=>d.go(e)};return v}new WeakMap;function h(e,t){return f(e,t,arguments.length>2&&void 0!==arguments[2]?arguments[2]:"/",!1)}function f(e,t,n,r){let i=T(("string"===typeof t?u(t):t).pathname||"/",n);if(null==i)return null;let a=p(e);!function(e){e.sort(((e,t)=>e.score!==t.score?t.score-e.score:function(e,t){let n=e.length===t.length&&e.slice(0,-1).every(((e,n)=>e===t[n]));return n?e[e.length-1]-t[t.length-1]:0}(e.routesMeta.map((e=>e.childrenIndex)),t.routesMeta.map((e=>e.childrenIndex)))))}(a);let s=null;for(let o=0;null==s&&o<a.length;++o){let e=C(i);s=k(a[o],e,r)}return s}function p(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"",i=(e,i,s)=>{let o={relativePath:void 0===s?e.path||"":s,caseSensitive:!0===e.caseSensitive,childrenIndex:i,route:e};o.relativePath.startsWith("/")&&(a(o.relativePath.startsWith(r),`Absolute route path "${o.relativePath}" nested under path "${r}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),o.relativePath=o.relativePath.slice(r.length));let l=R([r,o.relativePath]),c=n.concat(o);e.children&&e.children.length>0&&(a(!0!==e.index,`Index routes must not have child routes. Please remove all child routes from route path "${l}".`),p(e.children,t,c,l)),(null!=e.path||e.index)&&t.push({path:l,score:E(l,e.index),routesMeta:c})};return e.forEach(((e,t)=>{if(""!==e.path&&e.path?.includes("?"))for(let n of m(e.path))i(e,t,n);else i(e,t)})),t}function m(e){let t=e.split("/");if(0===t.length)return[];let[n,...r]=t,i=n.endsWith("?"),a=n.replace(/\?$/,"");if(0===r.length)return i?[a,""]:[a];let s=m(r.join("/")),o=[];return o.push(...s.map((e=>""===e?a:[a,e].join("/")))),i&&o.push(...s),o.map((t=>e.startsWith("/")&&""===t?"/":t))}var g=/^:[\w-]+$/,y=3,v=2,b=1,w=10,x=-2,S=e=>"*"===e;function E(e,t){let n=e.split("/"),r=n.length;return n.some(S)&&(r+=x),t&&(r+=v),n.filter((e=>!S(e))).reduce(((e,t)=>e+(g.test(t)?y:""===t?b:w)),r)}function k(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],{routesMeta:r}=e,i={},a="/",s=[];for(let o=0;o<r.length;++o){let e=r[o],l=o===r.length-1,c="/"===a?t:t.slice(a.length)||"/",u=_({path:e.relativePath,caseSensitive:e.caseSensitive,end:l},c),d=e.route;if(!u&&l&&n&&!r[r.length-1].route.index&&(u=_({path:e.relativePath,caseSensitive:e.caseSensitive,end:!1},c)),!u)return null;Object.assign(i,u.params),s.push({params:i,pathname:R([a,u.pathname]),pathnameBase:O(R([a,u.pathnameBase])),route:d}),"/"!==u.pathnameBase&&(a=R([a,u.pathnameBase]))}return s}function _(e,t){"string"===typeof e&&(e={path:e,caseSensitive:!1,end:!0});let[n,r]=function(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];s("*"===e||!e.endsWith("*")||e.endsWith("/*"),`Route path "${e}" will be treated as if it were "${e.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${e.replace(/\*$/,"/*")}".`);let r=[],i="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,((e,t,n)=>(r.push({paramName:t,isOptional:null!=n}),n?"/?([^\\/]+)?":"/([^\\/]+)")));e.endsWith("*")?(r.push({paramName:"*"}),i+="*"===e||"/*"===e?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":""!==e&&"/"!==e&&(i+="(?:(?=\\/|$))");let a=new RegExp(i,t?void 0:"i");return[a,r]}(e.path,e.caseSensitive,e.end),i=t.match(n);if(!i)return null;let a=i[0],o=a.replace(/(.)\/+$/,"$1"),l=i.slice(1);return{params:r.reduce(((e,t,n)=>{let{paramName:r,isOptional:i}=t;if("*"===r){let e=l[n]||"";o=a.slice(0,a.length-e.length).replace(/(.)\/+$/,"$1")}const s=l[n];return e[r]=i&&!s?void 0:(s||"").replace(/%2F/g,"/"),e}),{}),pathname:a,pathnameBase:o,pattern:e}}function C(e){try{return e.split("/").map((e=>decodeURIComponent(e).replace(/\//g,"%2F"))).join("/")}catch(t){return s(!1,`The URL path "${e}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${t}).`),e}}function T(e,t){if("/"===t)return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,r=e.charAt(n);return r&&"/"!==r?null:e.slice(n)||"/"}function I(e,t,n,r){return`Cannot include a '${e}' character in a manually specified \`to.${t}\` field [${JSON.stringify(r)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function A(e){return e.filter(((e,t)=>0===t||e.route.path&&e.route.path.length>0))}function P(e){let t=A(e);return t.map(((e,n)=>n===t.length-1?e.pathname:e.pathnameBase))}function N(e,t,n){let r,i=arguments.length>3&&void 0!==arguments[3]&&arguments[3];"string"===typeof e?r=u(e):(r={...e},a(!r.pathname||!r.pathname.includes("?"),I("?","pathname","search",r)),a(!r.pathname||!r.pathname.includes("#"),I("#","pathname","hash",r)),a(!r.search||!r.search.includes("#"),I("#","search","hash",r)));let s,o=""===e||""===r.pathname,l=o?"/":r.pathname;if(null==l)s=n;else{let e=t.length-1;if(!i&&l.startsWith("..")){let t=l.split("/");for(;".."===t[0];)t.shift(),e-=1;r.pathname=t.join("/")}s=e>=0?t[e]:"/"}let c=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"/",{pathname:n,search:r="",hash:i=""}="string"===typeof e?u(e):e,a=n?n.startsWith("/")?n:function(e,t){let n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach((e=>{".."===e?n.length>1&&n.pop():"."!==e&&n.push(e)})),n.length>1?n.join("/"):"/"}(n,t):t;return{pathname:a,search:D(r),hash:j(i)}}(r,s),d=l&&"/"!==l&&l.endsWith("/"),h=(o||"."===l)&&n.endsWith("/");return c.pathname.endsWith("/")||!d&&!h||(c.pathname+="/"),c}var R=e=>e.join("/").replace(/\/\/+/g,"/"),O=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),D=e=>e&&"?"!==e?e.startsWith("?")?e:"?"+e:"",j=e=>e&&"#"!==e?e.startsWith("#")?e:"#"+e:"";function L(e){return null!=e&&"number"===typeof e.status&&"string"===typeof e.statusText&&"boolean"===typeof e.internal&&"data"in e}var M=["POST","PUT","PATCH","DELETE"],F=(new Set(M),["GET",...M]);new Set(F),Symbol("ResetLoaderData");var z=e.createContext(null);z.displayName="DataRouter";var U=e.createContext(null);U.displayName="DataRouterState";var V=e.createContext({isTransitioning:!1});V.displayName="ViewTransition";var q=e.createContext(new Map);q.displayName="Fetchers";var B=e.createContext(null);B.displayName="Await";var $=e.createContext(null);$.displayName="Navigation";var H=e.createContext(null);H.displayName="Location";var W=e.createContext({outlet:null,matches:[],isDataRoute:!1});W.displayName="Route";var Q=e.createContext(null);Q.displayName="RouteError";function K(){return null!=e.useContext(H)}function G(){return a(K(),"useLocation() may be used only in the context of a <Router> component."),e.useContext(H).location}var Y="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function X(t){e.useContext($).static||e.useLayoutEffect(t)}function J(){let{isDataRoute:t}=e.useContext(W);return t?function(){let{router:t}=oe("useNavigate"),n=ce("useNavigate"),r=e.useRef(!1);X((()=>{r.current=!0}));let i=e.useCallback((async function(e){let i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};s(r.current,Y),r.current&&("number"===typeof e?t.navigate(e):await t.navigate(e,{fromRouteId:n,...i}))}),[t,n]);return i}():function(){a(K(),"useNavigate() may be used only in the context of a <Router> component.");let t=e.useContext(z),{basename:n,navigator:r}=e.useContext($),{matches:i}=e.useContext(W),{pathname:o}=G(),l=JSON.stringify(P(i)),c=e.useRef(!1);X((()=>{c.current=!0}));let u=e.useCallback((function(e){let i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(s(c.current,Y),!c.current)return;if("number"===typeof e)return void r.go(e);let a=N(e,JSON.parse(l),o,"path"===i.relative);null==t&&"/"!==n&&(a.pathname="/"===a.pathname?n:R([n,a.pathname])),(i.replace?r.replace:r.push)(a,i.state,i)}),[n,r,l,o,t]);return u}()}e.createContext(null);function Z(t){let{relative:n}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},{matches:r}=e.useContext(W),{pathname:i}=G(),a=JSON.stringify(P(r));return e.useMemo((()=>N(t,JSON.parse(a),i,"path"===n)),[t,a,i,n])}function ee(t,n,r,i){a(K(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:o,static:l}=e.useContext($),{matches:c}=e.useContext(W),d=c[c.length-1],f=d?d.params:{},p=d?d.pathname:"/",m=d?d.pathnameBase:"/",g=d&&d.route;{let e=g&&g.path||"";he(p,!g||e.endsWith("*")||e.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${p}" (under <Route path="${e}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.\n\nPlease change the parent <Route path="${e}"> to <Route path="${"/"===e?"*":`${e}/*`}">.`)}let y,v=G();if(n){let e="string"===typeof n?u(n):n;a("/"===m||e.pathname?.startsWith(m),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${m}" but pathname "${e.pathname}" was given in the \`location\` prop.`),y=e}else y=v;let b=y.pathname||"/",w=b;if("/"!==m){let e=m.replace(/^\//,"").split("/");w="/"+b.replace(/^\//,"").split("/").slice(e.length).join("/")}let x=!l&&r&&r.matches&&r.matches.length>0?r.matches:h(t,{pathname:w});s(g||null!=x,`No routes matched location "${y.pathname}${y.search}${y.hash}" `),s(null==x||void 0!==x[x.length-1].route.element||void 0!==x[x.length-1].route.Component||void 0!==x[x.length-1].route.lazy,`Matched leaf route at location "${y.pathname}${y.search}${y.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let S=ae(x&&x.map((e=>Object.assign({},e,{params:Object.assign({},f,e.params),pathname:R([m,o.encodeLocation?o.encodeLocation(e.pathname).pathname:e.pathname]),pathnameBase:"/"===e.pathnameBase?m:R([m,o.encodeLocation?o.encodeLocation(e.pathnameBase).pathname:e.pathnameBase])}))),c,r,i);return n&&S?e.createElement(H.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...y},navigationType:"POP"}},S):S}function te(){let t=ue(),n=L(t)?`${t.status} ${t.statusText}`:t instanceof Error?t.message:JSON.stringify(t),r=t instanceof Error?t.stack:null,i="rgba(200,200,200, 0.5)",a={padding:"0.5rem",backgroundColor:i},s={padding:"2px 4px",backgroundColor:i},o=null;return console.error("Error handled by React Router default ErrorBoundary:",t),o=e.createElement(e.Fragment,null,e.createElement("p",null,"\ud83d\udcbf Hey developer \ud83d\udc4b"),e.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",e.createElement("code",{style:s},"ErrorBoundary")," or"," ",e.createElement("code",{style:s},"errorElement")," prop on your route.")),e.createElement(e.Fragment,null,e.createElement("h2",null,"Unexpected Application Error!"),e.createElement("h3",{style:{fontStyle:"italic"}},n),r?e.createElement("pre",{style:a},r):null,o)}var ne=e.createElement(te,null),re=class extends e.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location||"idle"!==t.revalidation&&"idle"===e.revalidation?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:void 0!==e.error?e.error:t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}componentDidCatch(e,t){console.error("React Router caught the following error during render",e,t)}render(){return void 0!==this.state.error?e.createElement(W.Provider,{value:this.props.routeContext},e.createElement(Q.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function ie(t){let{routeContext:n,match:r,children:i}=t,a=e.useContext(z);return a&&a.static&&a.staticContext&&(r.route.errorElement||r.route.ErrorBoundary)&&(a.staticContext._deepestRenderedBoundaryId=r.route.id),e.createElement(W.Provider,{value:n},i)}function ae(t){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;if(null==t){if(!r)return null;if(r.errors)t=r.matches;else{if(0!==n.length||r.initialized||!(r.matches.length>0))return null;t=r.matches}}let i=t,s=r?.errors;if(null!=s){let e=i.findIndex((e=>e.route.id&&void 0!==s?.[e.route.id]));a(e>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(s).join(",")}`),i=i.slice(0,Math.min(i.length,e+1))}let o=!1,l=-1;if(r)for(let e=0;e<i.length;e++){let t=i[e];if((t.route.HydrateFallback||t.route.hydrateFallbackElement)&&(l=e),t.route.id){let{loaderData:e,errors:n}=r,a=t.route.loader&&!e.hasOwnProperty(t.route.id)&&(!n||void 0===n[t.route.id]);if(t.route.lazy||a){o=!0,i=l>=0?i.slice(0,l+1):[i[0]];break}}}return i.reduceRight(((t,a,c)=>{let u,d=!1,h=null,f=null;r&&(u=s&&a.route.id?s[a.route.id]:void 0,h=a.route.errorElement||ne,o&&(l<0&&0===c?(he("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),d=!0,f=null):l===c&&(d=!0,f=a.route.hydrateFallbackElement||null)));let p=n.concat(i.slice(0,c+1)),m=()=>{let n;return n=u?h:d?f:a.route.Component?e.createElement(a.route.Component,null):a.route.element?a.route.element:t,e.createElement(ie,{match:a,routeContext:{outlet:t,matches:p,isDataRoute:null!=r},children:n})};return r&&(a.route.ErrorBoundary||a.route.errorElement||0===c)?e.createElement(re,{location:r.location,revalidation:r.revalidation,component:h,error:u,children:m(),routeContext:{outlet:null,matches:p,isDataRoute:!0}}):m()}),null)}function se(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function oe(t){let n=e.useContext(z);return a(n,se(t)),n}function le(t){let n=e.useContext(U);return a(n,se(t)),n}function ce(t){let n=function(t){let n=e.useContext(W);return a(n,se(t)),n}(t),r=n.matches[n.matches.length-1];return a(r.route.id,`${t} can only be used on routes that contain a unique "id"`),r.route.id}function ue(){let t=e.useContext(Q),n=le("useRouteError"),r=ce("useRouteError");return void 0!==t?t:n.errors?.[r]}var de={};function he(e,t,n){t||de[e]||(de[e]=!0,s(!1,n))}e.memo((function(e){let{routes:t,future:n,state:r}=e;return ee(t,void 0,r,n)}));function fe(t){let{to:n,replace:r,state:i,relative:o}=t;a(K(),"<Navigate> may be used only in the context of a <Router> component.");let{static:l}=e.useContext($);s(!l,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:c}=e.useContext(W),{pathname:u}=G(),d=J(),h=N(n,P(c),u,"path"===o),f=JSON.stringify(h);return e.useEffect((()=>{d(JSON.parse(f),{replace:r,state:i,relative:o})}),[d,f,o,r,i]),null}function pe(e){a(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function me(t){let{basename:n="/",children:r=null,location:i,navigationType:o="POP",navigator:l,static:c=!1}=t;a(!K(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let d=n.replace(/^\/*/,"/"),h=e.useMemo((()=>({basename:d,navigator:l,static:c,future:{}})),[d,l,c]);"string"===typeof i&&(i=u(i));let{pathname:f="/",search:p="",hash:m="",state:g=null,key:y="default"}=i,v=e.useMemo((()=>{let e=T(f,d);return null==e?null:{location:{pathname:e,search:p,hash:m,state:g,key:y},navigationType:o}}),[d,f,p,m,g,y,o]);return s(null!=v,`<Router basename="${d}"> is not able to match the URL "${f}${p}${m}" because it does not start with the basename, so the <Router> won't render anything.`),null==v?null:e.createElement($.Provider,{value:h},e.createElement(H.Provider,{children:r,value:v}))}function ge(e){let{children:t,location:n}=e;return ee(ye(t),n)}e.Component;function ye(t){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],r=[];return e.Children.forEach(t,((t,i)=>{if(!e.isValidElement(t))return;let s=[...n,i];if(t.type===e.Fragment)return void r.push.apply(r,ye(t.props.children,s));a(t.type===pe,`[${"string"===typeof t.type?t.type:t.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),a(!t.props.index||!t.props.children,"An index route cannot have child routes.");let o={id:t.props.id||s.join("-"),caseSensitive:t.props.caseSensitive,element:t.props.element,Component:t.props.Component,index:t.props.index,path:t.props.path,loader:t.props.loader,action:t.props.action,hydrateFallbackElement:t.props.hydrateFallbackElement,HydrateFallback:t.props.HydrateFallback,errorElement:t.props.errorElement,ErrorBoundary:t.props.ErrorBoundary,hasErrorBoundary:!0===t.props.hasErrorBoundary||null!=t.props.ErrorBoundary||null!=t.props.errorElement,shouldRevalidate:t.props.shouldRevalidate,handle:t.props.handle,lazy:t.props.lazy};t.props.children&&(o.children=ye(t.props.children,s)),r.push(o)})),r}var ve="get",be="application/x-www-form-urlencoded";function we(e){return null!=e&&"string"===typeof e.tagName}function xe(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return new URLSearchParams("string"===typeof e||Array.isArray(e)||e instanceof URLSearchParams?e:Object.keys(e).reduce(((t,n)=>{let r=e[n];return t.concat(Array.isArray(r)?r.map((e=>[n,e])):[[n,r]])}),[]))}var Se=null;var Ee=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function ke(e){return null==e||Ee.has(e)?e:(s(!1,`"${e}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${be}"`),null)}function _e(e,t){let n,r,i,a,s;if(we(o=e)&&"form"===o.tagName.toLowerCase()){let s=e.getAttribute("action");r=s?T(s,t):null,n=e.getAttribute("method")||ve,i=ke(e.getAttribute("enctype"))||be,a=new FormData(e)}else if(function(e){return we(e)&&"button"===e.tagName.toLowerCase()}(e)||function(e){return we(e)&&"input"===e.tagName.toLowerCase()}(e)&&("submit"===e.type||"image"===e.type)){let s=e.form;if(null==s)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let o=e.getAttribute("formaction")||s.getAttribute("action");if(r=o?T(o,t):null,n=e.getAttribute("formmethod")||s.getAttribute("method")||ve,i=ke(e.getAttribute("formenctype"))||ke(s.getAttribute("enctype"))||be,a=new FormData(s,e),!function(){if(null===Se)try{new FormData(document.createElement("form"),0),Se=!1}catch(e){Se=!0}return Se}()){let{name:t,type:n,value:r}=e;if("image"===n){let e=t?`${t}.`:"";a.append(`${e}x`,"0"),a.append(`${e}y`,"0")}else t&&a.append(t,r)}}else{if(we(e))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=ve,r=null,i=be,s=e}var o;return a&&"text/plain"===i&&(s=a,a=void 0),{action:r,method:n.toLowerCase(),encType:i,formData:a,body:s}}function Ce(e,t){if(!1===e||null===e||"undefined"===typeof e)throw new Error(t)}async function Te(e,t){if(e.id in t)return t[e.id];try{let n=await import(e.module);return t[e.id]=n,n}catch(n){return console.error(`Error loading route module \`${e.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise((()=>{}))}}function Ie(e){return null!=e&&"string"===typeof e.page}function Ae(e){return null!=e&&(null==e.href?"preload"===e.rel&&"string"===typeof e.imageSrcSet&&"string"===typeof e.imageSizes:"string"===typeof e.rel&&"string"===typeof e.href)}function Pe(e,t,n,r,i,a){let s=(e,t)=>!n[t]||e.route.id!==n[t].route.id,o=(e,t)=>n[t].pathname!==e.pathname||n[t].route.path?.endsWith("*")&&n[t].params["*"]!==e.params["*"];return"assets"===a?t.filter(((e,t)=>s(e,t)||o(e,t))):"data"===a?t.filter(((t,a)=>{let l=r.routes[t.route.id];if(!l||!l.hasLoader)return!1;if(s(t,a)||o(t,a))return!0;if(t.route.shouldRevalidate){let r=t.route.shouldRevalidate({currentUrl:new URL(i.pathname+i.search+i.hash,window.origin),currentParams:n[0]?.params||{},nextUrl:new URL(e,window.origin),nextParams:t.params,defaultShouldRevalidate:!0});if("boolean"===typeof r)return r}return!0})):[]}function Ne(e,t){let{includeHydrateFallback:n}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return r=e.map((e=>{let r=t.routes[e.route.id];if(!r)return[];let i=[r.module];return r.clientActionModule&&(i=i.concat(r.clientActionModule)),r.clientLoaderModule&&(i=i.concat(r.clientLoaderModule)),n&&r.hydrateFallbackModule&&(i=i.concat(r.hydrateFallbackModule)),r.imports&&(i=i.concat(r.imports)),i})).flat(1),[...new Set(r)];var r}function Re(e,t){let n=new Set,r=new Set(t);return e.reduce(((e,i)=>{if(t&&!Ie(i)&&"script"===i.as&&i.href&&r.has(i.href))return e;let a=JSON.stringify(function(e){let t={},n=Object.keys(e).sort();for(let r of n)t[r]=e[r];return t}(i));return n.has(a)||(n.add(a),e.push({key:a,link:i})),e}),[])}function Oe(e){return{__html:e}}Symbol("SingleFetchRedirect");function De(e,t){let n="string"===typeof e?new URL(e,"undefined"===typeof window?"server://singlefetch/":window.location.origin):e;return"/"===n.pathname?n.pathname="_root.data":t&&"/"===T(n.pathname,t)?n.pathname=`${t.replace(/\/$/,"")}/_root.data`:n.pathname=`${n.pathname.replace(/\/$/,"")}.data`,n}e.Component;function je(t){let{error:n,isOutsideRemixApp:r}=t;console.error(n);let i,a=e.createElement("script",{dangerouslySetInnerHTML:{__html:'\n        console.log(\n          "\ud83d\udcbf Hey developer \ud83d\udc4b. You can provide a way better UX than this when your app throws errors. Check out https://remix.run/guides/errors for more information."\n        );\n      '}});if(L(n))return e.createElement(Le,{title:"Unhandled Thrown Response!"},e.createElement("h1",{style:{fontSize:"24px"}},n.status," ",n.statusText),a);if(n instanceof Error)0;else{let e=null==n?"Unknown Error":"object"===typeof n&&"toString"in n?n.toString():JSON.stringify(n);new Error(e)}return e.createElement(Le,{title:"Application Error!",isOutsideRemixApp:r},e.createElement("h1",{style:{fontSize:"24px"}},"Application Error"),e.createElement("pre",{style:{padding:"2rem",background:"hsla(10, 50%, 50%, 0.1)",color:"red",overflow:"auto"}},i.stack),a)}function Le(t){let{title:n,renderScripts:r,isOutsideRemixApp:i,children:a}=t,{routeModules:s}=Ve();return s.root?.Layout&&!i?a:e.createElement("html",{lang:"en"},e.createElement("head",null,e.createElement("meta",{charSet:"utf-8"}),e.createElement("meta",{name:"viewport",content:"width=device-width,initial-scale=1,viewport-fit=cover"}),e.createElement("title",null,n)),e.createElement("body",null,e.createElement("main",{style:{fontFamily:"system-ui, sans-serif",padding:"2rem"}},a,r?e.createElement(Ke,null):null)))}function Me(e){return!0===e}function Fe(){let t=e.useContext(z);return Ce(t,"You must render this element inside a <DataRouterContext.Provider> element"),t}function ze(){let t=e.useContext(U);return Ce(t,"You must render this element inside a <DataRouterStateContext.Provider> element"),t}var Ue=e.createContext(void 0);function Ve(){let t=e.useContext(Ue);return Ce(t,"You must render this element inside a <HydratedRouter> element"),t}function qe(e,t){return n=>{e&&e(n),n.defaultPrevented||t(n)}}function Be(e,t,n){if(n&&!Qe)return[e[0]];if(t){let n=e.findIndex((e=>void 0!==t[e.route.id]));return e.slice(0,n+1)}return e}function $e(t){let{page:n,...r}=t,{router:i}=Fe(),a=e.useMemo((()=>h(i.routes,n,i.basename)),[i.routes,n,i.basename]);return a?e.createElement(We,{page:n,matches:a,...r}):null}function He(t){let{manifest:n,routeModules:r}=Ve(),[i,a]=e.useState([]);return e.useEffect((()=>{let e=!1;return async function(e,t,n){return Re((await Promise.all(e.map((async e=>{let r=t.routes[e.route.id];if(r){let e=await Te(r,n);return e.links?e.links():[]}return[]})))).flat(1).filter(Ae).filter((e=>"stylesheet"===e.rel||"preload"===e.rel)).map((e=>"stylesheet"===e.rel?{...e,rel:"prefetch",as:"style"}:{...e,rel:"prefetch"})))}(t,n,r).then((t=>{e||a(t)})),()=>{e=!0}}),[t,n,r]),i}function We(t){let{page:n,matches:r,...i}=t,a=G(),{manifest:s,routeModules:o}=Ve(),{basename:l}=Fe(),{loaderData:c,matches:u}=ze(),d=e.useMemo((()=>Pe(n,r,u,s,a,"data")),[n,r,u,s,a]),h=e.useMemo((()=>Pe(n,r,u,s,a,"assets")),[n,r,u,s,a]),f=e.useMemo((()=>{if(n===a.pathname+a.search+a.hash)return[];let e=new Set,t=!1;if(r.forEach((n=>{let r=s.routes[n.route.id];r&&r.hasLoader&&(!d.some((e=>e.route.id===n.route.id))&&n.route.id in c&&o[n.route.id]?.shouldRevalidate||r.hasClientLoader?t=!0:e.add(n.route.id))})),0===e.size)return[];let i=De(n,l);return t&&e.size>0&&i.searchParams.set("_routes",r.filter((t=>e.has(t.route.id))).map((e=>e.route.id)).join(",")),[i.pathname+i.search]}),[l,c,a,s,d,r,n,o]),p=e.useMemo((()=>Ne(h,s)),[h,s]),m=He(h);return e.createElement(e.Fragment,null,f.map((t=>e.createElement("link",{key:t,rel:"prefetch",as:"fetch",href:t,...i}))),p.map((t=>e.createElement("link",{key:t,rel:"modulepreload",href:t,...i}))),m.map((t=>{let{key:n,link:r}=t;return e.createElement("link",{key:n,...r})})))}Ue.displayName="FrameworkContext";var Qe=!1;function Ke(t){let{manifest:n,serverHandoffString:r,isSpaMode:i,ssr:a,renderMeta:s}=Ve(),{router:o,static:l,staticContext:c}=Fe(),{matches:u}=ze(),d=Me(a);s&&(s.didRenderScripts=!0);let f=Be(u,null,i);e.useEffect((()=>{0}),[]);let p=e.useMemo((()=>{let i=c?`window.__reactRouterContext = ${r};window.__reactRouterContext.stream = new ReadableStream({start(controller){window.__reactRouterContext.streamController = controller;}}).pipeThrough(new TextEncoderStream());`:" ",a=l?`${n.hmr?.runtime?`import ${JSON.stringify(n.hmr.runtime)};`:""}${d?"":`import ${JSON.stringify(n.url)}`};\n${f.map(((e,t)=>{let r=`route${t}`,i=n.routes[e.route.id];Ce(i,`Route ${e.route.id} not found in manifest`);let{clientActionModule:a,clientLoaderModule:s,clientMiddlewareModule:o,hydrateFallbackModule:l,module:c}=i,u=[...a?[{module:a,varName:`${r}_clientAction`}]:[],...s?[{module:s,varName:`${r}_clientLoader`}]:[],...o?[{module:o,varName:`${r}_clientMiddleware`}]:[],...l?[{module:l,varName:`${r}_HydrateFallback`}]:[],{module:c,varName:`${r}_main`}];return 1===u.length?`import * as ${r} from ${JSON.stringify(c)};`:[u.map((e=>`import * as ${e.varName} from "${e.module}";`)).join("\n"),`const ${r} = {${u.map((e=>`...${e.varName}`)).join(",")}};`].join("\n")})).join("\n")}\n  ${d?`window.__reactRouterManifest = ${JSON.stringify(function(e,t){let n=new Set(t.state.matches.map((e=>e.route.id))),r=t.state.location.pathname.split("/").filter(Boolean),i=["/"];for(r.pop();r.length>0;)i.push(`/${r.join("/")}`),r.pop();i.forEach((e=>{let r=h(t.routes,e,t.basename);r&&r.forEach((e=>n.add(e.route.id)))}));let a=[...n].reduce(((t,n)=>Object.assign(t,{[n]:e.routes[n]})),{});return{...e,routes:a}}(n,o),null,2)};`:""}\n  window.__reactRouterRouteModules = {${f.map(((e,t)=>`${JSON.stringify(e.route.id)}:route${t}`)).join(",")}};\n\nimport(${JSON.stringify(n.entry.module)});`:" ";return e.createElement(e.Fragment,null,e.createElement("script",{...t,suppressHydrationWarning:!0,dangerouslySetInnerHTML:Oe(i),type:void 0}),e.createElement("script",{...t,suppressHydrationWarning:!0,dangerouslySetInnerHTML:Oe(a),type:"module",async:!0}))}),[]),m=Qe?[]:n.entry.imports.concat(Ne(f,n,{includeHydrateFallback:!0}));return Qe?null:e.createElement(e.Fragment,null,d?null:e.createElement("link",{rel:"modulepreload",href:n.url,crossOrigin:t.crossOrigin}),e.createElement("link",{rel:"modulepreload",href:n.entry.module,crossOrigin:t.crossOrigin}),[...new Set(g)].map((n=>e.createElement("link",{key:n,rel:"modulepreload",href:n,crossOrigin:t.crossOrigin}))),p);var g}function Ge(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return e=>{t.forEach((t=>{"function"===typeof t?t(e):null!=t&&(t.current=e)}))}}var Ye="undefined"!==typeof window&&"undefined"!==typeof window.document&&"undefined"!==typeof window.document.createElement;try{Ye&&(window.__reactRouterVersion="7.4.1")}catch(NS){}function Xe(t){let{basename:n,children:r,window:a}=t,s=e.useRef();null==s.current&&(s.current=i({window:a,v5Compat:!0}));let o=s.current,[l,c]=e.useState({action:o.action,location:o.location}),u=e.useCallback((t=>{e.startTransition((()=>c(t)))}),[c]);return e.useLayoutEffect((()=>o.listen(u)),[o,u]),e.createElement(me,{basename:n,children:r,location:l.location,navigationType:l.action,navigator:o})}var Je=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Ze=e.forwardRef((function(t,n){let r,{onClick:i,discover:o="render",prefetch:l="none",relative:u,reloadDocument:d,replace:h,state:f,target:p,to:m,preventScrollReset:g,viewTransition:y,...v}=t,{basename:b}=e.useContext($),w="string"===typeof m&&Je.test(m),x=!1;if("string"===typeof m&&w&&(r=m,Ye))try{let e=new URL(window.location.href),t=m.startsWith("//")?new URL(e.protocol+m):new URL(m),n=T(t.pathname,b);t.origin===e.origin&&null!=n?m=n+t.search+t.hash:x=!0}catch(NS){s(!1,`<Link to="${m}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let S=function(t){let{relative:n}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};a(K(),"useHref() may be used only in the context of a <Router> component.");let{basename:r,navigator:i}=e.useContext($),{hash:s,pathname:o,search:l}=Z(t,{relative:n}),c=o;return"/"!==r&&(c="/"===o?r:R([r,o])),i.createHref({pathname:c,search:l,hash:s})}(m,{relative:u}),[E,k,_]=function(t,n){let r=e.useContext(Ue),[i,a]=e.useState(!1),[s,o]=e.useState(!1),{onFocus:l,onBlur:c,onMouseEnter:u,onMouseLeave:d,onTouchStart:h}=n,f=e.useRef(null);e.useEffect((()=>{if("render"===t&&o(!0),"viewport"===t){let e=new IntersectionObserver((e=>{e.forEach((e=>{o(e.isIntersecting)}))}),{threshold:.5});return f.current&&e.observe(f.current),()=>{e.disconnect()}}}),[t]),e.useEffect((()=>{if(i){let e=setTimeout((()=>{o(!0)}),100);return()=>{clearTimeout(e)}}}),[i]);let p=()=>{a(!0)},m=()=>{a(!1),o(!1)};return r?"intent"!==t?[s,f,{}]:[s,f,{onFocus:qe(l,p),onBlur:qe(c,m),onMouseEnter:qe(u,p),onMouseLeave:qe(d,m),onTouchStart:qe(h,p)}]:[!1,f,{}]}(l,v),C=function(t){let{target:n,replace:r,state:i,preventScrollReset:a,relative:s,viewTransition:o}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},l=J(),u=G(),d=Z(t,{relative:s});return e.useCallback((e=>{if(function(e,t){return 0===e.button&&(!t||"_self"===t)&&!function(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}(e)}(e,n)){e.preventDefault();let n=void 0!==r?r:c(u)===c(d);l(t,{replace:n,state:i,preventScrollReset:a,relative:s,viewTransition:o})}}),[u,l,d,r,i,n,t,a,s,o])}(m,{replace:h,state:f,target:p,preventScrollReset:g,relative:u,viewTransition:y});let I=e.createElement("a",{...v,..._,href:r||S,onClick:x||d?i:function(e){i&&i(e),e.defaultPrevented||C(e)},ref:Ge(n,k),target:p,"data-discover":w||"render"!==o?void 0:"true"});return E&&!w?e.createElement(e.Fragment,null,I,e.createElement($e,{page:S})):I}));Ze.displayName="Link";var et=e.forwardRef((function(t,n){let{"aria-current":r="page",caseSensitive:i=!1,className:s="",end:o=!1,style:l,to:c,viewTransition:u,children:d,...h}=t,f=Z(c,{relative:h.relative}),p=G(),m=e.useContext(U),{navigator:g,basename:y}=e.useContext($),v=null!=m&&function(t){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=e.useContext(V);a(null!=r,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:i}=rt("useViewTransitionState"),s=Z(t,{relative:n.relative});if(!r.isTransitioning)return!1;let o=T(r.currentLocation.pathname,i)||r.currentLocation.pathname,l=T(r.nextLocation.pathname,i)||r.nextLocation.pathname;return null!=_(s.pathname,l)||null!=_(s.pathname,o)}(f)&&!0===u,b=g.encodeLocation?g.encodeLocation(f).pathname:f.pathname,w=p.pathname,x=m&&m.navigation&&m.navigation.location?m.navigation.location.pathname:null;i||(w=w.toLowerCase(),x=x?x.toLowerCase():null,b=b.toLowerCase()),x&&y&&(x=T(x,y)||x);const S="/"!==b&&b.endsWith("/")?b.length-1:b.length;let E,k=w===b||!o&&w.startsWith(b)&&"/"===w.charAt(S),C=null!=x&&(x===b||!o&&x.startsWith(b)&&"/"===x.charAt(b.length)),I={isActive:k,isPending:C,isTransitioning:v},A=k?r:void 0;E="function"===typeof s?s(I):[s,k?"active":null,C?"pending":null,v?"transitioning":null].filter(Boolean).join(" ");let P="function"===typeof l?l(I):l;return e.createElement(Ze,{...h,"aria-current":A,className:E,ref:n,style:P,to:c,viewTransition:u},"function"===typeof d?d(I):d)}));et.displayName="NavLink";var tt=e.forwardRef(((t,n)=>{let{discover:r="render",fetcherKey:i,navigate:s,reloadDocument:o,replace:l,state:u,method:d=ve,action:h,onSubmit:f,relative:p,preventScrollReset:m,viewTransition:g,...y}=t,v=ot(),b=function(t){let{relative:n}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},{basename:r}=e.useContext($),i=e.useContext(W);a(i,"useFormAction must be used inside a RouteContext");let[s]=i.matches.slice(-1),o={...Z(t||".",{relative:n})},l=G();if(null==t){o.search=l.search;let e=new URLSearchParams(o.search),t=e.getAll("index"),n=t.some((e=>""===e));if(n){e.delete("index"),t.filter((e=>e)).forEach((t=>e.append("index",t)));let n=e.toString();o.search=n?`?${n}`:""}}t&&"."!==t||!s.route.index||(o.search=o.search?o.search.replace(/^\?/,"?index&"):"?index");"/"!==r&&(o.pathname="/"===o.pathname?r:R([r,o.pathname]));return c(o)}(h,{relative:p}),w="get"===d.toLowerCase()?"get":"post",x="string"===typeof h&&Je.test(h);return e.createElement("form",{ref:n,method:w,action:b,onSubmit:o?f:e=>{if(f&&f(e),e.defaultPrevented)return;e.preventDefault();let t=e.nativeEvent.submitter,n=t?.getAttribute("formmethod")||d;v(t||e.currentTarget,{fetcherKey:i,method:n,navigate:s,replace:l,state:u,relative:p,preventScrollReset:m,viewTransition:g})},...y,"data-discover":x||"render"!==r?void 0:"true"})}));function nt(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function rt(t){let n=e.useContext(z);return a(n,nt(t)),n}function it(t){s("undefined"!==typeof URLSearchParams,"You cannot use the `useSearchParams` hook in a browser that does not support the URLSearchParams API. If you need to support Internet Explorer 11, we recommend you load a polyfill such as https://github.com/ungap/url-search-params.");let n=e.useRef(xe(t)),r=e.useRef(!1),i=G(),a=e.useMemo((()=>function(e,t){let n=xe(e);return t&&t.forEach(((e,r)=>{n.has(r)||t.getAll(r).forEach((e=>{n.append(r,e)}))})),n}(i.search,r.current?null:n.current)),[i.search]),o=J(),l=e.useCallback(((e,t)=>{const n=xe("function"===typeof e?e(a):e);r.current=!0,o("?"+n,t)}),[o,a]);return[a,l]}tt.displayName="Form";var at=0,st=()=>`__${String(++at)}__`;function ot(){let{router:t}=rt("useSubmit"),{basename:n}=e.useContext($),r=ce("useRouteId");return e.useCallback((async function(e){let i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},{action:a,method:s,encType:o,formData:l,body:c}=_e(e,n);if(!1===i.navigate){let e=i.fetcherKey||st();await t.fetch(e,r,i.action||a,{preventScrollReset:i.preventScrollReset,formData:l,body:c,formMethod:i.method||s,formEncType:i.encType||o,flushSync:i.flushSync})}else await t.navigate(i.action||a,{preventScrollReset:i.preventScrollReset,formData:l,body:c,formMethod:i.method||s,formEncType:i.encType||o,replace:i.replace,state:i.state,fromRouteId:r,flushSync:i.flushSync,viewTransition:i.viewTransition})}),[t,n,r])}new TextEncoder;const lt=function(e){const t=[];let n=0;for(let r=0;r<e.length;r++){let i=e.charCodeAt(r);i<128?t[n++]=i:i<2048?(t[n++]=i>>6|192,t[n++]=63&i|128):55296===(64512&i)&&r+1<e.length&&56320===(64512&e.charCodeAt(r+1))?(i=65536+((1023&i)<<10)+(1023&e.charCodeAt(++r)),t[n++]=i>>18|240,t[n++]=i>>12&63|128,t[n++]=i>>6&63|128,t[n++]=63&i|128):(t[n++]=i>>12|224,t[n++]=i>>6&63|128,t[n++]=63&i|128)}return t},ct={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"===typeof atob,encodeByteArray(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<e.length;i+=3){const t=e[i],a=i+1<e.length,s=a?e[i+1]:0,o=i+2<e.length,l=o?e[i+2]:0,c=t>>2,u=(3&t)<<4|s>>4;let d=(15&s)<<2|l>>6,h=63&l;o||(h=64,a||(d=64)),r.push(n[c],n[u],n[d],n[h])}return r.join("")},encodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(lt(e),t)},decodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):function(e){const t=[];let n=0,r=0;for(;n<e.length;){const i=e[n++];if(i<128)t[r++]=String.fromCharCode(i);else if(i>191&&i<224){const a=e[n++];t[r++]=String.fromCharCode((31&i)<<6|63&a)}else if(i>239&&i<365){const a=((7&i)<<18|(63&e[n++])<<12|(63&e[n++])<<6|63&e[n++])-65536;t[r++]=String.fromCharCode(55296+(a>>10)),t[r++]=String.fromCharCode(56320+(1023&a))}else{const a=e[n++],s=e[n++];t[r++]=String.fromCharCode((15&i)<<12|(63&a)<<6|63&s)}}return t.join("")}(this.decodeStringToByteArray(e,t))},decodeStringToByteArray(e,t){this.init_();const n=t?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<e.length;){const t=n[e.charAt(i++)],a=i<e.length?n[e.charAt(i)]:0;++i;const s=i<e.length?n[e.charAt(i)]:64;++i;const o=i<e.length?n[e.charAt(i)]:64;if(++i,null==t||null==a||null==s||null==o)throw new ut;const l=t<<2|a>>4;if(r.push(l),64!==s){const e=a<<4&240|s>>2;if(r.push(e),64!==o){const e=s<<6&192|o;r.push(e)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}};class ut extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const dt=function(e){return function(e){const t=lt(e);return ct.encodeByteArray(t,!0)}(e).replace(/\./g,"")},ht=function(e){try{return ct.decodeString(e,!0)}catch(NS){console.error("base64Decode failed: ",NS)}return null};const ft=()=>function(){if("undefined"!==typeof self)return self;if("undefined"!==typeof window)return window;if("undefined"!==typeof n.g)return n.g;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__,pt=()=>{try{return ft()||(()=>{if("undefined"===typeof process)return;const e={NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_FIREBASE_API_KEY:"AIzaSyB_geIGOagn2h6blPgMmYV00N-oqXYOI0Q",REACT_APP_FIREBASE_AUTH_DOMAIN:"quirkle-db.firebaseapp.com",REACT_APP_FIREBASE_PROJECT_ID:"quirkle-db",REACT_APP_FIREBASE_STORAGE_BUCKET:"quirkle-db.firebasestorage.app",REACT_APP_FIREBASE_MESSAGING_SENDER_ID:"953361912983",REACT_APP_FIREBASE_APP_ID:"1:953361912983:web:2d4cbe9fb86e9b9d22c5d2",REACT_APP_FIREBASE_MEASUREMENT_ID:"G-8PPFC7BPZL"}.__FIREBASE_DEFAULTS__;return e?JSON.parse(e):void 0})()||(()=>{if("undefined"===typeof document)return;let e;try{e=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch(NS){return}const t=e&&ht(e[1]);return t&&JSON.parse(t)})()}catch(NS){return void console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${NS}`)}},mt=e=>{var t,n;return null===(n=null===(t=pt())||void 0===t?void 0:t.emulatorHosts)||void 0===n?void 0:n[e]},gt=()=>{var e;return null===(e=pt())||void 0===e?void 0:e.config},yt=e=>{var t;return null===(t=pt())||void 0===t?void 0:t[`_${e}`]};class vt{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise(((e,t)=>{this.resolve=e,this.reject=t}))}wrapCallback(e){return(t,n)=>{t?this.reject(t):this.resolve(n),"function"===typeof e&&(this.promise.catch((()=>{})),1===e.length?e(t):e(t,n))}}}function bt(){return"undefined"!==typeof navigator&&"string"===typeof navigator.userAgent?navigator.userAgent:""}function wt(){const e="object"===typeof chrome?chrome.runtime:"object"===typeof browser?browser.runtime:void 0;return"object"===typeof e&&void 0!==e.id}function xt(){return!function(){var e;const t=null===(e=pt())||void 0===e?void 0:e.forceEnvironment;if("node"===t)return!0;if("browser"===t)return!1;try{return"[object process]"===Object.prototype.toString.call(n.g.process)}catch(NS){return!1}}()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function St(){try{return"object"===typeof indexedDB}catch(NS){return!1}}function Et(){return new Promise(((e,t)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),e(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var e;t((null===(e=i.error)||void 0===e?void 0:e.message)||"")}}catch(n){t(n)}}))}class kt extends Error{constructor(e,t,n){super(t),this.code=e,this.customData=n,this.name="FirebaseError",Object.setPrototypeOf(this,kt.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,_t.prototype.create)}}class _t{constructor(e,t,n){this.service=e,this.serviceName=t,this.errors=n}create(e){const t=(arguments.length<=1?void 0:arguments[1])||{},n=`${this.service}/${e}`,r=this.errors[e],i=r?function(e,t){return e.replace(Ct,((e,n)=>{const r=t[n];return null!=r?String(r):`<${n}?>`}))}(r,t):"Error",a=`${this.serviceName}: ${i} (${n}).`;return new kt(n,a,t)}}const Ct=/\{\$([^}]+)}/g;function Tt(e,t){if(e===t)return!0;const n=Object.keys(e),r=Object.keys(t);for(const i of n){if(!r.includes(i))return!1;const n=e[i],a=t[i];if(It(n)&&It(a)){if(!Tt(n,a))return!1}else if(n!==a)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function It(e){return null!==e&&"object"===typeof e}function At(e){const t=[];for(const[n,r]of Object.entries(e))Array.isArray(r)?r.forEach((e=>{t.push(encodeURIComponent(n)+"="+encodeURIComponent(e))})):t.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return t.length?"&"+t.join("&"):""}function Pt(e){const t={};return e.replace(/^\?/,"").split("&").forEach((e=>{if(e){const[n,r]=e.split("=");t[decodeURIComponent(n)]=decodeURIComponent(r)}})),t}function Nt(e){const t=e.indexOf("?");if(!t)return"";const n=e.indexOf("#",t);return e.substring(t,n>0?n:void 0)}class Rt{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then((()=>{e(this)})).catch((e=>{this.error(e)}))}next(e){this.forEachObserver((t=>{t.next(e)}))}error(e){this.forEachObserver((t=>{t.error(e)})),this.close(e)}complete(){this.forEachObserver((e=>{e.complete()})),this.close()}subscribe(e,t,n){let r;if(void 0===e&&void 0===t&&void 0===n)throw new Error("Missing Observer.");r=function(e,t){if("object"!==typeof e||null===e)return!1;for(const n of t)if(n in e&&"function"===typeof e[n])return!0;return!1}(e,["next","error","complete"])?e:{next:e,error:t,complete:n},void 0===r.next&&(r.next=Ot),void 0===r.error&&(r.error=Ot),void 0===r.complete&&(r.complete=Ot);const i=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then((()=>{try{this.finalError?r.error(this.finalError):r.complete()}catch(NS){}})),this.observers.push(r),i}unsubscribeOne(e){void 0!==this.observers&&void 0!==this.observers[e]&&(delete this.observers[e],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then((()=>{if(void 0!==this.observers&&void 0!==this.observers[e])try{t(this.observers[e])}catch(NS){"undefined"!==typeof console&&console.error&&console.error(NS)}}))}close(e){this.finalized||(this.finalized=!0,void 0!==e&&(this.finalError=e),this.task.then((()=>{this.observers=void 0,this.onNoObservers=void 0})))}}function Ot(){}function Dt(e){let t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:2;const n=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:1e3)*Math.pow(t,e),r=Math.round(.5*n*(Math.random()-.5)*2);return Math.min(144e5,n+r)}function jt(e){return e&&e._delegate?e._delegate:e}class Lt{constructor(e,t,n){this.name=e,this.instanceFactory=t,this.type=n,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const Mt="[DEFAULT]";class Ft{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const e=new vt;if(this.instancesDeferred.set(t,e),this.isInitialized(t)||this.shouldAutoInitialize())try{const n=this.getOrInitializeService({instanceIdentifier:t});n&&e.resolve(n)}catch(NS){}}return this.instancesDeferred.get(t).promise}getImmediate(e){var t;const n=this.normalizeInstanceIdentifier(null===e||void 0===e?void 0:e.identifier),r=null!==(t=null===e||void 0===e?void 0:e.optional)&&void 0!==t&&t;if(!this.isInitialized(n)&&!this.shouldAutoInitialize()){if(r)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:n})}catch(NS){if(r)return null;throw NS}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,this.shouldAutoInitialize()){if(function(e){return"EAGER"===e.instantiationMode}(e))try{this.getOrInitializeService({instanceIdentifier:Mt})}catch(NS){}for(const[e,t]of this.instancesDeferred.entries()){const n=this.normalizeInstanceIdentifier(e);try{const e=this.getOrInitializeService({instanceIdentifier:n});t.resolve(e)}catch(NS){}}}}clearInstance(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Mt;this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter((e=>"INTERNAL"in e)).map((e=>e.INTERNAL.delete())),...e.filter((e=>"_delete"in e)).map((e=>e._delete()))])}isComponentSet(){return null!=this.component}isInitialized(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Mt;return this.instances.has(e)}getOptions(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Mt;return this.instancesOptions.get(e)||{}}initialize(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{options:t={}}=e,n=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(n))throw Error(`${this.name}(${n}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const r=this.getOrInitializeService({instanceIdentifier:n,options:t});for(const[i,a]of this.instancesDeferred.entries()){n===this.normalizeInstanceIdentifier(i)&&a.resolve(r)}return r}onInit(e,t){var n;const r=this.normalizeInstanceIdentifier(t),i=null!==(n=this.onInitCallbacks.get(r))&&void 0!==n?n:new Set;i.add(e),this.onInitCallbacks.set(r,i);const a=this.instances.get(r);return a&&e(a,r),()=>{i.delete(e)}}invokeOnInitCallbacks(e,t){const n=this.onInitCallbacks.get(t);if(n)for(const i of n)try{i(e,t)}catch(r){}}getOrInitializeService(e){let{instanceIdentifier:t,options:n={}}=e,r=this.instances.get(t);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:(i=t,i===Mt?void 0:i),options:n}),this.instances.set(t,r),this.instancesOptions.set(t,n),this.invokeOnInitCallbacks(r,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,r)}catch(a){}var i;return r||null}normalizeInstanceIdentifier(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Mt;return this.component?this.component.multipleInstances?e:Mt:e}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class zt{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new Ft(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}const Ut=[];var Vt;!function(e){e[e.DEBUG=0]="DEBUG",e[e.VERBOSE=1]="VERBOSE",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.SILENT=5]="SILENT"}(Vt||(Vt={}));const qt={debug:Vt.DEBUG,verbose:Vt.VERBOSE,info:Vt.INFO,warn:Vt.WARN,error:Vt.ERROR,silent:Vt.SILENT},Bt=Vt.INFO,$t={[Vt.DEBUG]:"log",[Vt.VERBOSE]:"log",[Vt.INFO]:"info",[Vt.WARN]:"warn",[Vt.ERROR]:"error"},Ht=function(e,t){if(t<e.logLevel)return;const n=(new Date).toISOString(),r=$t[t];if(!r)throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`);for(var i=arguments.length,a=new Array(i>2?i-2:0),s=2;s<i;s++)a[s-2]=arguments[s];console[r](`[${n}]  ${e.name}:`,...a)};class Wt{constructor(e){this.name=e,this._logLevel=Bt,this._logHandler=Ht,this._userLogHandler=null,Ut.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Vt))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel="string"===typeof e?qt[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if("function"!==typeof e)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,Vt.DEBUG,...t),this._logHandler(this,Vt.DEBUG,...t)}log(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,Vt.VERBOSE,...t),this._logHandler(this,Vt.VERBOSE,...t)}info(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,Vt.INFO,...t),this._logHandler(this,Vt.INFO,...t)}warn(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,Vt.WARN,...t),this._logHandler(this,Vt.WARN,...t)}error(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,Vt.ERROR,...t),this._logHandler(this,Vt.ERROR,...t)}}let Qt,Kt;const Gt=new WeakMap,Yt=new WeakMap,Xt=new WeakMap,Jt=new WeakMap,Zt=new WeakMap;let en={get(e,t,n){if(e instanceof IDBTransaction){if("done"===t)return Yt.get(e);if("objectStoreNames"===t)return e.objectStoreNames||Xt.get(e);if("store"===t)return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return rn(e[t])},set:(e,t,n)=>(e[t]=n,!0),has:(e,t)=>e instanceof IDBTransaction&&("done"===t||"store"===t)||t in e};function tn(e){return e!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?(Kt||(Kt=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])).includes(e)?function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return e.apply(an(this),n),rn(Gt.get(this))}:function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return rn(e.apply(an(this),n))}:function(t){for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];const a=e.call(an(this),t,...r);return Xt.set(a,t.sort?t.sort():[t]),rn(a)}}function nn(e){return"function"===typeof e?tn(e):(e instanceof IDBTransaction&&function(e){if(Yt.has(e))return;const t=new Promise(((t,n)=>{const r=()=>{e.removeEventListener("complete",i),e.removeEventListener("error",a),e.removeEventListener("abort",a)},i=()=>{t(),r()},a=()=>{n(e.error||new DOMException("AbortError","AbortError")),r()};e.addEventListener("complete",i),e.addEventListener("error",a),e.addEventListener("abort",a)}));Yt.set(e,t)}(e),t=e,(Qt||(Qt=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])).some((e=>t instanceof e))?new Proxy(e,en):e);var t}function rn(e){if(e instanceof IDBRequest)return function(e){const t=new Promise(((t,n)=>{const r=()=>{e.removeEventListener("success",i),e.removeEventListener("error",a)},i=()=>{t(rn(e.result)),r()},a=()=>{n(e.error),r()};e.addEventListener("success",i),e.addEventListener("error",a)}));return t.then((t=>{t instanceof IDBCursor&&Gt.set(t,e)})).catch((()=>{})),Zt.set(t,e),t}(e);if(Jt.has(e))return Jt.get(e);const t=nn(e);return t!==e&&(Jt.set(e,t),Zt.set(t,e)),t}const an=e=>Zt.get(e);function sn(e,t){let{blocked:n,upgrade:r,blocking:i,terminated:a}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const s=indexedDB.open(e,t),o=rn(s);return r&&s.addEventListener("upgradeneeded",(e=>{r(rn(s.result),e.oldVersion,e.newVersion,rn(s.transaction),e)})),n&&s.addEventListener("blocked",(e=>n(e.oldVersion,e.newVersion,e))),o.then((e=>{a&&e.addEventListener("close",(()=>a())),i&&e.addEventListener("versionchange",(e=>i(e.oldVersion,e.newVersion,e)))})).catch((()=>{})),o}const on=["get","getKey","getAll","getAllKeys","count"],ln=["put","add","delete","clear"],cn=new Map;function un(e,t){if(!(e instanceof IDBDatabase)||t in e||"string"!==typeof t)return;if(cn.get(t))return cn.get(t);const n=t.replace(/FromIndex$/,""),r=t!==n,i=ln.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!i&&!on.includes(n))return;const a=async function(e){const t=this.transaction(e,i?"readwrite":"readonly");let a=t.store;for(var s=arguments.length,o=new Array(s>1?s-1:0),l=1;l<s;l++)o[l-1]=arguments[l];return r&&(a=a.index(o.shift())),(await Promise.all([a[n](...o),i&&t.done]))[0]};return cn.set(t,a),a}en=(e=>({...e,get:(t,n,r)=>un(t,n)||e.get(t,n,r),has:(t,n)=>!!un(t,n)||e.has(t,n)}))(en);class dn{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map((e=>{if(function(e){const t=e.getComponent();return"VERSION"===(null===t||void 0===t?void 0:t.type)}(e)){const t=e.getImmediate();return`${t.library}/${t.version}`}return null})).filter((e=>e)).join(" ")}}const hn="@firebase/app",fn="0.11.4",pn=new Wt("@firebase/app"),mn="@firebase/app-compat",gn="@firebase/analytics-compat",yn="@firebase/analytics",vn="@firebase/app-check-compat",bn="@firebase/app-check",wn="@firebase/auth",xn="@firebase/auth-compat",Sn="@firebase/database",En="@firebase/data-connect",kn="@firebase/database-compat",_n="@firebase/functions",Cn="@firebase/functions-compat",Tn="@firebase/installations",In="@firebase/installations-compat",An="@firebase/messaging",Pn="@firebase/messaging-compat",Nn="@firebase/performance",Rn="@firebase/performance-compat",On="@firebase/remote-config",Dn="@firebase/remote-config-compat",jn="@firebase/storage",Ln="@firebase/storage-compat",Mn="@firebase/firestore",Fn="@firebase/vertexai",zn="@firebase/firestore-compat",Un="firebase",Vn="[DEFAULT]",qn={[hn]:"fire-core",[mn]:"fire-core-compat",[yn]:"fire-analytics",[gn]:"fire-analytics-compat",[bn]:"fire-app-check",[vn]:"fire-app-check-compat",[wn]:"fire-auth",[xn]:"fire-auth-compat",[Sn]:"fire-rtdb",[En]:"fire-data-connect",[kn]:"fire-rtdb-compat",[_n]:"fire-fn",[Cn]:"fire-fn-compat",[Tn]:"fire-iid",[In]:"fire-iid-compat",[An]:"fire-fcm",[Pn]:"fire-fcm-compat",[Nn]:"fire-perf",[Rn]:"fire-perf-compat",[On]:"fire-rc",[Dn]:"fire-rc-compat",[jn]:"fire-gcs",[Ln]:"fire-gcs-compat",[Mn]:"fire-fst",[zn]:"fire-fst-compat",[Fn]:"fire-vertex","fire-js":"fire-js",[Un]:"fire-js-all"},Bn=new Map,$n=new Map,Hn=new Map;function Wn(e,t){try{e.container.addComponent(t)}catch(NS){pn.debug(`Component ${t.name} failed to register with FirebaseApp ${e.name}`,NS)}}function Qn(e){const t=e.name;if(Hn.has(t))return pn.debug(`There were multiple attempts to register component ${t}.`),!1;Hn.set(t,e);for(const n of Bn.values())Wn(n,e);for(const n of $n.values())Wn(n,e);return!0}function Kn(e,t){const n=e.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),e.container.getProvider(t)}function Gn(e){return null!==e&&void 0!==e&&void 0!==e.settings}const Yn=new _t("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."});class Xn{constructor(e,t,n){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=n,this.container.addComponent(new Lt("app",(()=>this),"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Yn.create("app-deleted",{appName:this._name})}}const Jn="11.6.0";function Zn(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=e;if("object"!==typeof t){t={name:t}}const r=Object.assign({name:Vn,automaticDataCollectionEnabled:!1},t),i=r.name;if("string"!==typeof i||!i)throw Yn.create("bad-app-name",{appName:String(i)});if(n||(n=gt()),!n)throw Yn.create("no-options");const a=Bn.get(i);if(a){if(Tt(n,a.options)&&Tt(r,a.config))return a;throw Yn.create("duplicate-app",{appName:i})}const s=new zt(i);for(const l of Hn.values())s.addComponent(l);const o=new Xn(n,r,s);return Bn.set(i,o),o}function er(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Vn;const t=Bn.get(e);if(!t&&e===Vn&&gt())return Zn();if(!t)throw Yn.create("no-app",{appName:e});return t}function tr(e,t,n){var r;let i=null!==(r=qn[e])&&void 0!==r?r:e;n&&(i+=`-${n}`);const a=i.match(/\s|\//),s=t.match(/\s|\//);if(a||s){const e=[`Unable to register library "${i}" with version "${t}":`];return a&&e.push(`library name "${i}" contains illegal characters (whitespace or "/")`),a&&s&&e.push("and"),s&&e.push(`version name "${t}" contains illegal characters (whitespace or "/")`),void pn.warn(e.join(" "))}Qn(new Lt(`${i}-version`,(()=>({library:i,version:t})),"VERSION"))}const nr="firebase-heartbeat-store";let rr=null;function ir(){return rr||(rr=sn("firebase-heartbeat-database",1,{upgrade:(e,t)=>{if(0===t)try{e.createObjectStore(nr)}catch(NS){console.warn(NS)}}}).catch((e=>{throw Yn.create("idb-open",{originalErrorMessage:e.message})}))),rr}async function ar(e,t){try{const n=(await ir()).transaction(nr,"readwrite"),r=n.objectStore(nr);await r.put(t,sr(e)),await n.done}catch(NS){if(NS instanceof kt)pn.warn(NS.message);else{const t=Yn.create("idb-set",{originalErrorMessage:null===NS||void 0===NS?void 0:NS.message});pn.warn(t.message)}}}function sr(e){return`${e.name}!${e.options.appId}`}class or{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new cr(t),this._heartbeatsCachePromise=this._storage.read().then((e=>(this._heartbeatsCache=e,e)))}async triggerHeartbeat(){var e,t;try{const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),r=lr();if(null==(null===(e=this._heartbeatsCache)||void 0===e?void 0:e.heartbeats)&&(this._heartbeatsCache=await this._heartbeatsCachePromise,null==(null===(t=this._heartbeatsCache)||void 0===t?void 0:t.heartbeats)))return;if(this._heartbeatsCache.lastSentHeartbeatDate===r||this._heartbeatsCache.heartbeats.some((e=>e.date===r)))return;if(this._heartbeatsCache.heartbeats.push({date:r,agent:n}),this._heartbeatsCache.heartbeats.length>30){const e=function(e){if(0===e.length)return-1;let t=0,n=e[0].date;for(let r=1;r<e.length;r++)e[r].date<n&&(n=e[r].date,t=r);return t}(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(e,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(NS){pn.warn(NS)}}async getHeartbeatsHeader(){var e;try{if(null===this._heartbeatsCache&&await this._heartbeatsCachePromise,null==(null===(e=this._heartbeatsCache)||void 0===e?void 0:e.heartbeats)||0===this._heartbeatsCache.heartbeats.length)return"";const t=lr(),{heartbeatsToSend:n,unsentEntries:r}=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1024;const n=[];let r=e.slice();for(const i of e){const e=n.find((e=>e.agent===i.agent));if(e){if(e.dates.push(i.date),ur(n)>t){e.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),ur(n)>t){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}(this._heartbeatsCache.heartbeats),i=dt(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=t,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),i}catch(NS){return pn.warn(NS),""}}}function lr(){return(new Date).toISOString().substring(0,10)}class cr{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return!!St()&&Et().then((()=>!0)).catch((()=>!1))}async read(){if(await this._canUseIndexedDBPromise){const e=await async function(e){try{const t=(await ir()).transaction(nr),n=await t.objectStore(nr).get(sr(e));return await t.done,n}catch(NS){if(NS instanceof kt)pn.warn(NS.message);else{const t=Yn.create("idb-get",{originalErrorMessage:null===NS||void 0===NS?void 0:NS.message});pn.warn(t.message)}}}(this.app);return(null===e||void 0===e?void 0:e.heartbeats)?e:{heartbeats:[]}}return{heartbeats:[]}}async overwrite(e){var t;if(await this._canUseIndexedDBPromise){const n=await this.read();return ar(this.app,{lastSentHeartbeatDate:null!==(t=e.lastSentHeartbeatDate)&&void 0!==t?t:n.lastSentHeartbeatDate,heartbeats:e.heartbeats})}}async add(e){var t;if(await this._canUseIndexedDBPromise){const n=await this.read();return ar(this.app,{lastSentHeartbeatDate:null!==(t=e.lastSentHeartbeatDate)&&void 0!==t?t:n.lastSentHeartbeatDate,heartbeats:[...n.heartbeats,...e.heartbeats]})}}}function ur(e){return dt(JSON.stringify({version:2,heartbeats:e})).length}var dr;dr="",Qn(new Lt("platform-logger",(e=>new dn(e)),"PRIVATE")),Qn(new Lt("heartbeat",(e=>new or(e)),"PRIVATE")),tr(hn,fn,dr),tr(hn,fn,"esm2017"),tr("fire-js","");function hr(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n}Object.create;Object.create;"function"===typeof SuppressedError&&SuppressedError;function fr(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const pr=fr,mr=new _t("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),gr=new Wt("@firebase/auth");function yr(e){if(gr.logLevel<=Vt.ERROR){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];gr.error(`Auth (${Jn}): ${e}`,...n)}}function vr(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];throw Er(e,...n)}function br(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return Er(e,...n)}function wr(e,t,n){const r=Object.assign(Object.assign({},pr()),{[t]:n});return new _t("auth","Firebase",r).create(t,{appName:e.name})}function xr(e){return wr(e,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Sr(e,t,n){if(!(t instanceof n))throw n.name!==t.constructor.name&&vr(e,"argument-error"),wr(e,"argument-error",`Type of ${t.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function Er(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];if("string"!==typeof e){const t=n[0],r=[...n.slice(1)];return r[0]&&(r[0].appName=e.name),e._errorFactory.create(t,...r)}return mr.create(e,...n)}function kr(e,t){if(!e){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];throw Er(t,...r)}}function _r(e){const t="INTERNAL ASSERTION FAILED: "+e;throw yr(t),new Error(t)}function Cr(e,t){e||_r(t)}function Tr(){var e;return"undefined"!==typeof self&&(null===(e=self.location)||void 0===e?void 0:e.href)||""}function Ir(){return"http:"===Ar()||"https:"===Ar()}function Ar(){var e;return"undefined"!==typeof self&&(null===(e=self.location)||void 0===e?void 0:e.protocol)||null}class Pr{constructor(e,t){this.shortDelay=e,this.longDelay=t,Cr(t>e,"Short delay should be less than long delay!"),this.isMobile="undefined"!==typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(bt())||"object"===typeof navigator&&"ReactNative"===navigator.product}get(){return"undefined"!==typeof navigator&&navigator&&"onLine"in navigator&&"boolean"===typeof navigator.onLine&&(Ir()||wt()||"connection"in navigator)&&!navigator.onLine?Math.min(5e3,this.shortDelay):this.isMobile?this.longDelay:this.shortDelay}}function Nr(e,t){Cr(e.emulator,"Emulator should always be set here");const{url:n}=e.emulator;return t?`${n}${t.startsWith("/")?t.slice(1):t}`:n}class Rr{static initialize(e,t,n){this.fetchImpl=e,t&&(this.headersImpl=t),n&&(this.responseImpl=n)}static fetch(){return this.fetchImpl?this.fetchImpl:"undefined"!==typeof self&&"fetch"in self?self.fetch:"undefined"!==typeof globalThis&&globalThis.fetch?globalThis.fetch:"undefined"!==typeof fetch?fetch:void _r("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:"undefined"!==typeof self&&"Headers"in self?self.Headers:"undefined"!==typeof globalThis&&globalThis.Headers?globalThis.Headers:"undefined"!==typeof Headers?Headers:void _r("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:"undefined"!==typeof self&&"Response"in self?self.Response:"undefined"!==typeof globalThis&&globalThis.Response?globalThis.Response:"undefined"!==typeof Response?Response:void _r("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const Or={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"},Dr=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],jr=new Pr(3e4,6e4);function Lr(e,t){return e.tenantId&&!t.tenantId?Object.assign(Object.assign({},t),{tenantId:e.tenantId}):t}async function Mr(e,t,n,r){return Fr(e,arguments.length>4&&void 0!==arguments[4]?arguments[4]:{},(async()=>{let i={},a={};r&&("GET"===t?a=r:i={body:JSON.stringify(r)});const s=At(Object.assign({key:e.config.apiKey},a)).slice(1),o=await e._getAdditionalHeaders();o["Content-Type"]="application/json",e.languageCode&&(o["X-Firebase-Locale"]=e.languageCode);const l=Object.assign({method:t,headers:o},i);return"undefined"!==typeof navigator&&"Cloudflare-Workers"===navigator.userAgent||(l.referrerPolicy="no-referrer"),Rr.fetch()(await Ur(e,e.config.apiHost,n,s),l)}))}async function Fr(e,t,n){e._canInitEmulator=!1;const r=Object.assign(Object.assign({},Or),t);try{const t=new qr(e),i=await Promise.race([n(),t.promise]);t.clearNetworkTimeout();const a=await i.json();if("needConfirmation"in a)throw Br(e,"account-exists-with-different-credential",a);if(i.ok&&!("errorMessage"in a))return a;{const t=i.ok?a.errorMessage:a.error.message,[n,s]=t.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===n)throw Br(e,"credential-already-in-use",a);if("EMAIL_EXISTS"===n)throw Br(e,"email-already-in-use",a);if("USER_DISABLED"===n)throw Br(e,"user-disabled",a);const o=r[n]||n.toLowerCase().replace(/[_\s]+/g,"-");if(s)throw wr(e,o,s);vr(e,o)}}catch(NS){if(NS instanceof kt)throw NS;vr(e,"network-request-failed",{message:String(NS)})}}async function zr(e,t,n,r){let i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{};const a=await Mr(e,t,n,r,i);return"mfaPendingCredential"in a&&vr(e,"multi-factor-auth-required",{_serverResponse:a}),a}async function Ur(e,t,n,r){const i=`${t}${n}?${r}`,a=e,s=a.config.emulator?Nr(e.config,i):`${e.config.apiScheme}://${i}`;if(Dr.includes(n)&&(await a._persistenceManagerAvailable,"COOKIE"===a._getPersistenceType())){return a._getPersistence()._getFinalTarget(s).toString()}return s}function Vr(e){switch(e){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class qr{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise(((e,t)=>{this.timer=setTimeout((()=>t(br(this.auth,"network-request-failed"))),jr.get())}))}}function Br(e,t,n){const r={appName:e.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=br(e,t,r);return i.customData._tokenResponse=n,i}function $r(e){return void 0!==e&&void 0!==e.enterprise}class Hr{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],void 0===e.recaptchaKey)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||0===this.recaptchaEnforcementState.length)return null;for(const t of this.recaptchaEnforcementState)if(t.provider&&t.provider===e)return Vr(t.enforcementState);return null}isProviderEnabled(e){return"ENFORCE"===this.getProviderEnforcementState(e)||"AUDIT"===this.getProviderEnforcementState(e)}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function Wr(e,t){return Mr(e,"GET","/v2/recaptchaConfig",Lr(e,t))}async function Qr(e,t){return Mr(e,"POST","/v1/accounts:lookup",t)}function Kr(e){if(e)try{const t=new Date(Number(e));if(!isNaN(t.getTime()))return t.toUTCString()}catch(NS){}}function Gr(e){return 1e3*Number(e)}function Yr(e){const[t,n,r]=e.split(".");if(void 0===t||void 0===n||void 0===r)return yr("JWT malformed, contained fewer than 3 sections"),null;try{const e=ht(n);return e?JSON.parse(e):(yr("Failed to decode base64 JWT payload"),null)}catch(NS){return yr("Caught error parsing JWT payload as JSON",null===NS||void 0===NS?void 0:NS.toString()),null}}function Xr(e){const t=Yr(e);return kr(t,"internal-error"),kr("undefined"!==typeof t.exp,"internal-error"),kr("undefined"!==typeof t.iat,"internal-error"),Number(t.exp)-Number(t.iat)}async function Jr(e,t){if(arguments.length>2&&void 0!==arguments[2]&&arguments[2])return t;try{return await t}catch(NS){throw NS instanceof kt&&function(e){let{code:t}=e;return"auth/user-disabled"===t||"auth/user-token-expired"===t}(NS)&&e.auth.currentUser===e&&await e.auth.signOut(),NS}}class Zr{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(e){var t;if(e){const e=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),e}{this.errorBackoff=3e4;const e=(null!==(t=this.user.stsTokenManager.expirationTime)&&void 0!==t?t:0)-Date.now()-3e5;return Math.max(0,e)}}schedule(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(!this.isRunning)return;const t=this.getInterval(e);this.timerId=setTimeout((async()=>{await this.iteration()}),t)}async iteration(){try{await this.user.getIdToken(!0)}catch(NS){return void("auth/network-request-failed"===(null===NS||void 0===NS?void 0:NS.code)&&this.schedule(!0))}this.schedule()}}class ei{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=Kr(this.lastLoginAt),this.creationTime=Kr(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function ti(e){var t;const n=e.auth,r=await e.getIdToken(),i=await Jr(e,Qr(n,{idToken:r}));kr(null===i||void 0===i?void 0:i.users.length,n,"internal-error");const a=i.users[0];e._notifyReloadListener(a);const s=(null===(t=a.providerUserInfo)||void 0===t?void 0:t.length)?ni(a.providerUserInfo):[],o=function(e,t){const n=e.filter((e=>!t.some((t=>t.providerId===e.providerId))));return[...n,...t]}(e.providerData,s),l=e.isAnonymous,c=!(e.email&&a.passwordHash)&&!(null===o||void 0===o?void 0:o.length),u=!!l&&c,d={uid:a.localId,displayName:a.displayName||null,photoURL:a.photoUrl||null,email:a.email||null,emailVerified:a.emailVerified||!1,phoneNumber:a.phoneNumber||null,tenantId:a.tenantId||null,providerData:o,metadata:new ei(a.createdAt,a.lastLoginAt),isAnonymous:u};Object.assign(e,d)}function ni(e){return e.map((e=>{var{providerId:t}=e,n=hr(e,["providerId"]);return{providerId:t,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}}))}class ri{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){kr(e.idToken,"internal-error"),kr("undefined"!==typeof e.idToken,"internal-error"),kr("undefined"!==typeof e.refreshToken,"internal-error");const t="expiresIn"in e&&"undefined"!==typeof e.expiresIn?Number(e.expiresIn):Xr(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}updateFromIdToken(e){kr(0!==e.length,"internal-error");const t=Xr(e);this.updateTokensAndExpiration(e,null,t)}async getToken(e){return arguments.length>1&&void 0!==arguments[1]&&arguments[1]||!this.accessToken||this.isExpired?(kr(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null):this.accessToken}clearRefreshToken(){this.refreshToken=null}async refresh(e,t){const{accessToken:n,refreshToken:r,expiresIn:i}=await async function(e,t){const n=await Fr(e,{},(async()=>{const n=At({grant_type:"refresh_token",refresh_token:t}).slice(1),{tokenApiHost:r,apiKey:i}=e.config,a=await Ur(e,r,"/v1/token",`key=${i}`),s=await e._getAdditionalHeaders();return s["Content-Type"]="application/x-www-form-urlencoded",Rr.fetch()(a,{method:"POST",headers:s,body:n})}));return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}(e,t);this.updateTokensAndExpiration(n,r,Number(i))}updateTokensAndExpiration(e,t,n){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+1e3*n}static fromJSON(e,t){const{refreshToken:n,accessToken:r,expirationTime:i}=t,a=new ri;return n&&(kr("string"===typeof n,"internal-error",{appName:e}),a.refreshToken=n),r&&(kr("string"===typeof r,"internal-error",{appName:e}),a.accessToken=r),i&&(kr("number"===typeof i,"internal-error",{appName:e}),a.expirationTime=i),a}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new ri,this.toJSON())}_performRefresh(){return _r("not implemented")}}function ii(e,t){kr("string"===typeof e||"undefined"===typeof e,"internal-error",{appName:t})}class ai{constructor(e){var{uid:t,auth:n,stsTokenManager:r}=e,i=hr(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new Zr(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=n,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=i.displayName||null,this.email=i.email||null,this.emailVerified=i.emailVerified||!1,this.phoneNumber=i.phoneNumber||null,this.photoURL=i.photoURL||null,this.isAnonymous=i.isAnonymous||!1,this.tenantId=i.tenantId||null,this.providerData=i.providerData?[...i.providerData]:[],this.metadata=new ei(i.createdAt||void 0,i.lastLoginAt||void 0)}async getIdToken(e){const t=await Jr(this,this.stsTokenManager.getToken(this.auth,e));return kr(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t}getIdTokenResult(e){return async function(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const n=jt(e),r=await n.getIdToken(t),i=Yr(r);kr(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const a="object"===typeof i.firebase?i.firebase:void 0,s=null===a||void 0===a?void 0:a.sign_in_provider;return{claims:i,token:r,authTime:Kr(Gr(i.auth_time)),issuedAtTime:Kr(Gr(i.iat)),expirationTime:Kr(Gr(i.exp)),signInProvider:s||null,signInSecondFactor:(null===a||void 0===a?void 0:a.sign_in_second_factor)||null}}(this,e)}reload(){return async function(e){const t=jt(e);await ti(t),await t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)}(this)}_assign(e){this!==e&&(kr(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map((e=>Object.assign({},e))),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const t=new ai(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return t.metadata._copy(this.metadata),t}_onReload(e){kr(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),n=!0),t&&await ti(this),await this.auth._persistUserIfCurrent(this),n&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Gn(this.auth.app))return Promise.reject(xr(this.auth));const e=await this.getIdToken();return await Jr(this,async function(e,t){return Mr(e,"POST","/v1/accounts:delete",t)}(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map((e=>Object.assign({},e))),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){var n,r,i,a,s,o,l,c;const u=null!==(n=t.displayName)&&void 0!==n?n:void 0,d=null!==(r=t.email)&&void 0!==r?r:void 0,h=null!==(i=t.phoneNumber)&&void 0!==i?i:void 0,f=null!==(a=t.photoURL)&&void 0!==a?a:void 0,p=null!==(s=t.tenantId)&&void 0!==s?s:void 0,m=null!==(o=t._redirectEventId)&&void 0!==o?o:void 0,g=null!==(l=t.createdAt)&&void 0!==l?l:void 0,y=null!==(c=t.lastLoginAt)&&void 0!==c?c:void 0,{uid:v,emailVerified:b,isAnonymous:w,providerData:x,stsTokenManager:S}=t;kr(v&&S,e,"internal-error");const E=ri.fromJSON(this.name,S);kr("string"===typeof v,e,"internal-error"),ii(u,e.name),ii(d,e.name),kr("boolean"===typeof b,e,"internal-error"),kr("boolean"===typeof w,e,"internal-error"),ii(h,e.name),ii(f,e.name),ii(p,e.name),ii(m,e.name),ii(g,e.name),ii(y,e.name);const k=new ai({uid:v,auth:e,email:d,emailVerified:b,displayName:u,isAnonymous:w,photoURL:f,phoneNumber:h,tenantId:p,stsTokenManager:E,createdAt:g,lastLoginAt:y});return x&&Array.isArray(x)&&(k.providerData=x.map((e=>Object.assign({},e)))),m&&(k._redirectEventId=m),k}static async _fromIdTokenResponse(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const r=new ri;r.updateFromServerResponse(t);const i=new ai({uid:t.localId,auth:e,stsTokenManager:r,isAnonymous:n});return await ti(i),i}static async _fromGetAccountInfoResponse(e,t,n){const r=t.users[0];kr(void 0!==r.localId,"internal-error");const i=void 0!==r.providerUserInfo?ni(r.providerUserInfo):[],a=!(r.email&&r.passwordHash)&&!(null===i||void 0===i?void 0:i.length),s=new ri;s.updateFromIdToken(n);const o=new ai({uid:r.localId,auth:e,stsTokenManager:s,isAnonymous:a}),l={uid:r.localId,displayName:r.displayName||null,photoURL:r.photoUrl||null,email:r.email||null,emailVerified:r.emailVerified||!1,phoneNumber:r.phoneNumber||null,tenantId:r.tenantId||null,providerData:i,metadata:new ei(r.createdAt,r.lastLoginAt),isAnonymous:!(r.email&&r.passwordHash)&&!(null===i||void 0===i?void 0:i.length)};return Object.assign(o,l),o}}const si=new Map;function oi(e){Cr(e instanceof Function,"Expected a class definition");let t=si.get(e);return t?(Cr(t instanceof e,"Instance stored in cache mismatched with class"),t):(t=new e,si.set(e,t),t)}class li{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,t){this.storage[e]=t}async _get(e){const t=this.storage[e];return void 0===t?null:t}async _remove(e){delete this.storage[e]}_addListener(e,t){}_removeListener(e,t){}}li.type="NONE";const ci=li;function ui(e,t,n){return`firebase:${e}:${t}:${n}`}class di{constructor(e,t,n){this.persistence=e,this.auth=t,this.userKey=n;const{config:r,name:i}=this.auth;this.fullUserKey=ui(this.userKey,r.apiKey,i),this.fullPersistenceKey=ui("persistence",r.apiKey,i),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if("string"===typeof e){const t=await Qr(this.auth,{idToken:e}).catch((()=>{}));return t?ai._fromGetAccountInfoResponse(this.auth,t,e):null}return ai._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const t=await this.getCurrentUser();return await this.removeCurrentUser(),this.persistence=e,t?this.setCurrentUser(t):void 0}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"authUser";if(!t.length)return new di(oi(ci),e,n);const r=(await Promise.all(t.map((async e=>{if(await e._isAvailable())return e})))).filter((e=>e));let i=r[0]||oi(ci);const a=ui(n,e.config.apiKey,e.name);let s=null;for(const c of t)try{const t=await c._get(a);if(t){let n;if("string"===typeof t){const r=await Qr(e,{idToken:t}).catch((()=>{}));if(!r)break;n=await ai._fromGetAccountInfoResponse(e,r,t)}else n=ai._fromJSON(e,t);c!==i&&(s=n),i=c;break}}catch(l){}const o=r.filter((e=>e._shouldAllowMigration));return i._shouldAllowMigration&&o.length?(i=o[0],s&&await i._set(a,s.toJSON()),await Promise.all(t.map((async e=>{if(e!==i)try{await e._remove(a)}catch(l){}}))),new di(i,e,n)):new di(i,e,n)}}function hi(e){const t=e.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(gi(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(fi(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(vi(t))return"Blackberry";if(bi(t))return"Webos";if(pi(t))return"Safari";if((t.includes("chrome/")||mi(t))&&!t.includes("edge/"))return"Chrome";if(yi(t))return"Android";{const t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,n=e.match(t);if(2===(null===n||void 0===n?void 0:n.length))return n[1]}return"Other"}function fi(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:bt();return/firefox\//i.test(e)}function pi(){const e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:bt()).toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function mi(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:bt();return/crios\//i.test(e)}function gi(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:bt();return/iemobile/i.test(e)}function yi(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:bt();return/android/i.test(e)}function vi(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:bt();return/blackberry/i.test(e)}function bi(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:bt();return/webos/i.test(e)}function wi(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:bt();return/iphone|ipad|ipod/i.test(e)||/macintosh/i.test(e)&&/mobile/i.test(e)}function xi(){return function(){const e=bt();return e.indexOf("MSIE ")>=0||e.indexOf("Trident/")>=0}()&&10===document.documentMode}function Si(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:bt();return wi(e)||yi(e)||bi(e)||vi(e)||/windows phone/i.test(e)||gi(e)}function Ei(e){let t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];switch(e){case"Browser":t=hi(bt());break;case"Worker":t=`${hi(bt())}-${e}`;break;default:t=e}const r=n.length?n.join(","):"FirebaseCore-web";return`${t}/JsCore/${Jn}/${r}`}class ki{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){const n=t=>new Promise(((n,r)=>{try{n(e(t))}catch(NS){r(NS)}}));n.onAbort=t,this.queue.push(n);const r=this.queue.length-1;return()=>{this.queue[r]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const t=[];try{for(const n of this.queue)await n(e),n.onAbort&&t.push(n.onAbort)}catch(NS){t.reverse();for(const r of t)try{r()}catch(n){}throw this.auth._errorFactory.create("login-blocked",{originalMessage:null===NS||void 0===NS?void 0:NS.message})}}}class _i{constructor(e){var t,n,r,i;const a=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=null!==(t=a.minPasswordLength)&&void 0!==t?t:6,a.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=a.maxPasswordLength),void 0!==a.containsLowercaseCharacter&&(this.customStrengthOptions.containsLowercaseLetter=a.containsLowercaseCharacter),void 0!==a.containsUppercaseCharacter&&(this.customStrengthOptions.containsUppercaseLetter=a.containsUppercaseCharacter),void 0!==a.containsNumericCharacter&&(this.customStrengthOptions.containsNumericCharacter=a.containsNumericCharacter),void 0!==a.containsNonAlphanumericCharacter&&(this.customStrengthOptions.containsNonAlphanumericCharacter=a.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,"ENFORCEMENT_STATE_UNSPECIFIED"===this.enforcementState&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=null!==(r=null===(n=e.allowedNonAlphanumericCharacters)||void 0===n?void 0:n.join(""))&&void 0!==r?r:"",this.forceUpgradeOnSignin=null!==(i=e.forceUpgradeOnSignin)&&void 0!==i&&i,this.schemaVersion=e.schemaVersion}validatePassword(e){var t,n,r,i,a,s;const o={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,o),this.validatePasswordCharacterOptions(e,o),o.isValid&&(o.isValid=null===(t=o.meetsMinPasswordLength)||void 0===t||t),o.isValid&&(o.isValid=null===(n=o.meetsMaxPasswordLength)||void 0===n||n),o.isValid&&(o.isValid=null===(r=o.containsLowercaseLetter)||void 0===r||r),o.isValid&&(o.isValid=null===(i=o.containsUppercaseLetter)||void 0===i||i),o.isValid&&(o.isValid=null===(a=o.containsNumericCharacter)||void 0===a||a),o.isValid&&(o.isValid=null===(s=o.containsNonAlphanumericCharacter)||void 0===s||s),o}validatePasswordLengthOptions(e,t){const n=this.customStrengthOptions.minPasswordLength,r=this.customStrengthOptions.maxPasswordLength;n&&(t.meetsMinPasswordLength=e.length>=n),r&&(t.meetsMaxPasswordLength=e.length<=r)}validatePasswordCharacterOptions(e,t){let n;this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);for(let r=0;r<e.length;r++)n=e.charAt(r),this.updatePasswordCharacterOptionsStatuses(t,n>="a"&&n<="z",n>="A"&&n<="Z",n>="0"&&n<="9",this.allowedNonAlphanumericCharacters.includes(n))}updatePasswordCharacterOptionsStatuses(e,t,n,r,i){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=n)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=r)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=i))}}class Ci{constructor(e,t,n,r){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=n,this.config=r,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Ii(this),this.idTokenSubscription=new Ii(this),this.beforeStateQueue=new ki(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=mr,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=r.sdkClientVersion,this._persistenceManagerAvailable=new Promise((e=>this._resolvePersistenceManagerAvailable=e))}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=oi(t)),this._initializationPromise=this.queue((async()=>{var n,r,i;if(!this._deleted&&(this.persistenceManager=await di.create(this,e),null===(n=this._resolvePersistenceManagerAvailable)||void 0===n||n.call(this),!this._deleted)){if(null===(r=this._popupRedirectResolver)||void 0===r?void 0:r._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch(NS){}await this.initializeCurrentUser(t),this.lastNotifiedUid=(null===(i=this.currentUser)||void 0===i?void 0:i.uid)||null,this._deleted||(this._isInitialized=!0)}})),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();return this.currentUser||e?this.currentUser&&e&&this.currentUser.uid===e.uid?(this._currentUser._assign(e),void await this.currentUser.getIdToken()):void await this._updateCurrentUser(e,!0):void 0}async initializeCurrentUserFromIdToken(e){try{const t=await Qr(this,{idToken:e}),n=await ai._fromGetAccountInfoResponse(this,t,e);await this.directlySetCurrentUser(n)}catch(t){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",t),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var t;if(Gn(this.app)){const e=this.app.settings.authIdToken;return e?new Promise((t=>{setTimeout((()=>this.initializeCurrentUserFromIdToken(e).then(t,t)))})):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let r=n,i=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const n=null===(t=this.redirectUser)||void 0===t?void 0:t._redirectEventId,a=null===r||void 0===r?void 0:r._redirectEventId,s=await this.tryRedirectSignIn(e);n&&n!==a||!(null===s||void 0===s?void 0:s.user)||(r=s.user,i=!0)}if(!r)return this.directlySetCurrentUser(null);if(!r._redirectEventId){if(i)try{await this.beforeStateQueue.runMiddleware(r)}catch(NS){r=n,this._popupRedirectResolver._overrideRedirectResult(this,(()=>Promise.reject(NS)))}return r?this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}return kr(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)}async tryRedirectSignIn(e){let t=null;try{t=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch(NS){await this._setRedirectUser(null)}return t}async reloadAndSetCurrentUserOrClear(e){try{await ti(e)}catch(NS){if("auth/network-request-failed"!==(null===NS||void 0===NS?void 0:NS.code))return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=function(){if("undefined"===typeof navigator)return null;const e=navigator;return e.languages&&e.languages[0]||e.language||null}()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Gn(this.app))return Promise.reject(xr(this));const t=e?jt(e):null;return t&&kr(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))}async _updateCurrentUser(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(!this._deleted)return e&&kr(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||await this.beforeStateQueue.runMiddleware(e),this.queue((async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()}))}async signOut(){return Gn(this.app)?Promise.reject(xr(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Gn(this.app)?Promise.reject(xr(this)):this.queue((async()=>{await this.assertedPersistence.setPersistence(oi(e))}))}_getRecaptchaConfig(){return null==this.tenantId?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)}_getPasswordPolicyInternal(){return null===this.tenantId?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await async function(e){return Mr(e,"GET","/v2/passwordPolicy",Lr(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}))}(this),t=new _i(e);null===this.tenantId?this._projectPasswordPolicy=t:this._tenantPasswordPolicies[this.tenantId]=t}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new _t("auth","Firebase",e())}onAuthStateChanged(e,t,n){return this.registerStateListener(this.authStateSubscription,e,t,n)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,n){return this.registerStateListener(this.idTokenSubscription,e,t,n)}authStateReady(){return new Promise(((e,t)=>{if(this.currentUser)e();else{const n=this.onAuthStateChanged((()=>{n(),e()}),t)}}))}async revokeAccessToken(e){if(this.currentUser){const t={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:await this.currentUser.getIdToken()};null!=this.tenantId&&(t.tenantId=this.tenantId),await async function(e,t){return Mr(e,"POST","/v2/accounts:revokeToken",Lr(e,t))}(this,t)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(e=this._currentUser)||void 0===e?void 0:e.toJSON()}}async _setRedirectUser(e,t){const n=await this.getOrInitRedirectPersistenceManager(t);return null===e?n.removeCurrentUser():n.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const t=e&&oi(e)||this._popupRedirectResolver;kr(t,this,"argument-error"),this.redirectPersistenceManager=await di.create(this,[oi(t._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var t,n;return this._isInitialized&&await this.queue((async()=>{})),(null===(t=this._currentUser)||void 0===t?void 0:t._redirectEventId)===e?this._currentUser:(null===(n=this.redirectUser)||void 0===n?void 0:n._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue((async()=>this.directlySetCurrentUser(e)))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,t;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const n=null!==(t=null===(e=this.currentUser)||void 0===e?void 0:e.uid)&&void 0!==t?t:null;this.lastNotifiedUid!==n&&(this.lastNotifiedUid=n,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,n,r){if(this._deleted)return()=>{};const i="function"===typeof t?t:t.next.bind(t);let a=!1;const s=this._isInitialized?Promise.resolve():this._initializationPromise;if(kr(s,this,"internal-error"),s.then((()=>{a||i(this.currentUser)})),"function"===typeof t){const i=e.addObserver(t,n,r);return()=>{a=!0,i()}}{const n=e.addObserver(t);return()=>{a=!0,n()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return kr(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){e&&!this.frameworks.includes(e)&&(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=Ei(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const n=await(null===(e=this.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===e?void 0:e.getHeartbeatsHeader());n&&(t["X-Firebase-Client"]=n);const r=await this._getAppCheckToken();return r&&(t["X-Firebase-AppCheck"]=r),t}async _getAppCheckToken(){var e;if(Gn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const t=await(null===(e=this.appCheckServiceProvider.getImmediate({optional:!0}))||void 0===e?void 0:e.getToken());return(null===t||void 0===t?void 0:t.error)&&function(e){if(gr.logLevel<=Vt.WARN){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];gr.warn(`Auth (${Jn}): ${e}`,...n)}}(`Error while retrieving App Check token: ${t.error}`),null===t||void 0===t?void 0:t.token}}function Ti(e){return jt(e)}class Ii{constructor(e){this.auth=e,this.observer=null,this.addObserver=function(e,t){const n=new Rt(e,t);return n.subscribe.bind(n)}((e=>this.observer=e))}get next(){return kr(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let Ai={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function Pi(e){return Ai.loadJS(e)}function Ni(e){return`__${e}${Math.floor(1e6*Math.random())}`}class Ri{constructor(){this.enterprise=new Oi}ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}class Oi{ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}const Di="NO_RECAPTCHA";class ji{constructor(e){this.type="recaptcha-enterprise",this.auth=Ti(e)}async verify(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"verify",t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];function n(t,n,r){const i=window.grecaptcha;$r(i)?i.enterprise.ready((()=>{i.enterprise.execute(t,{action:e}).then((e=>{n(e)})).catch((()=>{n(Di)}))})):r(Error("No reCAPTCHA enterprise script loaded."))}if(this.auth.settings.appVerificationDisabledForTesting){return(new Ri).execute("siteKey",{action:"verify"})}return new Promise(((e,r)=>{(async function(e){if(!t){if(null==e.tenantId&&null!=e._agentRecaptchaConfig)return e._agentRecaptchaConfig.siteKey;if(null!=e.tenantId&&void 0!==e._tenantRecaptchaConfigs[e.tenantId])return e._tenantRecaptchaConfigs[e.tenantId].siteKey}return new Promise((async(t,n)=>{Wr(e,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then((r=>{if(void 0!==r.recaptchaKey){const n=new Hr(r);return null==e.tenantId?e._agentRecaptchaConfig=n:e._tenantRecaptchaConfigs[e.tenantId]=n,t(n.siteKey)}n(new Error("recaptcha Enterprise site key undefined"))})).catch((e=>{n(e)}))}))})(this.auth).then((i=>{if(!t&&$r(window.grecaptcha))n(i,e,r);else{if("undefined"===typeof window)return void r(new Error("RecaptchaVerifier is only supported in browser"));let t=Ai.recaptchaEnterpriseScript;0!==t.length&&(t+=i),Pi(t).then((()=>{n(i,e,r)})).catch((e=>{r(e)}))}})).catch((e=>{r(e)}))}))}}async function Li(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3],i=arguments.length>4&&void 0!==arguments[4]&&arguments[4];const a=new ji(e);let s;if(i)s=Di;else try{s=await a.verify(n)}catch(l){s=await a.verify(n,!0)}const o=Object.assign({},t);if("mfaSmsEnrollment"===n||"mfaSmsSignIn"===n){if("phoneEnrollmentInfo"in o){const e=o.phoneEnrollmentInfo.phoneNumber,t=o.phoneEnrollmentInfo.recaptchaToken;Object.assign(o,{phoneEnrollmentInfo:{phoneNumber:e,recaptchaToken:t,captchaResponse:s,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in o){const e=o.phoneSignInInfo.recaptchaToken;Object.assign(o,{phoneSignInInfo:{recaptchaToken:e,captchaResponse:s,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return o}return r?Object.assign(o,{captchaResp:s}):Object.assign(o,{captchaResponse:s}),Object.assign(o,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(o,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),o}async function Mi(e,t,n,r,i){var a,s;if("EMAIL_PASSWORD_PROVIDER"===i){if(null===(a=e._getRecaptchaConfig())||void 0===a?void 0:a.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const i=await Li(e,t,n,"getOobCode"===n);return r(e,i)}return r(e,t).catch((async i=>{if("auth/missing-recaptcha-token"===i.code){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const i=await Li(e,t,n,"getOobCode"===n);return r(e,i)}return Promise.reject(i)}))}if("PHONE_PROVIDER"===i){if(null===(s=e._getRecaptchaConfig())||void 0===s?void 0:s.isProviderEnabled("PHONE_PROVIDER")){const i=await Li(e,t,n);return r(e,i).catch((async i=>{var a;if("AUDIT"===(null===(a=e._getRecaptchaConfig())||void 0===a?void 0:a.getProviderEnforcementState("PHONE_PROVIDER"))&&("auth/missing-recaptcha-token"===i.code||"auth/invalid-app-credential"===i.code)){console.log(`Failed to verify with reCAPTCHA Enterprise. Automatically triggering the reCAPTCHA v2 flow to complete the ${n} flow.`);const i=await Li(e,t,n,!1,!0);return r(e,i)}return Promise.reject(i)}))}{const i=await Li(e,t,n,!1,!0);return r(e,i)}}return Promise.reject(i+" provider is not supported.")}async function Fi(e){const t=Ti(e),n=await Wr(t,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}),r=new Hr(n);if(null==t.tenantId?t._agentRecaptchaConfig=r:t._tenantRecaptchaConfigs[t.tenantId]=r,r.isAnyProviderEnabled()){new ji(t).verify()}}function zi(e,t,n){const r=Ti(e);kr(/^https?:\/\//.test(t),r,"invalid-emulator-scheme");const i=!!(null===n||void 0===n?void 0:n.disableWarnings),a=Ui(t),{host:s,port:o}=function(e){const t=Ui(e),n=/(\/\/)?([^?#/]+)/.exec(e.substr(t.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const e=i[1];return{host:e,port:Vi(r.substr(e.length+1))}}{const[e,t]=r.split(":");return{host:e,port:Vi(t)}}}(t),l={url:`${a}//${s}${null===o?"":`:${o}`}/`},c=Object.freeze({host:s,port:o,protocol:a.replace(":",""),options:Object.freeze({disableWarnings:i})});if(!r._canInitEmulator)return kr(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),void kr(Tt(l,r.config.emulator)&&Tt(c,r.emulatorConfig),r,"emulator-config-failed");r.config.emulator=l,r.emulatorConfig=c,r.settings.appVerificationDisabledForTesting=!0,i||function(){function e(){const e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}"undefined"!==typeof console&&"function"===typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials.");"undefined"!==typeof window&&"undefined"!==typeof document&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",e):e())}()}function Ui(e){const t=e.indexOf(":");return t<0?"":e.substr(0,t+1)}function Vi(e){if(!e)return null;const t=Number(e);return isNaN(t)?null:t}class qi{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return _r("not implemented")}_getIdTokenResponse(e){return _r("not implemented")}_linkToIdToken(e,t){return _r("not implemented")}_getReauthenticationResolver(e){return _r("not implemented")}}async function Bi(e,t){return Mr(e,"POST","/v1/accounts:signUp",t)}async function $i(e,t){return zr(e,"POST","/v1/accounts:signInWithPassword",Lr(e,t))}class Hi extends qi{constructor(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;super("password",n),this._email=e,this._password=t,this._tenantId=r}static _fromEmailAndPassword(e,t){return new Hi(e,t,"password")}static _fromEmailAndCode(e,t){return new Hi(e,t,"emailLink",arguments.length>2&&void 0!==arguments[2]?arguments[2]:null)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const t="string"===typeof e?JSON.parse(e):e;if((null===t||void 0===t?void 0:t.email)&&(null===t||void 0===t?void 0:t.password)){if("password"===t.signInMethod)return this._fromEmailAndPassword(t.email,t.password);if("emailLink"===t.signInMethod)return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":return Mi(e,{returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"},"signInWithPassword",$i,"EMAIL_PASSWORD_PROVIDER");case"emailLink":return async function(e,t){return zr(e,"POST","/v1/accounts:signInWithEmailLink",Lr(e,t))}(e,{email:this._email,oobCode:this._password});default:vr(e,"internal-error")}}async _linkToIdToken(e,t){switch(this.signInMethod){case"password":return Mi(e,{idToken:t,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",Bi,"EMAIL_PASSWORD_PROVIDER");case"emailLink":return async function(e,t){return zr(e,"POST","/v1/accounts:signInWithEmailLink",Lr(e,t))}(e,{idToken:t,email:this._email,oobCode:this._password});default:vr(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}async function Wi(e,t){return zr(e,"POST","/v1/accounts:signInWithIdp",Lr(e,t))}class Qi extends qi{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const t=new Qi(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):vr("argument-error"),t}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const t="string"===typeof e?JSON.parse(e):e,{providerId:n,signInMethod:r}=t,i=hr(t,["providerId","signInMethod"]);if(!n||!r)return null;const a=new Qi(n,r);return a.idToken=i.idToken||void 0,a.accessToken=i.accessToken||void 0,a.secret=i.secret,a.nonce=i.nonce,a.pendingToken=i.pendingToken||null,a}_getIdTokenResponse(e){return Wi(e,this.buildRequest())}_linkToIdToken(e,t){const n=this.buildRequest();return n.idToken=t,Wi(e,n)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,Wi(e,t)}buildRequest(){const e={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=At(t)}return e}}async function Ki(e,t){return Mr(e,"POST","/v1/accounts:sendVerificationCode",Lr(e,t))}const Gi={USER_NOT_FOUND:"user-not-found"};class Yi extends qi{constructor(e){super("phone","phone"),this.params=e}static _fromVerification(e,t){return new Yi({verificationId:e,verificationCode:t})}static _fromTokenResponse(e,t){return new Yi({phoneNumber:e,temporaryProof:t})}_getIdTokenResponse(e){return async function(e,t){return zr(e,"POST","/v1/accounts:signInWithPhoneNumber",Lr(e,t))}(e,this._makeVerificationRequest())}_linkToIdToken(e,t){return async function(e,t){const n=await zr(e,"POST","/v1/accounts:signInWithPhoneNumber",Lr(e,t));if(n.temporaryProof)throw Br(e,"account-exists-with-different-credential",n);return n}(e,Object.assign({idToken:t},this._makeVerificationRequest()))}_getReauthenticationResolver(e){return async function(e,t){return zr(e,"POST","/v1/accounts:signInWithPhoneNumber",Lr(e,Object.assign(Object.assign({},t),{operation:"REAUTH"})),Gi)}(e,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:e,phoneNumber:t,verificationId:n,verificationCode:r}=this.params;return e&&t?{temporaryProof:e,phoneNumber:t}:{sessionInfo:n,code:r}}toJSON(){const e={providerId:this.providerId};return this.params.phoneNumber&&(e.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(e.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(e.verificationCode=this.params.verificationCode),this.params.verificationId&&(e.verificationId=this.params.verificationId),e}static fromJSON(e){"string"===typeof e&&(e=JSON.parse(e));const{verificationId:t,verificationCode:n,phoneNumber:r,temporaryProof:i}=e;return n||t||r||i?new Yi({verificationId:t,verificationCode:n,phoneNumber:r,temporaryProof:i}):null}}class Xi{constructor(e){var t,n,r,i,a,s;const o=Pt(Nt(e)),l=null!==(t=o.apiKey)&&void 0!==t?t:null,c=null!==(n=o.oobCode)&&void 0!==n?n:null,u=function(e){switch(e){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(r=o.mode)&&void 0!==r?r:null);kr(l&&c&&u,"argument-error"),this.apiKey=l,this.operation=u,this.code=c,this.continueUrl=null!==(i=o.continueUrl)&&void 0!==i?i:null,this.languageCode=null!==(a=o.languageCode)&&void 0!==a?a:null,this.tenantId=null!==(s=o.tenantId)&&void 0!==s?s:null}static parseLink(e){const t=function(e){const t=Pt(Nt(e)).link,n=t?Pt(Nt(t)).deep_link_id:null,r=Pt(Nt(e)).deep_link_id;return(r?Pt(Nt(r)).link:null)||r||n||t||e}(e);try{return new Xi(t)}catch(n){return null}}}class Ji{constructor(){this.providerId=Ji.PROVIDER_ID}static credential(e,t){return Hi._fromEmailAndPassword(e,t)}static credentialWithLink(e,t){const n=Xi.parseLink(t);return kr(n,"argument-error"),Hi._fromEmailAndCode(e,n.code,n.tenantId)}}Ji.PROVIDER_ID="password",Ji.EMAIL_PASSWORD_SIGN_IN_METHOD="password",Ji.EMAIL_LINK_SIGN_IN_METHOD="emailLink";class Zi{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}class ea extends Zi{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}class ta extends ea{constructor(){super("facebook.com")}static credential(e){return Qi._fromParams({providerId:ta.PROVIDER_ID,signInMethod:ta.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return ta.credentialFromTaggedObject(e)}static credentialFromError(e){return ta.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t||!("oauthAccessToken"in t))return null;if(!t.oauthAccessToken)return null;try{return ta.credential(t.oauthAccessToken)}catch(n){return null}}}ta.FACEBOOK_SIGN_IN_METHOD="facebook.com",ta.PROVIDER_ID="facebook.com";class na extends ea{constructor(){super("google.com"),this.addScope("profile")}static credential(e,t){return Qi._fromParams({providerId:na.PROVIDER_ID,signInMethod:na.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}static credentialFromResult(e){return na.credentialFromTaggedObject(e)}static credentialFromError(e){return na.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t)return null;const{oauthIdToken:n,oauthAccessToken:r}=t;if(!n&&!r)return null;try{return na.credential(n,r)}catch(i){return null}}}na.GOOGLE_SIGN_IN_METHOD="google.com",na.PROVIDER_ID="google.com";class ra extends ea{constructor(){super("github.com")}static credential(e){return Qi._fromParams({providerId:ra.PROVIDER_ID,signInMethod:ra.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return ra.credentialFromTaggedObject(e)}static credentialFromError(e){return ra.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t||!("oauthAccessToken"in t))return null;if(!t.oauthAccessToken)return null;try{return ra.credential(t.oauthAccessToken)}catch(n){return null}}}ra.GITHUB_SIGN_IN_METHOD="github.com",ra.PROVIDER_ID="github.com";class ia extends ea{constructor(){super("twitter.com")}static credential(e,t){return Qi._fromParams({providerId:ia.PROVIDER_ID,signInMethod:ia.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}static credentialFromResult(e){return ia.credentialFromTaggedObject(e)}static credentialFromError(e){return ia.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=t;if(!n||!r)return null;try{return ia.credential(n,r)}catch(i){return null}}}ia.TWITTER_SIGN_IN_METHOD="twitter.com",ia.PROVIDER_ID="twitter.com";class aa{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];const i=await ai._fromIdTokenResponse(e,n,r),a=sa(n);return new aa({user:i,providerId:a,_tokenResponse:n,operationType:t})}static async _forOperation(e,t,n){await e._updateTokensIfNecessary(n,!0);const r=sa(n);return new aa({user:e,providerId:r,_tokenResponse:n,operationType:t})}}function sa(e){return e.providerId?e.providerId:"phoneNumber"in e?"phone":null}class oa extends kt{constructor(e,t,n,r){var i;super(t.code,t.message),this.operationType=n,this.user=r,Object.setPrototypeOf(this,oa.prototype),this.customData={appName:e.name,tenantId:null!==(i=e.tenantId)&&void 0!==i?i:void 0,_serverResponse:t.customData._serverResponse,operationType:n}}static _fromErrorAndOperation(e,t,n,r){return new oa(e,t,n,r)}}function la(e,t,n,r){return("reauthenticate"===t?n._getReauthenticationResolver(e):n._getIdTokenResponse(e)).catch((n=>{if("auth/multi-factor-auth-required"===n.code)throw oa._fromErrorAndOperation(e,n,t,r);throw n}))}async function ca(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const r=await Jr(e,t._linkToIdToken(e.auth,await e.getIdToken()),n);return aa._forOperation(e,"link",r)}async function ua(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const{auth:r}=e;if(Gn(r.app))return Promise.reject(xr(r));const i="reauthenticate";try{const a=await Jr(e,la(r,i,t,e),n);kr(a.idToken,r,"internal-error");const s=Yr(a.idToken);kr(s,r,"internal-error");const{sub:o}=s;return kr(e.uid===o,r,"user-mismatch"),aa._forOperation(e,i,a)}catch(NS){throw"auth/user-not-found"===(null===NS||void 0===NS?void 0:NS.code)&&vr(r,"user-mismatch"),NS}}async function da(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(Gn(e.app))return Promise.reject(xr(e));const r="signIn",i=await la(e,r,t),a=await aa._fromIdTokenResponse(e,r,i);return n||await e._updateCurrentUser(a.user),a}async function ha(e,t){return da(Ti(e),t)}async function fa(e){const t=Ti(e);t._getPasswordPolicyInternal()&&await t._updatePasswordPolicy()}function pa(e,t){return Mr(e,"POST","/v2/accounts/mfaEnrollment:start",Lr(e,t))}new WeakMap;const ma="__sak";class ga{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(ma,"1"),this.storage.removeItem(ma),Promise.resolve(!0)):Promise.resolve(!1)}catch(e){return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){const t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}class ya extends ga{constructor(){super((()=>window.localStorage),"LOCAL"),this.boundEventHandler=(e,t)=>this.onStorageEvent(e,t),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=Si(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const t of Object.keys(this.listeners)){const n=this.storage.getItem(t),r=this.localCache[t];n!==r&&e(t,r,n)}}onStorageEvent(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(!e.key)return void this.forAllChangedKeys(((e,t,n)=>{this.notifyListeners(e,n)}));const n=e.key;t?this.detachListener():this.stopPolling();const r=()=>{const e=this.storage.getItem(n);(t||this.localCache[n]!==e)&&this.notifyListeners(n,e)},i=this.storage.getItem(n);xi()&&i!==e.newValue&&e.newValue!==e.oldValue?setTimeout(r,10):r()}notifyListeners(e,t){this.localCache[e]=t;const n=this.listeners[e];if(n)for(const r of Array.from(n))r(t?JSON.parse(t):t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval((()=>{this.forAllChangedKeys(((e,t,n)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:t,newValue:n}),!0)}))}),1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,t){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),0===this.listeners[e].size&&delete this.listeners[e]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}async _set(e,t){await super._set(e,t),this.localCache[e]=JSON.stringify(t)}async _get(e){const t=await super._get(e);return this.localCache[e]=JSON.stringify(t),t}async _remove(e){await super._remove(e),delete this.localCache[e]}}ya.type="LOCAL";const va=ya;function ba(e){var t,n;const r=e.replace(/[\\^$.*+?()[\]{}|]/g,"\\$&"),i=RegExp(`${r}=([^;]+)`);return null!==(n=null===(t=document.cookie.match(i))||void 0===t?void 0:t[1])&&void 0!==n?n:null}function wa(e){return`${"http:"===window.location.protocol?"__dev_":"__HOST-"}FIREBASE_${e.split(":")[3]}`}class xa{constructor(){this.type="COOKIE",this.listenerUnsubscribes=new Map}_getFinalTarget(e){if(void 0===typeof window)return e;const t=new URL(`${window.location.origin}/__cookies__`);return t.searchParams.set("finalTarget",e),t}async _isAvailable(){var e;return!("boolean"===typeof isSecureContext&&!isSecureContext)&&("undefined"!==typeof navigator&&"undefined"!==typeof document&&(null===(e=navigator.cookieEnabled)||void 0===e||e))}async _set(e,t){}async _get(e){if(!this._isAvailable())return null;const t=wa(e);if(window.cookieStore){const e=await window.cookieStore.get(t);return null===e||void 0===e?void 0:e.value}return ba(t)}async _remove(e){if(!this._isAvailable())return;if(!await this._get(e))return;const t=wa(e);document.cookie=`${t}=;Max-Age=34560000;Partitioned;Secure;SameSite=Strict;Path=/;Priority=High`,await fetch("/__cookies__",{method:"DELETE"}).catch((()=>{}))}_addListener(e,t){if(!this._isAvailable())return;const n=wa(e);if(window.cookieStore){const e=e=>{const r=e.changed.find((e=>e.name===n));r&&t(r.value);e.deleted.find((e=>e.name===n))&&t(null)},r=()=>window.cookieStore.removeEventListener("change",e);return this.listenerUnsubscribes.set(t,r),window.cookieStore.addEventListener("change",e)}let r=ba(n);const i=setInterval((()=>{const e=ba(n);e!==r&&(t(e),r=e)}),1e3);this.listenerUnsubscribes.set(t,(()=>clearInterval(i)))}_removeListener(e,t){const n=this.listenerUnsubscribes.get(t);n&&(n(),this.listenerUnsubscribes.delete(t))}}xa.type="COOKIE";class Sa extends ga{constructor(){super((()=>window.sessionStorage),"SESSION")}_addListener(e,t){}_removeListener(e,t){}}Sa.type="SESSION";const Ea=Sa;class ka{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const t=this.receivers.find((t=>t.isListeningto(e)));if(t)return t;const n=new ka(e);return this.receivers.push(n),n}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const t=e,{eventId:n,eventType:r,data:i}=t.data,a=this.handlersMap[r];if(!(null===a||void 0===a?void 0:a.size))return;t.ports[0].postMessage({status:"ack",eventId:n,eventType:r});const s=Array.from(a).map((async e=>e(t.origin,i))),o=await function(e){return Promise.all(e.map((async e=>{try{return{fulfilled:!0,value:await e}}catch(t){return{fulfilled:!1,reason:t}}})))}(s);t.ports[0].postMessage({status:"done",eventId:n,eventType:r,response:o})}_subscribe(e,t){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}_unsubscribe(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),t&&0!==this.handlersMap[e].size||delete this.handlersMap[e],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}function _a(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10,n="";for(let r=0;r<t;r++)n+=Math.floor(10*Math.random());return e+n}ka.receivers=[];class Ca{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:50;const r="undefined"!==typeof MessageChannel?new MessageChannel:null;if(!r)throw new Error("connection_unavailable");let i,a;return new Promise(((s,o)=>{const l=_a("",20);r.port1.start();const c=setTimeout((()=>{o(new Error("unsupported_event"))}),n);a={messageChannel:r,onMessage(e){const t=e;if(t.data.eventId===l)switch(t.data.status){case"ack":clearTimeout(c),i=setTimeout((()=>{o(new Error("timeout"))}),3e3);break;case"done":clearTimeout(i),s(t.data.response);break;default:clearTimeout(c),clearTimeout(i),o(new Error("invalid_response"))}}},this.handlers.add(a),r.port1.addEventListener("message",a.onMessage),this.target.postMessage({eventType:e,eventId:l,data:t},[r.port2])})).finally((()=>{a&&this.removeMessageHandler(a)}))}}function Ta(){return window}function Ia(){return"undefined"!==typeof Ta().WorkerGlobalScope&&"function"===typeof Ta().importScripts}const Aa="firebaseLocalStorageDb",Pa="firebaseLocalStorage",Na="fbase_key";class Ra{constructor(e){this.request=e}toPromise(){return new Promise(((e,t)=>{this.request.addEventListener("success",(()=>{e(this.request.result)})),this.request.addEventListener("error",(()=>{t(this.request.error)}))}))}}function Oa(e,t){return e.transaction([Pa],t?"readwrite":"readonly").objectStore(Pa)}function Da(){const e=indexedDB.open(Aa,1);return new Promise(((t,n)=>{e.addEventListener("error",(()=>{n(e.error)})),e.addEventListener("upgradeneeded",(()=>{const t=e.result;try{t.createObjectStore(Pa,{keyPath:Na})}catch(NS){n(NS)}})),e.addEventListener("success",(async()=>{const n=e.result;n.objectStoreNames.contains(Pa)?t(n):(n.close(),await function(){const e=indexedDB.deleteDatabase(Aa);return new Ra(e).toPromise()}(),t(await Da()))}))}))}async function ja(e,t,n){const r=Oa(e,!0).put({[Na]:t,value:n});return new Ra(r).toPromise()}function La(e,t){const n=Oa(e,!0).delete(t);return new Ra(n).toPromise()}class Ma{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then((()=>{}),(()=>{}))}async _openDb(){return this.db||(this.db=await Da()),this.db}async _withRetries(e){let t=0;for(;;)try{const t=await this._openDb();return await e(t)}catch(NS){if(t++>3)throw NS;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return Ia()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=ka._getInstance(Ia()?self:null),this.receiver._subscribe("keyChanged",(async(e,t)=>({keyProcessed:(await this._poll()).includes(t.key)}))),this.receiver._subscribe("ping",(async(e,t)=>["keyChanged"]))}async initializeSender(){var e,t;if(this.activeServiceWorker=await async function(){if(!(null===navigator||void 0===navigator?void 0:navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch(e){return null}}(),!this.activeServiceWorker)return;this.sender=new Ca(this.activeServiceWorker);const n=await this.sender._send("ping",{},800);n&&(null===(e=n[0])||void 0===e?void 0:e.fulfilled)&&(null===(t=n[0])||void 0===t?void 0:t.value.includes("keyChanged"))&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(this.sender&&this.activeServiceWorker&&function(){var e;return(null===(e=null===navigator||void 0===navigator?void 0:navigator.serviceWorker)||void 0===e?void 0:e.controller)||null}()===this.activeServiceWorker)try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch(t){}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Da();return await ja(e,ma,"1"),await La(e,ma),!0}catch(e){}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,t){return this._withPendingWrite((async()=>(await this._withRetries((n=>ja(n,e,t))),this.localCache[e]=t,this.notifyServiceWorker(e))))}async _get(e){const t=await this._withRetries((t=>async function(e,t){const n=Oa(e,!1).get(t),r=await new Ra(n).toPromise();return void 0===r?null:r.value}(t,e)));return this.localCache[e]=t,t}async _remove(e){return this._withPendingWrite((async()=>(await this._withRetries((t=>La(t,e))),delete this.localCache[e],this.notifyServiceWorker(e))))}async _poll(){const e=await this._withRetries((e=>{const t=Oa(e,!1).getAll();return new Ra(t).toPromise()}));if(!e)return[];if(0!==this.pendingWrites)return[];const t=[],n=new Set;if(0!==e.length)for(const{fbase_key:r,value:i}of e)n.add(r),JSON.stringify(this.localCache[r])!==JSON.stringify(i)&&(this.notifyListeners(r,i),t.push(r));for(const r of Object.keys(this.localCache))this.localCache[r]&&!n.has(r)&&(this.notifyListeners(r,null),t.push(r));return t}notifyListeners(e,t){this.localCache[e]=t;const n=this.listeners[e];if(n)for(const r of Array.from(n))r(t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval((async()=>this._poll()),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,t){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),0===this.listeners[e].size&&delete this.listeners[e]),0===Object.keys(this.listeners).length&&this.stopPolling()}}Ma.type="LOCAL";const Fa=Ma;function za(e,t){return Mr(e,"POST","/v2/accounts/mfaSignIn:start",Lr(e,t))}Ni("rcb"),new Pr(3e4,6e4);const Ua="recaptcha";async function Va(e,t,n){var r;if(!e._getRecaptchaConfig())try{await Fi(e)}catch(i){console.log("Failed to initialize reCAPTCHA Enterprise config. Triggering the reCAPTCHA v2 verification.")}try{let i;if(i="string"===typeof t?{phoneNumber:t}:t,"session"in i){const t=i.session;if("phoneNumber"in i){kr("enroll"===t.type,e,"internal-error");const r={idToken:t.credential,phoneEnrollmentInfo:{phoneNumber:i.phoneNumber,clientType:"CLIENT_TYPE_WEB"}},a=Mi(e,r,"mfaSmsEnrollment",(async(e,t)=>{if(t.phoneEnrollmentInfo.captchaResponse===Di){kr((null===n||void 0===n?void 0:n.type)===Ua,e,"argument-error");return pa(e,await qa(e,t,n))}return pa(e,t)}),"PHONE_PROVIDER");return(await a.catch((e=>Promise.reject(e)))).phoneSessionInfo.sessionInfo}{kr("signin"===t.type,e,"internal-error");const a=(null===(r=i.multiFactorHint)||void 0===r?void 0:r.uid)||i.multiFactorUid;kr(a,e,"missing-multi-factor-info");const s={mfaPendingCredential:t.credential,mfaEnrollmentId:a,phoneSignInInfo:{clientType:"CLIENT_TYPE_WEB"}},o=Mi(e,s,"mfaSmsSignIn",(async(e,t)=>{if(t.phoneSignInInfo.captchaResponse===Di){kr((null===n||void 0===n?void 0:n.type)===Ua,e,"argument-error");return za(e,await qa(e,t,n))}return za(e,t)}),"PHONE_PROVIDER");return(await o.catch((e=>Promise.reject(e)))).phoneResponseInfo.sessionInfo}}{const t={phoneNumber:i.phoneNumber,clientType:"CLIENT_TYPE_WEB"},r=Mi(e,t,"sendVerificationCode",(async(e,t)=>{if(t.captchaResponse===Di){kr((null===n||void 0===n?void 0:n.type)===Ua,e,"argument-error");return Ki(e,await qa(e,t,n))}return Ki(e,t)}),"PHONE_PROVIDER");return(await r.catch((e=>Promise.reject(e)))).sessionInfo}}finally{null===n||void 0===n||n._reset()}}async function qa(e,t,n){kr(n.type===Ua,e,"argument-error");const r=await n.verify();kr("string"===typeof r,e,"argument-error");const i=Object.assign({},t);if("phoneEnrollmentInfo"in i){const e=i.phoneEnrollmentInfo.phoneNumber,t=i.phoneEnrollmentInfo.captchaResponse,n=i.phoneEnrollmentInfo.clientType,a=i.phoneEnrollmentInfo.recaptchaVersion;return Object.assign(i,{phoneEnrollmentInfo:{phoneNumber:e,recaptchaToken:r,captchaResponse:t,clientType:n,recaptchaVersion:a}}),i}if("phoneSignInInfo"in i){const e=i.phoneSignInInfo.captchaResponse,t=i.phoneSignInInfo.clientType,n=i.phoneSignInInfo.recaptchaVersion;return Object.assign(i,{phoneSignInInfo:{recaptchaToken:r,captchaResponse:e,clientType:t,recaptchaVersion:n}}),i}return Object.assign(i,{recaptchaToken:r}),i}class Ba{constructor(e){this.providerId=Ba.PROVIDER_ID,this.auth=Ti(e)}verifyPhoneNumber(e,t){return Va(this.auth,e,jt(t))}static credential(e,t){return Yi._fromVerification(e,t)}static credentialFromResult(e){const t=e;return Ba.credentialFromTaggedObject(t)}static credentialFromError(e){return Ba.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t)return null;const{phoneNumber:n,temporaryProof:r}=t;return n&&r?Yi._fromTokenResponse(n,r):null}}function $a(e,t){return t?oi(t):(kr(e._popupRedirectResolver,e,"argument-error"),e._popupRedirectResolver)}Ba.PROVIDER_ID="phone",Ba.PHONE_SIGN_IN_METHOD="phone";class Ha extends qi{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Wi(e,this._buildIdpRequest())}_linkToIdToken(e,t){return Wi(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return Wi(e,this._buildIdpRequest())}_buildIdpRequest(e){const t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function Wa(e){return da(e.auth,new Ha(e),e.bypassAuthState)}function Qa(e){const{auth:t,user:n}=e;return kr(n,t,"internal-error"),ua(n,new Ha(e),e.bypassAuthState)}async function Ka(e){const{auth:t,user:n}=e;return kr(n,t,"internal-error"),ca(n,new Ha(e),e.bypassAuthState)}class Ga{constructor(e,t,n,r){let i=arguments.length>4&&void 0!==arguments[4]&&arguments[4];this.auth=e,this.resolver=n,this.user=r,this.bypassAuthState=i,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise((async(e,t)=>{this.pendingPromise={resolve:e,reject:t};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(NS){this.reject(NS)}}))}async onAuthEvent(e){const{urlResponse:t,sessionId:n,postBody:r,tenantId:i,error:a,type:s}=e;if(a)return void this.reject(a);const o={auth:this.auth,requestUri:t,sessionId:n,tenantId:i||void 0,postBody:r||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(s)(o))}catch(NS){this.reject(NS)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return Wa;case"linkViaPopup":case"linkViaRedirect":return Ka;case"reauthViaPopup":case"reauthViaRedirect":return Qa;default:vr(this.auth,"internal-error")}}resolve(e){Cr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Cr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const Ya=new Pr(2e3,1e4);class Xa extends Ga{constructor(e,t,n,r,i){super(e,t,r,i),this.provider=n,this.authWindow=null,this.pollId=null,Xa.currentPopupAction&&Xa.currentPopupAction.cancel(),Xa.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return kr(e,this.auth,"internal-error"),e}async onExecution(){Cr(1===this.filter.length,"Popup operations only handle one event");const e=_a();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch((e=>{this.reject(e)})),this.resolver._isIframeWebStorageSupported(this.auth,(e=>{e||this.reject(br(this.auth,"web-storage-unsupported"))})),this.pollUserCancellation()}get eventId(){var e;return(null===(e=this.authWindow)||void 0===e?void 0:e.associatedEvent)||null}cancel(){this.reject(br(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Xa.currentPopupAction=null}pollUserCancellation(){const e=()=>{var t,n;(null===(n=null===(t=this.authWindow)||void 0===t?void 0:t.window)||void 0===n?void 0:n.closed)?this.pollId=window.setTimeout((()=>{this.pollId=null,this.reject(br(this.auth,"popup-closed-by-user"))}),8e3):this.pollId=window.setTimeout(e,Ya.get())};e()}}Xa.currentPopupAction=null;const Ja=new Map;class Za extends Ga{constructor(e,t){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,arguments.length>2&&void 0!==arguments[2]&&arguments[2]),this.eventId=null}async execute(){let e=Ja.get(this.auth._key());if(!e){try{const t=await async function(e,t){const n=ns(t),r=ts(e);if(!await r._isAvailable())return!1;const i="true"===await r._get(n);return await r._remove(n),i}(this.resolver,this.auth),n=t?await super.execute():null;e=()=>Promise.resolve(n)}catch(NS){e=()=>Promise.reject(NS)}Ja.set(this.auth._key(),e)}return this.bypassAuthState||Ja.set(this.auth._key(),(()=>Promise.resolve(null))),e()}async onAuthEvent(e){if("signInViaRedirect"===e.type)return super.onAuthEvent(e);if("unknown"!==e.type){if(e.eventId){const t=await this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,super.onAuthEvent(e);this.resolve(null)}}else this.resolve(null)}async onExecution(){}cleanUp(){}}function es(e,t){Ja.set(e._key(),t)}function ts(e){return oi(e._redirectPersistence)}function ns(e){return ui("pendingRedirect",e.config.apiKey,e.name)}async function rs(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(Gn(e.app))return Promise.reject(xr(e));const r=Ti(e),i=$a(r,t),a=new Za(r,i,n),s=await a.execute();return s&&!n&&(delete s.user._redirectEventId,await r._persistUserIfCurrent(s.user),await r._setRedirectUser(null,t)),s}class is{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach((n=>{this.isEventForConsumer(e,n)&&(t=!0,this.sendToConsumer(e,n),this.saveEventToCache(e))})),this.hasHandledPotentialRedirect||!function(e){switch(e.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return ss(e);default:return!1}}(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){var n;if(e.error&&!ss(e)){const r=(null===(n=e.error.code)||void 0===n?void 0:n.split("auth/")[1])||"internal-error";t.onError(br(this.auth,r))}else t.onAuthEvent(e)}isEventForConsumer(e,t){const n=null===t.eventId||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&n}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(as(e))}saveEventToCache(e){this.cachedEventUids.add(as(e)),this.lastProcessedEventTime=Date.now()}}function as(e){return[e.type,e.eventId,e.sessionId,e.tenantId].filter((e=>e)).join("-")}function ss(e){let{type:t,error:n}=e;return"unknown"===t&&"auth/no-auth-event"===(null===n||void 0===n?void 0:n.code)}const os=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,ls=/^https?/;async function cs(e){if(e.config.emulator)return;const{authorizedDomains:t}=await async function(e){return Mr(e,"GET","/v1/projects",arguments.length>1&&void 0!==arguments[1]?arguments[1]:{})}(e);for(const r of t)try{if(us(r))return}catch(n){}vr(e,"unauthorized-domain")}function us(e){const t=Tr(),{protocol:n,hostname:r}=new URL(t);if(e.startsWith("chrome-extension://")){const i=new URL(e);return""===i.hostname&&""===r?"chrome-extension:"===n&&e.replace("chrome-extension://","")===t.replace("chrome-extension://",""):"chrome-extension:"===n&&i.hostname===r}if(!ls.test(n))return!1;if(os.test(e))return r===e;const i=e.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}const ds=new Pr(3e4,6e4);function hs(){const e=Ta().___jsl;if(null===e||void 0===e?void 0:e.H)for(const t of Object.keys(e.H))if(e.H[t].r=e.H[t].r||[],e.H[t].L=e.H[t].L||[],e.H[t].r=[...e.H[t].L],e.CP)for(let n=0;n<e.CP.length;n++)e.CP[n]=null}function fs(e){return new Promise(((t,n)=>{var r,i,a;function s(){hs(),gapi.load("gapi.iframes",{callback:()=>{t(gapi.iframes.getContext())},ontimeout:()=>{hs(),n(br(e,"network-request-failed"))},timeout:ds.get()})}if(null===(i=null===(r=Ta().gapi)||void 0===r?void 0:r.iframes)||void 0===i?void 0:i.Iframe)t(gapi.iframes.getContext());else{if(!(null===(a=Ta().gapi)||void 0===a?void 0:a.load)){const t=Ni("iframefcb");return Ta()[t]=()=>{gapi.load?s():n(br(e,"network-request-failed"))},Pi(`${Ai.gapiScript}?onload=${t}`).catch((e=>n(e)))}s()}})).catch((e=>{throw ps=null,e}))}let ps=null;const ms=new Pr(5e3,15e3),gs={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},ys=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function vs(e){const t=e.config;kr(t.authDomain,e,"auth-domain-config-required");const n=t.emulator?Nr(t,"emulator/auth/iframe"):`https://${e.config.authDomain}/__/auth/iframe`,r={apiKey:t.apiKey,appName:e.name,v:Jn},i=ys.get(e.config.apiHost);i&&(r.eid=i);const a=e._getFrameworks();return a.length&&(r.fw=a.join(",")),`${n}?${At(r).slice(1)}`}async function bs(e){const t=await function(e){return ps=ps||fs(e),ps}(e),n=Ta().gapi;return kr(n,e,"internal-error"),t.open({where:document.body,url:vs(e),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:gs,dontclear:!0},(t=>new Promise((async(n,r)=>{await t.restyle({setHideOnLeave:!1});const i=br(e,"network-request-failed"),a=Ta().setTimeout((()=>{r(i)}),ms.get());function s(){Ta().clearTimeout(a),n(t)}t.ping(s).then(s,(()=>{r(i)}))}))))}const ws={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class xs{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch(NS){}}}function Ss(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:500,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:600;const a=Math.max((window.screen.availHeight-i)/2,0).toString(),s=Math.max((window.screen.availWidth-r)/2,0).toString();let o="";const l=Object.assign(Object.assign({},ws),{width:r.toString(),height:i.toString(),top:a,left:s}),c=bt().toLowerCase();n&&(o=mi(c)?"_blank":n),fi(c)&&(t=t||"http://localhost",l.scrollbars="yes");const u=Object.entries(l).reduce(((e,t)=>{let[n,r]=t;return`${e}${n}=${r},`}),"");if(function(){var e;return wi(arguments.length>0&&void 0!==arguments[0]?arguments[0]:bt())&&!!(null===(e=window.navigator)||void 0===e?void 0:e.standalone)}(c)&&"_self"!==o)return function(e,t){const n=document.createElement("a");n.href=e,n.target=t;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}(t||"",o),new xs(null);const d=window.open(t||"",o,u);kr(d,e,"popup-blocked");try{d.focus()}catch(NS){}return new xs(d)}const Es="__/auth/handler",ks="emulator/auth/handler",_s=encodeURIComponent("fac");async function Cs(e,t,n,r,i,a){kr(e.config.authDomain,e,"auth-domain-config-required"),kr(e.config.apiKey,e,"invalid-api-key");const s={apiKey:e.config.apiKey,appName:e.name,authType:n,redirectUrl:r,v:Jn,eventId:i};if(t instanceof Zi){t.setDefaultLanguage(e.languageCode),s.providerId=t.providerId||"",function(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}(t.getCustomParameters())||(s.customParameters=JSON.stringify(t.getCustomParameters()));for(const[e,t]of Object.entries(a||{}))s[e]=t}if(t instanceof ea){const e=t.getScopes().filter((e=>""!==e));e.length>0&&(s.scopes=e.join(","))}e.tenantId&&(s.tid=e.tenantId);const o=s;for(const u of Object.keys(o))void 0===o[u]&&delete o[u];const l=await e._getAppCheckToken(),c=l?`#${_s}=${encodeURIComponent(l)}`:"";return`${function(e){let{config:t}=e;if(!t.emulator)return`https://${t.authDomain}/${Es}`;return Nr(t,ks)}(e)}?${At(o).slice(1)}${c}`}const Ts="webStorageSupport";const Is=class{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Ea,this._completeRedirectFn=rs,this._overrideRedirectResult=es}async _openPopup(e,t,n,r){var i;Cr(null===(i=this.eventManagers[e._key()])||void 0===i?void 0:i.manager,"_initialize() not called before _openPopup()");return Ss(e,await Cs(e,t,n,Tr(),r),_a())}async _openRedirect(e,t,n,r){await this._originValidation(e);return function(e){Ta().location.href=e}(await Cs(e,t,n,Tr(),r)),new Promise((()=>{}))}_initialize(e){const t=e._key();if(this.eventManagers[t]){const{manager:e,promise:n}=this.eventManagers[t];return e?Promise.resolve(e):(Cr(n,"If manager is not set, promise should be"),n)}const n=this.initAndGetManager(e);return this.eventManagers[t]={promise:n},n.catch((()=>{delete this.eventManagers[t]})),n}async initAndGetManager(e){const t=await bs(e),n=new is(e);return t.register("authEvent",(t=>{kr(null===t||void 0===t?void 0:t.authEvent,e,"invalid-auth-event");return{status:n.onEvent(t.authEvent)?"ACK":"ERROR"}}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:n},this.iframes[e._key()]=t,n}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(Ts,{type:Ts},(n=>{var r;const i=null===(r=null===n||void 0===n?void 0:n[0])||void 0===r?void 0:r[Ts];void 0!==i&&t(!!i),vr(e,"internal-error")}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=cs(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return Si()||pi()||wi()}};var As="@firebase/auth",Ps="1.10.0";class Ns{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),(null===(e=this.auth.currentUser)||void 0===e?void 0:e.uid)||null}async getToken(e){if(this.assertAuthConfigured(),await this.auth._initializationPromise,!this.auth.currentUser)return null;return{accessToken:await this.auth.currentUser.getIdToken(e)}}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged((t=>{e((null===t||void 0===t?void 0:t.stsTokenManager.accessToken)||null)}));this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){kr(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}const Rs=yt("authIdTokenMaxAge")||300;let Os=null;function Ds(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:er();const t=Kn(e,"auth");if(t.isInitialized())return t.getImmediate();const n=function(e,t){const n=Kn(e,"auth");if(n.isInitialized()){const e=n.getImmediate();if(Tt(n.getOptions(),null!==t&&void 0!==t?t:{}))return e;vr(e,"already-initialized")}return n.initialize({options:t})}(e,{popupRedirectResolver:Is,persistence:[Fa,va,Ea]}),r=yt("authTokenSyncURL");if(r&&"boolean"===typeof isSecureContext&&isSecureContext){const e=new URL(r,location.origin);if(location.origin===e.origin){const t=(i=e.toString(),async e=>{const t=e&&await e.getIdTokenResult(),n=t&&((new Date).getTime()-Date.parse(t.issuedAtTime))/1e3;if(n&&n>Rs)return;const r=null===t||void 0===t?void 0:t.token;Os!==r&&(Os=r,await fetch(i,{method:r?"POST":"DELETE",headers:r?{Authorization:`Bearer ${r}`}:{}}))});!function(e,t,n){jt(e).beforeAuthStateChanged(t,n)}(n,t,(()=>t(n.currentUser))),function(e,t,n,r){jt(e).onIdTokenChanged(t,n,r)}(n,(e=>t(e)))}}var i;const a=mt("auth");return a&&zi(n,`http://${a}`),n}var js;!function(e){Ai=e}({loadJS:e=>new Promise(((t,n)=>{const r=document.createElement("script");r.setAttribute("src",e),r.onload=t,r.onerror=e=>{const t=br("internal-error");t.customData=e,n(t)},r.type="text/javascript",r.charset="UTF-8",function(){var e,t;return null!==(t=null===(e=document.getElementsByTagName("head"))||void 0===e?void 0:e[0])&&void 0!==t?t:document}().appendChild(r)})),gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="}),js="Browser",Qn(new Lt("auth",((e,t)=>{let{options:n}=t;const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),a=e.getProvider("app-check-internal"),{apiKey:s,authDomain:o}=r.options;kr(s&&!s.includes(":"),"invalid-api-key",{appName:r.name});const l={apiKey:s,authDomain:o,clientPlatform:js,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Ei(js)},c=new Ci(r,i,a,l);return function(e,t){const n=(null===t||void 0===t?void 0:t.persistence)||[],r=(Array.isArray(n)?n:[n]).map(oi);(null===t||void 0===t?void 0:t.errorMap)&&e._updateErrorMap(t.errorMap),e._initializeWithPersistence(r,null===t||void 0===t?void 0:t.popupRedirectResolver)}(c,n),c}),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback(((e,t,n)=>{e.getProvider("auth-internal").initialize()}))),Qn(new Lt("auth-internal",(e=>(e=>new Ns(e))(Ti(e.getProvider("auth").getImmediate()))),"PRIVATE").setInstantiationMode("EXPLICIT")),tr(As,Ps,function(e){switch(e){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}(js)),tr(As,Ps,"esm2017");tr("firebase","11.6.0","app");const Ls=Ds(Zn({apiKey:"AIzaSyB_geIGOagn2h6blPgMmYV00N-oqXYOI0Q",authDomain:"quirkle-db.firebaseapp.com",projectId:"quirkle-db",storageBucket:"quirkle-db.firebasestorage.app",messagingSenderId:"953361912983",appId:"1:953361912983:web:2d4cbe9fb86e9b9d22c5d2",measurementId:"G-8PPFC7BPZL"}));function Ms(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Fs(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function zs(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Fs(Object(n),!0).forEach((function(t){Ms(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Fs(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}const Us=()=>{};let Vs={},qs={},Bs=null,$s={mark:Us,measure:Us};try{"undefined"!==typeof window&&(Vs=window),"undefined"!==typeof document&&(qs=document),"undefined"!==typeof MutationObserver&&(Bs=MutationObserver),"undefined"!==typeof performance&&($s=performance)}catch(NS){}const{userAgent:Hs=""}=Vs.navigator||{},Ws=Vs,Qs=qs,Ks=Bs,Gs=$s,Ys=(Ws.document,!!Qs.documentElement&&!!Qs.head&&"function"===typeof Qs.addEventListener&&"function"===typeof Qs.createElement),Xs=~Hs.indexOf("MSIE")||~Hs.indexOf("Trident/");var Js={classic:{fa:"solid",fas:"solid","fa-solid":"solid",far:"regular","fa-regular":"regular",fal:"light","fa-light":"light",fat:"thin","fa-thin":"thin",fab:"brands","fa-brands":"brands"},duotone:{fa:"solid",fad:"solid","fa-solid":"solid","fa-duotone":"solid",fadr:"regular","fa-regular":"regular",fadl:"light","fa-light":"light",fadt:"thin","fa-thin":"thin"},sharp:{fa:"solid",fass:"solid","fa-solid":"solid",fasr:"regular","fa-regular":"regular",fasl:"light","fa-light":"light",fast:"thin","fa-thin":"thin"},"sharp-duotone":{fa:"solid",fasds:"solid","fa-solid":"solid",fasdr:"regular","fa-regular":"regular",fasdl:"light","fa-light":"light",fasdt:"thin","fa-thin":"thin"}},Zs=["fa-classic","fa-duotone","fa-sharp","fa-sharp-duotone"],eo="classic",to="duotone",no=[eo,to,"sharp","sharp-duotone"],ro=new Map([["classic",{defaultShortPrefixId:"fas",defaultStyleId:"solid",styleIds:["solid","regular","light","thin","brands"],futureStyleIds:[],defaultFontWeight:900}],["sharp",{defaultShortPrefixId:"fass",defaultStyleId:"solid",styleIds:["solid","regular","light","thin"],futureStyleIds:[],defaultFontWeight:900}],["duotone",{defaultShortPrefixId:"fad",defaultStyleId:"solid",styleIds:["solid","regular","light","thin"],futureStyleIds:[],defaultFontWeight:900}],["sharp-duotone",{defaultShortPrefixId:"fasds",defaultStyleId:"solid",styleIds:["solid","regular","light","thin"],futureStyleIds:[],defaultFontWeight:900}]]),io=["fak","fa-kit","fakd","fa-kit-duotone"],ao={fak:"kit","fa-kit":"kit"},so={fakd:"kit-duotone","fa-kit-duotone":"kit-duotone"},oo=["fak","fakd"],lo={kit:"fak"},co={"kit-duotone":"fakd"},uo={GROUP:"duotone-group",SWAP_OPACITY:"swap-opacity",PRIMARY:"primary",SECONDARY:"secondary"},ho=["fak","fa-kit","fakd","fa-kit-duotone"],fo={classic:{fab:"fa-brands",fad:"fa-duotone",fal:"fa-light",far:"fa-regular",fas:"fa-solid",fat:"fa-thin"},duotone:{fadr:"fa-regular",fadl:"fa-light",fadt:"fa-thin"},sharp:{fass:"fa-solid",fasr:"fa-regular",fasl:"fa-light",fast:"fa-thin"},"sharp-duotone":{fasds:"fa-solid",fasdr:"fa-regular",fasdl:"fa-light",fasdt:"fa-thin"}},po=["fa","fas","far","fal","fat","fad","fadr","fadl","fadt","fab","fass","fasr","fasl","fast","fasds","fasdr","fasdl","fasdt","fa-classic","fa-duotone","fa-sharp","fa-sharp-duotone","fa-solid","fa-regular","fa-light","fa-thin","fa-duotone","fa-brands"],mo=[1,2,3,4,5,6,7,8,9,10],go=mo.concat([11,12,13,14,15,16,17,18,19,20]),yo=[...Object.keys({classic:["fas","far","fal","fat","fad"],duotone:["fadr","fadl","fadt"],sharp:["fass","fasr","fasl","fast"],"sharp-duotone":["fasds","fasdr","fasdl","fasdt"]}),"solid","regular","light","thin","duotone","brands","2xs","xs","sm","lg","xl","2xl","beat","border","fade","beat-fade","bounce","flip-both","flip-horizontal","flip-vertical","flip","fw","inverse","layers-counter","layers-text","layers","li","pull-left","pull-right","pulse","rotate-180","rotate-270","rotate-90","rotate-by","shake","spin-pulse","spin-reverse","spin","stack-1x","stack-2x","stack","ul",uo.GROUP,uo.SWAP_OPACITY,uo.PRIMARY,uo.SECONDARY].concat(mo.map((e=>"".concat(e,"x")))).concat(go.map((e=>"w-".concat(e))));const vo="___FONT_AWESOME___",bo=16,wo="svg-inline--fa",xo="data-fa-i2svg",So="data-fa-pseudo-element",Eo="data-prefix",ko="data-icon",_o="fontawesome-i2svg",Co=["HTML","HEAD","STYLE","SCRIPT"],To=(()=>{try{return!0}catch(e){return!1}})();function Io(e){return new Proxy(e,{get:(e,t)=>t in e?e[t]:e[eo]})}const Ao=zs({},Js);Ao[eo]=zs(zs(zs(zs({},{"fa-duotone":"duotone"}),Js[eo]),ao),so);const Po=Io(Ao),No=zs({},{classic:{solid:"fas",regular:"far",light:"fal",thin:"fat",brands:"fab"},duotone:{solid:"fad",regular:"fadr",light:"fadl",thin:"fadt"},sharp:{solid:"fass",regular:"fasr",light:"fasl",thin:"fast"},"sharp-duotone":{solid:"fasds",regular:"fasdr",light:"fasdl",thin:"fasdt"}});No[eo]=zs(zs(zs(zs({},{duotone:"fad"}),No[eo]),lo),co);const Ro=Io(No),Oo=zs({},fo);Oo[eo]=zs(zs({},Oo[eo]),{fak:"fa-kit"});const Do=Io(Oo),jo=zs({},{classic:{"fa-brands":"fab","fa-duotone":"fad","fa-light":"fal","fa-regular":"far","fa-solid":"fas","fa-thin":"fat"},duotone:{"fa-regular":"fadr","fa-light":"fadl","fa-thin":"fadt"},sharp:{"fa-solid":"fass","fa-regular":"fasr","fa-light":"fasl","fa-thin":"fast"},"sharp-duotone":{"fa-solid":"fasds","fa-regular":"fasdr","fa-light":"fasdl","fa-thin":"fasdt"}});jo[eo]=zs(zs({},jo[eo]),{"fa-kit":"fak"});Io(jo);const Lo=/fa(s|r|l|t|d|dr|dl|dt|b|k|kd|ss|sr|sl|st|sds|sdr|sdl|sdt)?[\-\ ]/,Mo="fa-layers-text",Fo=/Font ?Awesome ?([56 ]*)(Solid|Regular|Light|Thin|Duotone|Brands|Free|Pro|Sharp Duotone|Sharp|Kit)?.*/i,zo=(Io(zs({},{classic:{900:"fas",400:"far",normal:"far",300:"fal",100:"fat"},duotone:{900:"fad",400:"fadr",300:"fadl",100:"fadt"},sharp:{900:"fass",400:"fasr",300:"fasl",100:"fast"},"sharp-duotone":{900:"fasds",400:"fasdr",300:"fasdl",100:"fasdt"}})),["class","data-prefix","data-icon","data-fa-transform","data-fa-mask"]),Uo={GROUP:"duotone-group",SWAP_OPACITY:"swap-opacity",PRIMARY:"primary",SECONDARY:"secondary"},Vo=["kit",...yo],qo=Ws.FontAwesomeConfig||{};if(Qs&&"function"===typeof Qs.querySelector){[["data-family-prefix","familyPrefix"],["data-css-prefix","cssPrefix"],["data-family-default","familyDefault"],["data-style-default","styleDefault"],["data-replacement-class","replacementClass"],["data-auto-replace-svg","autoReplaceSvg"],["data-auto-add-css","autoAddCss"],["data-auto-a11y","autoA11y"],["data-search-pseudo-elements","searchPseudoElements"],["data-observe-mutations","observeMutations"],["data-mutate-approach","mutateApproach"],["data-keep-original-source","keepOriginalSource"],["data-measure-performance","measurePerformance"],["data-show-missing-icons","showMissingIcons"]].forEach((e=>{let[t,n]=e;const r=function(e){return""===e||"false"!==e&&("true"===e||e)}(function(e){var t=Qs.querySelector("script["+e+"]");if(t)return t.getAttribute(e)}(t));void 0!==r&&null!==r&&(qo[n]=r)}))}const Bo={styleDefault:"solid",familyDefault:eo,cssPrefix:"fa",replacementClass:wo,autoReplaceSvg:!0,autoAddCss:!0,autoA11y:!0,searchPseudoElements:!1,observeMutations:!0,mutateApproach:"async",keepOriginalSource:!0,measurePerformance:!1,showMissingIcons:!0};qo.familyPrefix&&(qo.cssPrefix=qo.familyPrefix);const $o=zs(zs({},Bo),qo);$o.autoReplaceSvg||($o.observeMutations=!1);const Ho={};Object.keys(Bo).forEach((e=>{Object.defineProperty(Ho,e,{enumerable:!0,set:function(t){$o[e]=t,Wo.forEach((e=>e(Ho)))},get:function(){return $o[e]}})})),Object.defineProperty(Ho,"familyPrefix",{enumerable:!0,set:function(e){$o.cssPrefix=e,Wo.forEach((e=>e(Ho)))},get:function(){return $o.cssPrefix}}),Ws.FontAwesomeConfig=Ho;const Wo=[];const Qo=bo,Ko={size:16,x:0,y:0,rotate:0,flipX:!1,flipY:!1};function Go(){let e=12,t="";for(;e-- >0;)t+="0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ"[62*Math.random()|0];return t}function Yo(e){const t=[];for(let n=(e||[]).length>>>0;n--;)t[n]=e[n];return t}function Xo(e){return e.classList?Yo(e.classList):(e.getAttribute("class")||"").split(" ").filter((e=>e))}function Jo(e){return"".concat(e).replace(/&/g,"&amp;").replace(/"/g,"&quot;").replace(/'/g,"&#39;").replace(/</g,"&lt;").replace(/>/g,"&gt;")}function Zo(e){return Object.keys(e||{}).reduce(((t,n)=>t+"".concat(n,": ").concat(e[n].trim(),";")),"")}function el(e){return e.size!==Ko.size||e.x!==Ko.x||e.y!==Ko.y||e.rotate!==Ko.rotate||e.flipX||e.flipY}function tl(){const e="fa",t=wo,n=Ho.cssPrefix,r=Ho.replacementClass;let i=':root, :host {\n  --fa-font-solid: normal 900 1em/1 "Font Awesome 6 Free";\n  --fa-font-regular: normal 400 1em/1 "Font Awesome 6 Free";\n  --fa-font-light: normal 300 1em/1 "Font Awesome 6 Pro";\n  --fa-font-thin: normal 100 1em/1 "Font Awesome 6 Pro";\n  --fa-font-duotone: normal 900 1em/1 "Font Awesome 6 Duotone";\n  --fa-font-duotone-regular: normal 400 1em/1 "Font Awesome 6 Duotone";\n  --fa-font-duotone-light: normal 300 1em/1 "Font Awesome 6 Duotone";\n  --fa-font-duotone-thin: normal 100 1em/1 "Font Awesome 6 Duotone";\n  --fa-font-brands: normal 400 1em/1 "Font Awesome 6 Brands";\n  --fa-font-sharp-solid: normal 900 1em/1 "Font Awesome 6 Sharp";\n  --fa-font-sharp-regular: normal 400 1em/1 "Font Awesome 6 Sharp";\n  --fa-font-sharp-light: normal 300 1em/1 "Font Awesome 6 Sharp";\n  --fa-font-sharp-thin: normal 100 1em/1 "Font Awesome 6 Sharp";\n  --fa-font-sharp-duotone-solid: normal 900 1em/1 "Font Awesome 6 Sharp Duotone";\n  --fa-font-sharp-duotone-regular: normal 400 1em/1 "Font Awesome 6 Sharp Duotone";\n  --fa-font-sharp-duotone-light: normal 300 1em/1 "Font Awesome 6 Sharp Duotone";\n  --fa-font-sharp-duotone-thin: normal 100 1em/1 "Font Awesome 6 Sharp Duotone";\n}\n\nsvg:not(:root).svg-inline--fa, svg:not(:host).svg-inline--fa {\n  overflow: visible;\n  box-sizing: content-box;\n}\n\n.svg-inline--fa {\n  display: var(--fa-display, inline-block);\n  height: 1em;\n  overflow: visible;\n  vertical-align: -0.125em;\n}\n.svg-inline--fa.fa-2xs {\n  vertical-align: 0.1em;\n}\n.svg-inline--fa.fa-xs {\n  vertical-align: 0em;\n}\n.svg-inline--fa.fa-sm {\n  vertical-align: -0.0714285705em;\n}\n.svg-inline--fa.fa-lg {\n  vertical-align: -0.2em;\n}\n.svg-inline--fa.fa-xl {\n  vertical-align: -0.25em;\n}\n.svg-inline--fa.fa-2xl {\n  vertical-align: -0.3125em;\n}\n.svg-inline--fa.fa-pull-left {\n  margin-right: var(--fa-pull-margin, 0.3em);\n  width: auto;\n}\n.svg-inline--fa.fa-pull-right {\n  margin-left: var(--fa-pull-margin, 0.3em);\n  width: auto;\n}\n.svg-inline--fa.fa-li {\n  width: var(--fa-li-width, 2em);\n  top: 0.25em;\n}\n.svg-inline--fa.fa-fw {\n  width: var(--fa-fw-width, 1.25em);\n}\n\n.fa-layers svg.svg-inline--fa {\n  bottom: 0;\n  left: 0;\n  margin: auto;\n  position: absolute;\n  right: 0;\n  top: 0;\n}\n\n.fa-layers-counter, .fa-layers-text {\n  display: inline-block;\n  position: absolute;\n  text-align: center;\n}\n\n.fa-layers {\n  display: inline-block;\n  height: 1em;\n  position: relative;\n  text-align: center;\n  vertical-align: -0.125em;\n  width: 1em;\n}\n.fa-layers svg.svg-inline--fa {\n  transform-origin: center center;\n}\n\n.fa-layers-text {\n  left: 50%;\n  top: 50%;\n  transform: translate(-50%, -50%);\n  transform-origin: center center;\n}\n\n.fa-layers-counter {\n  background-color: var(--fa-counter-background-color, #ff253a);\n  border-radius: var(--fa-counter-border-radius, 1em);\n  box-sizing: border-box;\n  color: var(--fa-inverse, #fff);\n  line-height: var(--fa-counter-line-height, 1);\n  max-width: var(--fa-counter-max-width, 5em);\n  min-width: var(--fa-counter-min-width, 1.5em);\n  overflow: hidden;\n  padding: var(--fa-counter-padding, 0.25em 0.5em);\n  right: var(--fa-right, 0);\n  text-overflow: ellipsis;\n  top: var(--fa-top, 0);\n  transform: scale(var(--fa-counter-scale, 0.25));\n  transform-origin: top right;\n}\n\n.fa-layers-bottom-right {\n  bottom: var(--fa-bottom, 0);\n  right: var(--fa-right, 0);\n  top: auto;\n  transform: scale(var(--fa-layers-scale, 0.25));\n  transform-origin: bottom right;\n}\n\n.fa-layers-bottom-left {\n  bottom: var(--fa-bottom, 0);\n  left: var(--fa-left, 0);\n  right: auto;\n  top: auto;\n  transform: scale(var(--fa-layers-scale, 0.25));\n  transform-origin: bottom left;\n}\n\n.fa-layers-top-right {\n  top: var(--fa-top, 0);\n  right: var(--fa-right, 0);\n  transform: scale(var(--fa-layers-scale, 0.25));\n  transform-origin: top right;\n}\n\n.fa-layers-top-left {\n  left: var(--fa-left, 0);\n  right: auto;\n  top: var(--fa-top, 0);\n  transform: scale(var(--fa-layers-scale, 0.25));\n  transform-origin: top left;\n}\n\n.fa-1x {\n  font-size: 1em;\n}\n\n.fa-2x {\n  font-size: 2em;\n}\n\n.fa-3x {\n  font-size: 3em;\n}\n\n.fa-4x {\n  font-size: 4em;\n}\n\n.fa-5x {\n  font-size: 5em;\n}\n\n.fa-6x {\n  font-size: 6em;\n}\n\n.fa-7x {\n  font-size: 7em;\n}\n\n.fa-8x {\n  font-size: 8em;\n}\n\n.fa-9x {\n  font-size: 9em;\n}\n\n.fa-10x {\n  font-size: 10em;\n}\n\n.fa-2xs {\n  font-size: 0.625em;\n  line-height: 0.1em;\n  vertical-align: 0.225em;\n}\n\n.fa-xs {\n  font-size: 0.75em;\n  line-height: 0.0833333337em;\n  vertical-align: 0.125em;\n}\n\n.fa-sm {\n  font-size: 0.875em;\n  line-height: 0.0714285718em;\n  vertical-align: 0.0535714295em;\n}\n\n.fa-lg {\n  font-size: 1.25em;\n  line-height: 0.05em;\n  vertical-align: -0.075em;\n}\n\n.fa-xl {\n  font-size: 1.5em;\n  line-height: 0.0416666682em;\n  vertical-align: -0.125em;\n}\n\n.fa-2xl {\n  font-size: 2em;\n  line-height: 0.03125em;\n  vertical-align: -0.1875em;\n}\n\n.fa-fw {\n  text-align: center;\n  width: 1.25em;\n}\n\n.fa-ul {\n  list-style-type: none;\n  margin-left: var(--fa-li-margin, 2.5em);\n  padding-left: 0;\n}\n.fa-ul > li {\n  position: relative;\n}\n\n.fa-li {\n  left: calc(-1 * var(--fa-li-width, 2em));\n  position: absolute;\n  text-align: center;\n  width: var(--fa-li-width, 2em);\n  line-height: inherit;\n}\n\n.fa-border {\n  border-color: var(--fa-border-color, #eee);\n  border-radius: var(--fa-border-radius, 0.1em);\n  border-style: var(--fa-border-style, solid);\n  border-width: var(--fa-border-width, 0.08em);\n  padding: var(--fa-border-padding, 0.2em 0.25em 0.15em);\n}\n\n.fa-pull-left {\n  float: left;\n  margin-right: var(--fa-pull-margin, 0.3em);\n}\n\n.fa-pull-right {\n  float: right;\n  margin-left: var(--fa-pull-margin, 0.3em);\n}\n\n.fa-beat {\n  animation-name: fa-beat;\n  animation-delay: var(--fa-animation-delay, 0s);\n  animation-direction: var(--fa-animation-direction, normal);\n  animation-duration: var(--fa-animation-duration, 1s);\n  animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n  animation-timing-function: var(--fa-animation-timing, ease-in-out);\n}\n\n.fa-bounce {\n  animation-name: fa-bounce;\n  animation-delay: var(--fa-animation-delay, 0s);\n  animation-direction: var(--fa-animation-direction, normal);\n  animation-duration: var(--fa-animation-duration, 1s);\n  animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n  animation-timing-function: var(--fa-animation-timing, cubic-bezier(0.28, 0.84, 0.42, 1));\n}\n\n.fa-fade {\n  animation-name: fa-fade;\n  animation-delay: var(--fa-animation-delay, 0s);\n  animation-direction: var(--fa-animation-direction, normal);\n  animation-duration: var(--fa-animation-duration, 1s);\n  animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n  animation-timing-function: var(--fa-animation-timing, cubic-bezier(0.4, 0, 0.6, 1));\n}\n\n.fa-beat-fade {\n  animation-name: fa-beat-fade;\n  animation-delay: var(--fa-animation-delay, 0s);\n  animation-direction: var(--fa-animation-direction, normal);\n  animation-duration: var(--fa-animation-duration, 1s);\n  animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n  animation-timing-function: var(--fa-animation-timing, cubic-bezier(0.4, 0, 0.6, 1));\n}\n\n.fa-flip {\n  animation-name: fa-flip;\n  animation-delay: var(--fa-animation-delay, 0s);\n  animation-direction: var(--fa-animation-direction, normal);\n  animation-duration: var(--fa-animation-duration, 1s);\n  animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n  animation-timing-function: var(--fa-animation-timing, ease-in-out);\n}\n\n.fa-shake {\n  animation-name: fa-shake;\n  animation-delay: var(--fa-animation-delay, 0s);\n  animation-direction: var(--fa-animation-direction, normal);\n  animation-duration: var(--fa-animation-duration, 1s);\n  animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n  animation-timing-function: var(--fa-animation-timing, linear);\n}\n\n.fa-spin {\n  animation-name: fa-spin;\n  animation-delay: var(--fa-animation-delay, 0s);\n  animation-direction: var(--fa-animation-direction, normal);\n  animation-duration: var(--fa-animation-duration, 2s);\n  animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n  animation-timing-function: var(--fa-animation-timing, linear);\n}\n\n.fa-spin-reverse {\n  --fa-animation-direction: reverse;\n}\n\n.fa-pulse,\n.fa-spin-pulse {\n  animation-name: fa-spin;\n  animation-direction: var(--fa-animation-direction, normal);\n  animation-duration: var(--fa-animation-duration, 1s);\n  animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n  animation-timing-function: var(--fa-animation-timing, steps(8));\n}\n\n@media (prefers-reduced-motion: reduce) {\n  .fa-beat,\n.fa-bounce,\n.fa-fade,\n.fa-beat-fade,\n.fa-flip,\n.fa-pulse,\n.fa-shake,\n.fa-spin,\n.fa-spin-pulse {\n    animation-delay: -1ms;\n    animation-duration: 1ms;\n    animation-iteration-count: 1;\n    transition-delay: 0s;\n    transition-duration: 0s;\n  }\n}\n@keyframes fa-beat {\n  0%, 90% {\n    transform: scale(1);\n  }\n  45% {\n    transform: scale(var(--fa-beat-scale, 1.25));\n  }\n}\n@keyframes fa-bounce {\n  0% {\n    transform: scale(1, 1) translateY(0);\n  }\n  10% {\n    transform: scale(var(--fa-bounce-start-scale-x, 1.1), var(--fa-bounce-start-scale-y, 0.9)) translateY(0);\n  }\n  30% {\n    transform: scale(var(--fa-bounce-jump-scale-x, 0.9), var(--fa-bounce-jump-scale-y, 1.1)) translateY(var(--fa-bounce-height, -0.5em));\n  }\n  50% {\n    transform: scale(var(--fa-bounce-land-scale-x, 1.05), var(--fa-bounce-land-scale-y, 0.95)) translateY(0);\n  }\n  57% {\n    transform: scale(1, 1) translateY(var(--fa-bounce-rebound, -0.125em));\n  }\n  64% {\n    transform: scale(1, 1) translateY(0);\n  }\n  100% {\n    transform: scale(1, 1) translateY(0);\n  }\n}\n@keyframes fa-fade {\n  50% {\n    opacity: var(--fa-fade-opacity, 0.4);\n  }\n}\n@keyframes fa-beat-fade {\n  0%, 100% {\n    opacity: var(--fa-beat-fade-opacity, 0.4);\n    transform: scale(1);\n  }\n  50% {\n    opacity: 1;\n    transform: scale(var(--fa-beat-fade-scale, 1.125));\n  }\n}\n@keyframes fa-flip {\n  50% {\n    transform: rotate3d(var(--fa-flip-x, 0), var(--fa-flip-y, 1), var(--fa-flip-z, 0), var(--fa-flip-angle, -180deg));\n  }\n}\n@keyframes fa-shake {\n  0% {\n    transform: rotate(-15deg);\n  }\n  4% {\n    transform: rotate(15deg);\n  }\n  8%, 24% {\n    transform: rotate(-18deg);\n  }\n  12%, 28% {\n    transform: rotate(18deg);\n  }\n  16% {\n    transform: rotate(-22deg);\n  }\n  20% {\n    transform: rotate(22deg);\n  }\n  32% {\n    transform: rotate(-12deg);\n  }\n  36% {\n    transform: rotate(12deg);\n  }\n  40%, 100% {\n    transform: rotate(0deg);\n  }\n}\n@keyframes fa-spin {\n  0% {\n    transform: rotate(0deg);\n  }\n  100% {\n    transform: rotate(360deg);\n  }\n}\n.fa-rotate-90 {\n  transform: rotate(90deg);\n}\n\n.fa-rotate-180 {\n  transform: rotate(180deg);\n}\n\n.fa-rotate-270 {\n  transform: rotate(270deg);\n}\n\n.fa-flip-horizontal {\n  transform: scale(-1, 1);\n}\n\n.fa-flip-vertical {\n  transform: scale(1, -1);\n}\n\n.fa-flip-both,\n.fa-flip-horizontal.fa-flip-vertical {\n  transform: scale(-1, -1);\n}\n\n.fa-rotate-by {\n  transform: rotate(var(--fa-rotate-angle, 0));\n}\n\n.fa-stack {\n  display: inline-block;\n  vertical-align: middle;\n  height: 2em;\n  position: relative;\n  width: 2.5em;\n}\n\n.fa-stack-1x,\n.fa-stack-2x {\n  bottom: 0;\n  left: 0;\n  margin: auto;\n  position: absolute;\n  right: 0;\n  top: 0;\n  z-index: var(--fa-stack-z-index, auto);\n}\n\n.svg-inline--fa.fa-stack-1x {\n  height: 1em;\n  width: 1.25em;\n}\n.svg-inline--fa.fa-stack-2x {\n  height: 2em;\n  width: 2.5em;\n}\n\n.fa-inverse {\n  color: var(--fa-inverse, #fff);\n}\n\n.sr-only,\n.fa-sr-only {\n  position: absolute;\n  width: 1px;\n  height: 1px;\n  padding: 0;\n  margin: -1px;\n  overflow: hidden;\n  clip: rect(0, 0, 0, 0);\n  white-space: nowrap;\n  border-width: 0;\n}\n\n.sr-only-focusable:not(:focus),\n.fa-sr-only-focusable:not(:focus) {\n  position: absolute;\n  width: 1px;\n  height: 1px;\n  padding: 0;\n  margin: -1px;\n  overflow: hidden;\n  clip: rect(0, 0, 0, 0);\n  white-space: nowrap;\n  border-width: 0;\n}\n\n.svg-inline--fa .fa-primary {\n  fill: var(--fa-primary-color, currentColor);\n  opacity: var(--fa-primary-opacity, 1);\n}\n\n.svg-inline--fa .fa-secondary {\n  fill: var(--fa-secondary-color, currentColor);\n  opacity: var(--fa-secondary-opacity, 0.4);\n}\n\n.svg-inline--fa.fa-swap-opacity .fa-primary {\n  opacity: var(--fa-secondary-opacity, 0.4);\n}\n\n.svg-inline--fa.fa-swap-opacity .fa-secondary {\n  opacity: var(--fa-primary-opacity, 1);\n}\n\n.svg-inline--fa mask .fa-primary,\n.svg-inline--fa mask .fa-secondary {\n  fill: black;\n}';if(n!==e||r!==t){const a=new RegExp("\\.".concat(e,"\\-"),"g"),s=new RegExp("\\--".concat(e,"\\-"),"g"),o=new RegExp("\\.".concat(t),"g");i=i.replace(a,".".concat(n,"-")).replace(s,"--".concat(n,"-")).replace(o,".".concat(r))}return i}let nl=!1;function rl(){Ho.autoAddCss&&!nl&&(!function(e){if(!e||!Ys)return;const t=Qs.createElement("style");t.setAttribute("type","text/css"),t.innerHTML=e;const n=Qs.head.childNodes;let r=null;for(let i=n.length-1;i>-1;i--){const e=n[i],t=(e.tagName||"").toUpperCase();["STYLE","LINK"].indexOf(t)>-1&&(r=e)}Qs.head.insertBefore(t,r)}(tl()),nl=!0)}var il={mixout:()=>({dom:{css:tl,insertCss:rl}}),hooks:()=>({beforeDOMElementCreation(){rl()},beforeI2svg(){rl()}})};const al=Ws||{};al[vo]||(al[vo]={}),al[vo].styles||(al[vo].styles={}),al[vo].hooks||(al[vo].hooks={}),al[vo].shims||(al[vo].shims=[]);var sl=al[vo];const ol=[],ll=function(){Qs.removeEventListener("DOMContentLoaded",ll),cl=1,ol.map((e=>e()))};let cl=!1;function ul(e){const{tag:t,attributes:n={},children:r=[]}=e;return"string"===typeof e?Jo(e):"<".concat(t," ").concat(function(e){return Object.keys(e||{}).reduce(((t,n)=>t+"".concat(n,'="').concat(Jo(e[n]),'" ')),"").trim()}(n),">").concat(r.map(ul).join(""),"</").concat(t,">")}function dl(e,t,n){if(e&&e[t]&&e[t][n])return{prefix:t,iconName:n,icon:e[t][n]}}Ys&&(cl=(Qs.documentElement.doScroll?/^loaded|^c/:/^loaded|^i|^c/).test(Qs.readyState),cl||Qs.addEventListener("DOMContentLoaded",ll));var hl=function(e,t,n,r){var i,a,s,o=Object.keys(e),l=o.length,c=void 0!==r?function(e,t){return function(n,r,i,a){return e.call(t,n,r,i,a)}}(t,r):t;for(void 0===n?(i=1,s=e[o[0]]):(i=0,s=n);i<l;i++)s=c(s,e[a=o[i]],a,e);return s};function fl(e){const t=function(e){const t=[];let n=0;const r=e.length;for(;n<r;){const i=e.charCodeAt(n++);if(i>=55296&&i<=56319&&n<r){const r=e.charCodeAt(n++);56320==(64512&r)?t.push(((1023&i)<<10)+(1023&r)+65536):(t.push(i),n--)}else t.push(i)}return t}(e);return 1===t.length?t[0].toString(16):null}function pl(e){return Object.keys(e).reduce(((t,n)=>{const r=e[n];return!!r.icon?t[r.iconName]=r.icon:t[n]=r,t}),{})}function ml(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const{skipHooks:r=!1}=n,i=pl(t);"function"!==typeof sl.hooks.addPack||r?sl.styles[e]=zs(zs({},sl.styles[e]||{}),i):sl.hooks.addPack(e,pl(t)),"fas"===e&&ml("fa",t)}const{styles:gl,shims:yl}=sl,vl=Object.keys(Do),bl=vl.reduce(((e,t)=>(e[t]=Object.keys(Do[t]),e)),{});let wl=null,xl={},Sl={},El={},kl={},_l={};function Cl(e,t){const n=t.split("-"),r=n[0],i=n.slice(1).join("-");return r!==e||""===i||(a=i,~Vo.indexOf(a))?null:i;var a}const Tl=()=>{const e=e=>hl(gl,((t,n,r)=>(t[r]=hl(n,e,{}),t)),{});xl=e(((e,t,n)=>{if(t[3]&&(e[t[3]]=n),t[2]){t[2].filter((e=>"number"===typeof e)).forEach((t=>{e[t.toString(16)]=n}))}return e})),Sl=e(((e,t,n)=>{if(e[n]=n,t[2]){t[2].filter((e=>"string"===typeof e)).forEach((t=>{e[t]=n}))}return e})),_l=e(((e,t,n)=>{const r=t[2];return e[n]=n,r.forEach((t=>{e[t]=n})),e}));const t="far"in gl||Ho.autoFetchSvg,n=hl(yl,((e,n)=>{const r=n[0];let i=n[1];const a=n[2];return"far"!==i||t||(i="fas"),"string"===typeof r&&(e.names[r]={prefix:i,iconName:a}),"number"===typeof r&&(e.unicodes[r.toString(16)]={prefix:i,iconName:a}),e}),{names:{},unicodes:{}});El=n.names,kl=n.unicodes,wl=Ol(Ho.styleDefault,{family:Ho.familyDefault})};var Il;function Al(e,t){return(xl[e]||{})[t]}function Pl(e,t){return(_l[e]||{})[t]}function Nl(e){return El[e]||{prefix:null,iconName:null}}function Rl(){return wl}Il=e=>{wl=Ol(e.styleDefault,{family:Ho.familyDefault})},Wo.push(Il),Tl();function Ol(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const{family:n=eo}=t,r=Po[n][e];if(n===to&&!e)return"fad";const i=Ro[n][e]||Ro[n][r],a=e in sl.styles?e:null;return i||a||null}function Dl(e){return e.sort().filter(((e,t,n)=>n.indexOf(e)===t))}function jl(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const{skipLookups:n=!1}=t;let r=null;const i=po.concat(ho),a=Dl(e.filter((e=>i.includes(e)))),s=Dl(e.filter((e=>!po.includes(e)))),o=a.filter((e=>(r=e,!Zs.includes(e)))),[l=null]=o,c=function(e){let t=eo;const n=vl.reduce(((e,t)=>(e[t]="".concat(Ho.cssPrefix,"-").concat(t),e)),{});return no.forEach((r=>{(e.includes(n[r])||e.some((e=>bl[r].includes(e))))&&(t=r)})),t}(a),u=zs(zs({},function(e){let t=[],n=null;return e.forEach((e=>{const r=Cl(Ho.cssPrefix,e);r?n=r:e&&t.push(e)})),{iconName:n,rest:t}}(s)),{},{prefix:Ol(l,{family:c})});return zs(zs(zs({},u),function(e){const{values:t,family:n,canonical:r,givenPrefix:i="",styles:a={},config:s={}}=e,o=n===to,l=t.includes("fa-duotone")||t.includes("fad"),c="duotone"===s.familyDefault,u="fad"===r.prefix||"fa-duotone"===r.prefix;!o&&(l||c||u)&&(r.prefix="fad");(t.includes("fa-brands")||t.includes("fab"))&&(r.prefix="fab");if(!r.prefix&&Ll.includes(n)){if(Object.keys(a).find((e=>Ml.includes(e)))||s.autoFetchSvg){const e=ro.get(n).defaultShortPrefixId;r.prefix=e,r.iconName=Pl(r.prefix,r.iconName)||r.iconName}}"fa"!==r.prefix&&"fa"!==i||(r.prefix=Rl()||"fas");return r}({values:e,family:c,styles:gl,config:Ho,canonical:u,givenPrefix:r})),function(e,t,n){let{prefix:r,iconName:i}=n;if(e||!r||!i)return{prefix:r,iconName:i};const a="fa"===t?Nl(i):{},s=Pl(r,i);i=a.iconName||s||i,r=a.prefix||r,"far"!==r||gl.far||!gl.fas||Ho.autoFetchSvg||(r="fas");return{prefix:r,iconName:i}}(n,r,u))}const Ll=no.filter((e=>e!==eo||e!==to)),Ml=Object.keys(fo).filter((e=>e!==eo)).map((e=>Object.keys(fo[e]))).flat();let Fl=[],zl={};const Ul={},Vl=Object.keys(Ul);function ql(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];return(zl[e]||[]).forEach((e=>{t=e.apply(null,[t,...r])})),t}function Bl(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];(zl[e]||[]).forEach((e=>{e.apply(null,n)}))}function $l(){const e=arguments[0],t=Array.prototype.slice.call(arguments,1);return Ul[e]?Ul[e].apply(null,t):void 0}function Hl(e){"fa"===e.prefix&&(e.prefix="fas");let{iconName:t}=e;const n=e.prefix||Rl();if(t)return t=Pl(n,t)||t,dl(Wl.definitions,n,t)||dl(sl.styles,n,t)}const Wl=new class{constructor(){this.definitions={}}add(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];const r=t.reduce(this._pullDefinitions,{});Object.keys(r).forEach((e=>{this.definitions[e]=zs(zs({},this.definitions[e]||{}),r[e]),ml(e,r[e]);const t=Do[eo][e];t&&ml(t,r[e]),Tl()}))}reset(){this.definitions={}}_pullDefinitions(e,t){const n=t.prefix&&t.iconName&&t.icon?{0:t}:t;return Object.keys(n).map((t=>{const{prefix:r,iconName:i,icon:a}=n[t],s=a[2];e[r]||(e[r]={}),s.length>0&&s.forEach((t=>{"string"===typeof t&&(e[r][t]=a)})),e[r][i]=a})),e}},Ql={i2svg:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Ys?(Bl("beforeI2svg",e),$l("pseudoElements2svg",e),$l("i2svg",e)):Promise.reject(new Error("Operation requires a DOM of some kind."))},watch:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{autoReplaceSvgRoot:t}=e;var n;!1===Ho.autoReplaceSvg&&(Ho.autoReplaceSvg=!0),Ho.observeMutations=!0,n=()=>{Yl({autoReplaceSvgRoot:t}),Bl("watch",e)},Ys&&(cl?setTimeout(n,0):ol.push(n))}},Kl={icon:e=>{if(null===e)return null;if("object"===typeof e&&e.prefix&&e.iconName)return{prefix:e.prefix,iconName:Pl(e.prefix,e.iconName)||e.iconName};if(Array.isArray(e)&&2===e.length){const t=0===e[1].indexOf("fa-")?e[1].slice(3):e[1],n=Ol(e[0]);return{prefix:n,iconName:Pl(n,t)||t}}if("string"===typeof e&&(e.indexOf("".concat(Ho.cssPrefix,"-"))>-1||e.match(Lo))){const t=jl(e.split(" "),{skipLookups:!0});return{prefix:t.prefix||Rl(),iconName:Pl(t.prefix,t.iconName)||t.iconName}}if("string"===typeof e){const t=Rl();return{prefix:t,iconName:Pl(t,e)||e}}}},Gl={noAuto:()=>{Ho.autoReplaceSvg=!1,Ho.observeMutations=!1,Bl("noAuto")},config:Ho,dom:Ql,parse:Kl,library:Wl,findIconDefinition:Hl,toHtml:ul},Yl=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{autoReplaceSvgRoot:t=Qs}=e;(Object.keys(sl.styles).length>0||Ho.autoFetchSvg)&&Ys&&Ho.autoReplaceSvg&&Gl.dom.i2svg({node:t})};function Xl(e,t){return Object.defineProperty(e,"abstract",{get:t}),Object.defineProperty(e,"html",{get:function(){return e.abstract.map((e=>ul(e)))}}),Object.defineProperty(e,"node",{get:function(){if(!Ys)return;const t=Qs.createElement("div");return t.innerHTML=e.html,t.children}}),e}function Jl(e){const{icons:{main:t,mask:n},prefix:r,iconName:i,transform:a,symbol:s,title:o,maskId:l,titleId:c,extra:u,watchable:d=!1}=e,{width:h,height:f}=n.found?n:t,p=oo.includes(r),m=[Ho.replacementClass,i?"".concat(Ho.cssPrefix,"-").concat(i):""].filter((e=>-1===u.classes.indexOf(e))).filter((e=>""!==e||!!e)).concat(u.classes).join(" ");let g={children:[],attributes:zs(zs({},u.attributes),{},{"data-prefix":r,"data-icon":i,class:m,role:u.attributes.role||"img",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 ".concat(h," ").concat(f)})};const y=p&&!~u.classes.indexOf("fa-fw")?{width:"".concat(h/f*16*.0625,"em")}:{};d&&(g.attributes[xo]=""),o&&(g.children.push({tag:"title",attributes:{id:g.attributes["aria-labelledby"]||"title-".concat(c||Go())},children:[o]}),delete g.attributes.title);const v=zs(zs({},g),{},{prefix:r,iconName:i,main:t,mask:n,maskId:l,transform:a,symbol:s,styles:zs(zs({},y),u.styles)}),{children:b,attributes:w}=n.found&&t.found?$l("generateAbstractMask",v)||{children:[],attributes:{}}:$l("generateAbstractIcon",v)||{children:[],attributes:{}};return v.children=b,v.attributes=w,s?function(e){let{prefix:t,iconName:n,children:r,attributes:i,symbol:a}=e;const s=!0===a?"".concat(t,"-").concat(Ho.cssPrefix,"-").concat(n):a;return[{tag:"svg",attributes:{style:"display: none;"},children:[{tag:"symbol",attributes:zs(zs({},i),{},{id:s}),children:r}]}]}(v):function(e){let{children:t,main:n,mask:r,attributes:i,styles:a,transform:s}=e;if(el(s)&&n.found&&!r.found){const{width:e,height:t}=n,r={x:e/t/2,y:.5};i.style=Zo(zs(zs({},a),{},{"transform-origin":"".concat(r.x+s.x/16,"em ").concat(r.y+s.y/16,"em")}))}return[{tag:"svg",attributes:i,children:t}]}(v)}function Zl(e){const{content:t,width:n,height:r,transform:i,title:a,extra:s,watchable:o=!1}=e,l=zs(zs(zs({},s.attributes),a?{title:a}:{}),{},{class:s.classes.join(" ")});o&&(l[xo]="");const c=zs({},s.styles);el(i)&&(c.transform=function(e){let{transform:t,width:n=bo,height:r=bo,startCentered:i=!1}=e,a="";return a+=i&&Xs?"translate(".concat(t.x/Qo-n/2,"em, ").concat(t.y/Qo-r/2,"em) "):i?"translate(calc(-50% + ".concat(t.x/Qo,"em), calc(-50% + ").concat(t.y/Qo,"em)) "):"translate(".concat(t.x/Qo,"em, ").concat(t.y/Qo,"em) "),a+="scale(".concat(t.size/Qo*(t.flipX?-1:1),", ").concat(t.size/Qo*(t.flipY?-1:1),") "),a+="rotate(".concat(t.rotate,"deg) "),a}({transform:i,startCentered:!0,width:n,height:r}),c["-webkit-transform"]=c.transform);const u=Zo(c);u.length>0&&(l.style=u);const d=[];return d.push({tag:"span",attributes:l,children:[t]}),a&&d.push({tag:"span",attributes:{class:"sr-only"},children:[a]}),d}const{styles:ec}=sl;function tc(e){const t=e[0],n=e[1],[r]=e.slice(4);let i=null;return i=Array.isArray(r)?{tag:"g",attributes:{class:"".concat(Ho.cssPrefix,"-").concat(Uo.GROUP)},children:[{tag:"path",attributes:{class:"".concat(Ho.cssPrefix,"-").concat(Uo.SECONDARY),fill:"currentColor",d:r[0]}},{tag:"path",attributes:{class:"".concat(Ho.cssPrefix,"-").concat(Uo.PRIMARY),fill:"currentColor",d:r[1]}}]}:{tag:"path",attributes:{fill:"currentColor",d:r}},{found:!0,width:t,height:n,icon:i}}const nc={found:!1,width:512,height:512};function rc(e,t){let n=t;return"fa"===t&&null!==Ho.styleDefault&&(t=Rl()),new Promise(((r,i)=>{if("fa"===n){const n=Nl(e)||{};e=n.iconName||e,t=n.prefix||t}if(e&&t&&ec[t]&&ec[t][e]){return r(tc(ec[t][e]))}!function(e,t){To||Ho.showMissingIcons||!e||console.error('Icon with name "'.concat(e,'" and prefix "').concat(t,'" is missing.'))}(e,t),r(zs(zs({},nc),{},{icon:Ho.showMissingIcons&&e&&$l("missingIconAbstract")||{}}))}))}const ic=()=>{},ac=Ho.measurePerformance&&Gs&&Gs.mark&&Gs.measure?Gs:{mark:ic,measure:ic},sc='FA "6.7.2"',oc=e=>{ac.mark("".concat(sc," ").concat(e," ends")),ac.measure("".concat(sc," ").concat(e),"".concat(sc," ").concat(e," begins"),"".concat(sc," ").concat(e," ends"))};var lc=e=>(ac.mark("".concat(sc," ").concat(e," begins")),()=>oc(e));const cc=()=>{};function uc(e){return"string"===typeof(e.getAttribute?e.getAttribute(xo):null)}function dc(e){return Qs.createElementNS("http://www.w3.org/2000/svg",e)}function hc(e){return Qs.createElement(e)}function fc(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const{ceFn:n=("svg"===e.tag?dc:hc)}=t;if("string"===typeof e)return Qs.createTextNode(e);const r=n(e.tag);Object.keys(e.attributes||[]).forEach((function(t){r.setAttribute(t,e.attributes[t])}));return(e.children||[]).forEach((function(e){r.appendChild(fc(e,{ceFn:n}))})),r}const pc={replace:function(e){const t=e[0];if(t.parentNode)if(e[1].forEach((e=>{t.parentNode.insertBefore(fc(e),t)})),null===t.getAttribute(xo)&&Ho.keepOriginalSource){let e=Qs.createComment(function(e){let t=" ".concat(e.outerHTML," ");return t="".concat(t,"Font Awesome fontawesome.com "),t}(t));t.parentNode.replaceChild(e,t)}else t.remove()},nest:function(e){const t=e[0],n=e[1];if(~Xo(t).indexOf(Ho.replacementClass))return pc.replace(e);const r=new RegExp("".concat(Ho.cssPrefix,"-.*"));if(delete n[0].attributes.id,n[0].attributes.class){const e=n[0].attributes.class.split(" ").reduce(((e,t)=>(t===Ho.replacementClass||t.match(r)?e.toSvg.push(t):e.toNode.push(t),e)),{toNode:[],toSvg:[]});n[0].attributes.class=e.toSvg.join(" "),0===e.toNode.length?t.removeAttribute("class"):t.setAttribute("class",e.toNode.join(" "))}const i=n.map((e=>ul(e))).join("\n");t.setAttribute(xo,""),t.innerHTML=i}};function mc(e){e()}function gc(e,t){const n="function"===typeof t?t:cc;if(0===e.length)n();else{let t=mc;"async"===Ho.mutateApproach&&(t=Ws.requestAnimationFrame||mc),t((()=>{const t=!0===Ho.autoReplaceSvg?pc.replace:pc[Ho.autoReplaceSvg]||pc.replace,r=lc("mutate");e.map(t),r(),n()}))}}let yc=!1;function vc(){yc=!0}function bc(){yc=!1}let wc=null;function xc(e){if(!Ks)return;if(!Ho.observeMutations)return;const{treeCallback:t=cc,nodeCallback:n=cc,pseudoElementsCallback:r=cc,observeMutationsRoot:i=Qs}=e;wc=new Ks((e=>{if(yc)return;const i=Rl();Yo(e).forEach((e=>{if("childList"===e.type&&e.addedNodes.length>0&&!uc(e.addedNodes[0])&&(Ho.searchPseudoElements&&r(e.target),t(e.target)),"attributes"===e.type&&e.target.parentNode&&Ho.searchPseudoElements&&r(e.target.parentNode),"attributes"===e.type&&uc(e.target)&&~zo.indexOf(e.attributeName))if("class"===e.attributeName&&function(e){const t=e.getAttribute?e.getAttribute(Eo):null,n=e.getAttribute?e.getAttribute(ko):null;return t&&n}(e.target)){const{prefix:t,iconName:n}=jl(Xo(e.target));e.target.setAttribute(Eo,t||i),n&&e.target.setAttribute(ko,n)}else(a=e.target)&&a.classList&&a.classList.contains&&a.classList.contains(Ho.replacementClass)&&n(e.target);var a}))})),Ys&&wc.observe(i,{childList:!0,attributes:!0,characterData:!0,subtree:!0})}function Sc(e){const t=e.getAttribute("data-prefix"),n=e.getAttribute("data-icon"),r=void 0!==e.innerText?e.innerText.trim():"";let i=jl(Xo(e));return i.prefix||(i.prefix=Rl()),t&&n&&(i.prefix=t,i.iconName=n),i.iconName&&i.prefix||(i.prefix&&r.length>0&&(i.iconName=function(e,t){return(Sl[e]||{})[t]}(i.prefix,e.innerText)||Al(i.prefix,fl(e.innerText))),!i.iconName&&Ho.autoFetchSvg&&e.firstChild&&e.firstChild.nodeType===Node.TEXT_NODE&&(i.iconName=e.firstChild.data)),i}function Ec(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{styleParser:!0};const{iconName:n,prefix:r,rest:i}=Sc(e),a=function(e){const t=Yo(e.attributes).reduce(((e,t)=>("class"!==e.name&&"style"!==e.name&&(e[t.name]=t.value),e)),{}),n=e.getAttribute("title"),r=e.getAttribute("data-fa-title-id");return Ho.autoA11y&&(n?t["aria-labelledby"]="".concat(Ho.replacementClass,"-title-").concat(r||Go()):(t["aria-hidden"]="true",t.focusable="false")),t}(e),s=ql("parseNodeAttributes",{},e);let o=t.styleParser?function(e){const t=e.getAttribute("style");let n=[];return t&&(n=t.split(";").reduce(((e,t)=>{const n=t.split(":"),r=n[0],i=n.slice(1);return r&&i.length>0&&(e[r]=i.join(":").trim()),e}),{})),n}(e):[];return zs({iconName:n,title:e.getAttribute("title"),titleId:e.getAttribute("data-fa-title-id"),prefix:r,transform:Ko,mask:{iconName:null,prefix:null,rest:[]},maskId:null,symbol:!1,extra:{classes:i,styles:o,attributes:a}},s)}const{styles:kc}=sl;function _c(e){const t="nest"===Ho.autoReplaceSvg?Ec(e,{styleParser:!1}):Ec(e);return~t.extra.classes.indexOf(Mo)?$l("generateLayersText",e,t):$l("generateSvgReplacementMutation",e,t)}function Cc(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;if(!Ys)return Promise.resolve();const n=Qs.documentElement.classList,r=e=>n.add("".concat(_o,"-").concat(e)),i=e=>n.remove("".concat(_o,"-").concat(e)),a=Ho.autoFetchSvg?[...io,...po]:Zs.concat(Object.keys(kc));a.includes("fa")||a.push("fa");const s=[".".concat(Mo,":not([").concat(xo,"])")].concat(a.map((e=>".".concat(e,":not([").concat(xo,"])")))).join(", ");if(0===s.length)return Promise.resolve();let o=[];try{o=Yo(e.querySelectorAll(s))}catch(u){}if(!(o.length>0))return Promise.resolve();r("pending"),i("complete");const l=lc("onTree"),c=o.reduce(((e,t)=>{try{const n=_c(t);n&&e.push(n)}catch(u){To||"MissingIcon"===u.name&&console.error(u)}return e}),[]);return new Promise(((e,n)=>{Promise.all(c).then((n=>{gc(n,(()=>{r("active"),r("complete"),i("pending"),"function"===typeof t&&t(),l(),e()}))})).catch((e=>{l(),n(e)}))}))}function Tc(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;_c(e).then((e=>{e&&gc([e],t)}))}const Ic=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const{transform:n=Ko,symbol:r=!1,mask:i=null,maskId:a=null,title:s=null,titleId:o=null,classes:l=[],attributes:c={},styles:u={}}=t;if(!e)return;const{prefix:d,iconName:h,icon:f}=e;return Xl(zs({type:"icon"},e),(()=>(Bl("beforeDOMElementCreation",{iconDefinition:e,params:t}),Ho.autoA11y&&(s?c["aria-labelledby"]="".concat(Ho.replacementClass,"-title-").concat(o||Go()):(c["aria-hidden"]="true",c.focusable="false")),Jl({icons:{main:tc(f),mask:i?tc(i.icon):{found:!1,width:null,height:null,icon:{}}},prefix:d,iconName:h,transform:zs(zs({},Ko),n),symbol:r,title:s,maskId:a,titleId:o,extra:{attributes:c,styles:u,classes:l}}))))};var Ac={mixout(){return{icon:(e=Ic,function(t){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const r=(t||{}).icon?t:Hl(t||{});let{mask:i}=n;return i&&(i=(i||{}).icon?i:Hl(i||{})),e(r,zs(zs({},n),{},{mask:i}))})};var e},hooks:()=>({mutationObserverCallbacks:e=>(e.treeCallback=Cc,e.nodeCallback=Tc,e)}),provides(e){e.i2svg=function(e){const{node:t=Qs,callback:n=()=>{}}=e;return Cc(t,n)},e.generateSvgReplacementMutation=function(e,t){const{iconName:n,title:r,titleId:i,prefix:a,transform:s,symbol:o,mask:l,maskId:c,extra:u}=t;return new Promise(((t,d)=>{Promise.all([rc(n,a),l.iconName?rc(l.iconName,l.prefix):Promise.resolve({found:!1,width:512,height:512,icon:{}})]).then((l=>{let[d,h]=l;t([e,Jl({icons:{main:d,mask:h},prefix:a,iconName:n,transform:s,symbol:o,maskId:c,title:r,titleId:i,extra:u,watchable:!0})])})).catch(d)}))},e.generateAbstractIcon=function(e){let{children:t,attributes:n,main:r,transform:i,styles:a}=e;const s=Zo(a);let o;return s.length>0&&(n.style=s),el(i)&&(o=$l("generateAbstractTransformGrouping",{main:r,transform:i,containerWidth:r.width,iconWidth:r.width})),t.push(o||r.icon),{children:t,attributes:n}}}},Pc={mixout:()=>({layer(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const{classes:n=[]}=t;return Xl({type:"layer"},(()=>{Bl("beforeDOMElementCreation",{assembler:e,params:t});let r=[];return e((e=>{Array.isArray(e)?e.map((e=>{r=r.concat(e.abstract)})):r=r.concat(e.abstract)})),[{tag:"span",attributes:{class:["".concat(Ho.cssPrefix,"-layers"),...n].join(" ")},children:r}]}))}})},Nc={mixout:()=>({counter(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const{title:n=null,classes:r=[],attributes:i={},styles:a={}}=t;return Xl({type:"counter",content:e},(()=>(Bl("beforeDOMElementCreation",{content:e,params:t}),function(e){const{content:t,title:n,extra:r}=e,i=zs(zs(zs({},r.attributes),n?{title:n}:{}),{},{class:r.classes.join(" ")}),a=Zo(r.styles);a.length>0&&(i.style=a);const s=[];return s.push({tag:"span",attributes:i,children:[t]}),n&&s.push({tag:"span",attributes:{class:"sr-only"},children:[n]}),s}({content:e.toString(),title:n,extra:{attributes:i,styles:a,classes:["".concat(Ho.cssPrefix,"-layers-counter"),...r]}}))))}})},Rc={mixout:()=>({text(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const{transform:n=Ko,title:r=null,classes:i=[],attributes:a={},styles:s={}}=t;return Xl({type:"text",content:e},(()=>(Bl("beforeDOMElementCreation",{content:e,params:t}),Zl({content:e,transform:zs(zs({},Ko),n),title:r,extra:{attributes:a,styles:s,classes:["".concat(Ho.cssPrefix,"-layers-text"),...i]}}))))}}),provides(e){e.generateLayersText=function(e,t){const{title:n,transform:r,extra:i}=t;let a=null,s=null;if(Xs){const t=parseInt(getComputedStyle(e).fontSize,10),n=e.getBoundingClientRect();a=n.width/t,s=n.height/t}return Ho.autoA11y&&!n&&(i.attributes["aria-hidden"]="true"),Promise.resolve([e,Zl({content:e.innerHTML,width:a,height:s,transform:r,title:n,extra:i,watchable:!0})])}}};const Oc=new RegExp('"',"ug"),Dc=[1105920,1112319],jc=zs(zs(zs(zs({},{FontAwesome:{normal:"fas",400:"fas"}}),{"Font Awesome 6 Free":{900:"fas",400:"far"},"Font Awesome 6 Pro":{900:"fas",400:"far",normal:"far",300:"fal",100:"fat"},"Font Awesome 6 Brands":{400:"fab",normal:"fab"},"Font Awesome 6 Duotone":{900:"fad",400:"fadr",normal:"fadr",300:"fadl",100:"fadt"},"Font Awesome 6 Sharp":{900:"fass",400:"fasr",normal:"fasr",300:"fasl",100:"fast"},"Font Awesome 6 Sharp Duotone":{900:"fasds",400:"fasdr",normal:"fasdr",300:"fasdl",100:"fasdt"}}),{"Font Awesome 5 Free":{900:"fas",400:"far"},"Font Awesome 5 Pro":{900:"fas",400:"far",normal:"far",300:"fal"},"Font Awesome 5 Brands":{400:"fab",normal:"fab"},"Font Awesome 5 Duotone":{900:"fad"}}),{"Font Awesome Kit":{400:"fak",normal:"fak"},"Font Awesome Kit Duotone":{400:"fakd",normal:"fakd"}}),Lc=Object.keys(jc).reduce(((e,t)=>(e[t.toLowerCase()]=jc[t],e)),{}),Mc=Object.keys(Lc).reduce(((e,t)=>{const n=Lc[t];return e[t]=n[900]||[...Object.entries(n)][0][1],e}),{});function Fc(e,t){const n="".concat("data-fa-pseudo-element-pending").concat(t.replace(":","-"));return new Promise(((r,i)=>{if(null!==e.getAttribute(n))return r();const a=Yo(e.children).filter((e=>e.getAttribute(So)===t))[0],s=Ws.getComputedStyle(e,t),o=s.getPropertyValue("font-family"),l=o.match(Fo),c=s.getPropertyValue("font-weight"),u=s.getPropertyValue("content");if(a&&!l)return e.removeChild(a),r();if(l&&"none"!==u&&""!==u){const u=s.getPropertyValue("content");let d=function(e,t){const n=e.replace(/^['"]|['"]$/g,"").toLowerCase(),r=parseInt(t),i=isNaN(r)?"normal":r;return(Lc[n]||{})[i]||Mc[n]}(o,c);const{value:h,isSecondary:f}=function(e){const t=e.replace(Oc,""),n=function(e,t){const n=e.length;let r,i=e.charCodeAt(t);return i>=55296&&i<=56319&&n>t+1&&(r=e.charCodeAt(t+1),r>=56320&&r<=57343)?1024*(i-55296)+r-56320+65536:i}(t,0),r=n>=Dc[0]&&n<=Dc[1],i=2===t.length&&t[0]===t[1];return{value:fl(i?t[0]:t),isSecondary:r||i}}(u),p=l[0].startsWith("FontAwesome");let m=Al(d,h),g=m;if(p){const e=function(e){const t=kl[e],n=Al("fas",e);return t||(n?{prefix:"fas",iconName:n}:null)||{prefix:null,iconName:null}}(h);e.iconName&&e.prefix&&(m=e.iconName,d=e.prefix)}if(!m||f||a&&a.getAttribute(Eo)===d&&a.getAttribute(ko)===g)r();else{e.setAttribute(n,g),a&&e.removeChild(a);const s={iconName:null,title:null,titleId:null,prefix:null,transform:Ko,symbol:!1,mask:{iconName:null,prefix:null,rest:[]},maskId:null,extra:{classes:[],styles:{},attributes:{}}},{extra:o}=s;o.attributes[So]=t,rc(m,d).then((i=>{const a=Jl(zs(zs({},s),{},{icons:{main:i,mask:{prefix:null,iconName:null,rest:[]}},prefix:d,iconName:g,extra:o,watchable:!0})),l=Qs.createElementNS("http://www.w3.org/2000/svg","svg");"::before"===t?e.insertBefore(l,e.firstChild):e.appendChild(l),l.outerHTML=a.map((e=>ul(e))).join("\n"),e.removeAttribute(n),r()})).catch(i)}}else r()}))}function zc(e){return Promise.all([Fc(e,"::before"),Fc(e,"::after")])}function Uc(e){return e.parentNode!==document.head&&!~Co.indexOf(e.tagName.toUpperCase())&&!e.getAttribute(So)&&(!e.parentNode||"svg"!==e.parentNode.tagName)}function Vc(e){if(Ys)return new Promise(((t,n)=>{const r=Yo(e.querySelectorAll("*")).filter(Uc).map(zc),i=lc("searchPseudoElements");vc(),Promise.all(r).then((()=>{i(),bc(),t()})).catch((()=>{i(),bc(),n()}))}))}var qc={hooks:()=>({mutationObserverCallbacks:e=>(e.pseudoElementsCallback=Vc,e)}),provides(e){e.pseudoElements2svg=function(e){const{node:t=Qs}=e;Ho.searchPseudoElements&&Vc(t)}}};let Bc=!1;var $c={mixout:()=>({dom:{unwatch(){vc(),Bc=!0}}}),hooks:()=>({bootstrap(){xc(ql("mutationObserverCallbacks",{}))},noAuto(){wc&&wc.disconnect()},watch(e){const{observeMutationsRoot:t}=e;Bc?bc():xc(ql("mutationObserverCallbacks",{observeMutationsRoot:t}))}})};const Hc=e=>e.toLowerCase().split(" ").reduce(((e,t)=>{const n=t.toLowerCase().split("-"),r=n[0];let i=n.slice(1).join("-");if(r&&"h"===i)return e.flipX=!0,e;if(r&&"v"===i)return e.flipY=!0,e;if(i=parseFloat(i),isNaN(i))return e;switch(r){case"grow":e.size=e.size+i;break;case"shrink":e.size=e.size-i;break;case"left":e.x=e.x-i;break;case"right":e.x=e.x+i;break;case"up":e.y=e.y-i;break;case"down":e.y=e.y+i;break;case"rotate":e.rotate=e.rotate+i}return e}),{size:16,x:0,y:0,flipX:!1,flipY:!1,rotate:0});var Wc={mixout:()=>({parse:{transform:e=>Hc(e)}}),hooks:()=>({parseNodeAttributes(e,t){const n=t.getAttribute("data-fa-transform");return n&&(e.transform=Hc(n)),e}}),provides(e){e.generateAbstractTransformGrouping=function(e){let{main:t,transform:n,containerWidth:r,iconWidth:i}=e;const a={transform:"translate(".concat(r/2," 256)")},s="translate(".concat(32*n.x,", ").concat(32*n.y,") "),o="scale(".concat(n.size/16*(n.flipX?-1:1),", ").concat(n.size/16*(n.flipY?-1:1),") "),l="rotate(".concat(n.rotate," 0 0)"),c={outer:a,inner:{transform:"".concat(s," ").concat(o," ").concat(l)},path:{transform:"translate(".concat(i/2*-1," -256)")}};return{tag:"g",attributes:zs({},c.outer),children:[{tag:"g",attributes:zs({},c.inner),children:[{tag:t.icon.tag,children:t.icon.children,attributes:zs(zs({},t.icon.attributes),c.path)}]}]}}}};const Qc={x:0,y:0,width:"100%",height:"100%"};function Kc(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return e.attributes&&(e.attributes.fill||t)&&(e.attributes.fill="black"),e}var Gc={hooks:()=>({parseNodeAttributes(e,t){const n=t.getAttribute("data-fa-mask"),r=n?jl(n.split(" ").map((e=>e.trim()))):{prefix:null,iconName:null,rest:[]};return r.prefix||(r.prefix=Rl()),e.mask=r,e.maskId=t.getAttribute("data-fa-mask-id"),e}}),provides(e){e.generateAbstractMask=function(e){let{children:t,attributes:n,main:r,mask:i,maskId:a,transform:s}=e;const{width:o,icon:l}=r,{width:c,icon:u}=i,d=function(e){let{transform:t,containerWidth:n,iconWidth:r}=e;const i={transform:"translate(".concat(n/2," 256)")},a="translate(".concat(32*t.x,", ").concat(32*t.y,") "),s="scale(".concat(t.size/16*(t.flipX?-1:1),", ").concat(t.size/16*(t.flipY?-1:1),") "),o="rotate(".concat(t.rotate," 0 0)");return{outer:i,inner:{transform:"".concat(a," ").concat(s," ").concat(o)},path:{transform:"translate(".concat(r/2*-1," -256)")}}}({transform:s,containerWidth:c,iconWidth:o}),h={tag:"rect",attributes:zs(zs({},Qc),{},{fill:"white"})},f=l.children?{children:l.children.map(Kc)}:{},p={tag:"g",attributes:zs({},d.inner),children:[Kc(zs({tag:l.tag,attributes:zs(zs({},l.attributes),d.path)},f))]},m={tag:"g",attributes:zs({},d.outer),children:[p]},g="mask-".concat(a||Go()),y="clip-".concat(a||Go()),v={tag:"mask",attributes:zs(zs({},Qc),{},{id:g,maskUnits:"userSpaceOnUse",maskContentUnits:"userSpaceOnUse"}),children:[h,m]},b={tag:"defs",children:[{tag:"clipPath",attributes:{id:y},children:(w=u,"g"===w.tag?w.children:[w])},v]};var w;return t.push(b,{tag:"rect",attributes:zs({fill:"currentColor","clip-path":"url(#".concat(y,")"),mask:"url(#".concat(g,")")},Qc)}),{children:t,attributes:n}}}},Yc={provides(e){let t=!1;Ws.matchMedia&&(t=Ws.matchMedia("(prefers-reduced-motion: reduce)").matches),e.missingIconAbstract=function(){const e=[],n={fill:"currentColor"},r={attributeType:"XML",repeatCount:"indefinite",dur:"2s"};e.push({tag:"path",attributes:zs(zs({},n),{},{d:"M156.5,447.7l-12.6,29.5c-18.7-9.5-35.9-21.2-51.5-34.9l22.7-22.7C127.6,430.5,141.5,440,156.5,447.7z M40.6,272H8.5 c1.4,21.2,5.4,41.7,11.7,61.1L50,321.2C45.1,305.5,41.8,289,40.6,272z M40.6,240c1.4-18.8,5.2-37,11.1-54.1l-29.5-12.6 C14.7,194.3,10,216.7,8.5,240H40.6z M64.3,156.5c7.8-14.9,17.2-28.8,28.1-41.5L69.7,92.3c-13.7,15.6-25.5,32.8-34.9,51.5 L64.3,156.5z M397,419.6c-13.9,12-29.4,22.3-46.1,30.4l11.9,29.8c20.7-9.9,39.8-22.6,56.9-37.6L397,419.6z M115,92.4 c13.9-12,29.4-22.3,46.1-30.4l-11.9-29.8c-20.7,9.9-39.8,22.6-56.8,37.6L115,92.4z M447.7,355.5c-7.8,14.9-17.2,28.8-28.1,41.5 l22.7,22.7c13.7-15.6,25.5-32.9,34.9-51.5L447.7,355.5z M471.4,272c-1.4,18.8-5.2,37-11.1,54.1l29.5,12.6 c7.5-21.1,12.2-43.5,13.6-66.8H471.4z M321.2,462c-15.7,5-32.2,8.2-49.2,9.4v32.1c21.2-1.4,41.7-5.4,61.1-11.7L321.2,462z M240,471.4c-18.8-1.4-37-5.2-54.1-11.1l-12.6,29.5c21.1,7.5,43.5,12.2,66.8,13.6V471.4z M462,190.8c5,15.7,8.2,32.2,9.4,49.2h32.1 c-1.4-21.2-5.4-41.7-11.7-61.1L462,190.8z M92.4,397c-12-13.9-22.3-29.4-30.4-46.1l-29.8,11.9c9.9,20.7,22.6,39.8,37.6,56.9 L92.4,397z M272,40.6c18.8,1.4,36.9,5.2,54.1,11.1l12.6-29.5C317.7,14.7,295.3,10,272,8.5V40.6z M190.8,50 c15.7-5,32.2-8.2,49.2-9.4V8.5c-21.2,1.4-41.7,5.4-61.1,11.7L190.8,50z M442.3,92.3L419.6,115c12,13.9,22.3,29.4,30.5,46.1 l29.8-11.9C470,128.5,457.3,109.4,442.3,92.3z M397,92.4l22.7-22.7c-15.6-13.7-32.8-25.5-51.5-34.9l-12.6,29.5 C370.4,72.1,384.4,81.5,397,92.4z"})});const i=zs(zs({},r),{},{attributeName:"opacity"}),a={tag:"circle",attributes:zs(zs({},n),{},{cx:"256",cy:"364",r:"28"}),children:[]};return t||a.children.push({tag:"animate",attributes:zs(zs({},r),{},{attributeName:"r",values:"28;14;28;28;14;28;"})},{tag:"animate",attributes:zs(zs({},i),{},{values:"1;0;1;1;0;1;"})}),e.push(a),e.push({tag:"path",attributes:zs(zs({},n),{},{opacity:"1",d:"M263.7,312h-16c-6.6,0-12-5.4-12-12c0-71,77.4-63.9,77.4-107.8c0-20-17.8-40.2-57.4-40.2c-29.1,0-44.3,9.6-59.2,28.7 c-3.9,5-11.1,6-16.2,2.4l-13.1-9.2c-5.6-3.9-6.9-11.8-2.6-17.2c21.2-27.2,46.4-44.7,91.2-44.7c52.3,0,97.4,29.8,97.4,80.2 c0,67.6-77.4,63.5-77.4,107.8C275.7,306.6,270.3,312,263.7,312z"}),children:t?[]:[{tag:"animate",attributes:zs(zs({},i),{},{values:"1;0;0;0;0;1;"})}]}),t||e.push({tag:"path",attributes:zs(zs({},n),{},{opacity:"0",d:"M232.5,134.5l7,168c0.3,6.4,5.6,11.5,12,11.5h9c6.4,0,11.7-5.1,12-11.5l7-168c0.3-6.8-5.2-12.5-12-12.5h-23 C237.7,122,232.2,127.7,232.5,134.5z"}),children:[{tag:"animate",attributes:zs(zs({},i),{},{values:"0;0;1;1;0;0;"})}]}),{tag:"g",attributes:{class:"missing"},children:e}}}};!function(e,t){let{mixoutsTo:n}=t;Fl=e,zl={},Object.keys(Ul).forEach((e=>{-1===Vl.indexOf(e)&&delete Ul[e]})),Fl.forEach((e=>{const t=e.mixout?e.mixout():{};if(Object.keys(t).forEach((e=>{"function"===typeof t[e]&&(n[e]=t[e]),"object"===typeof t[e]&&Object.keys(t[e]).forEach((r=>{n[e]||(n[e]={}),n[e][r]=t[e][r]}))})),e.hooks){const t=e.hooks();Object.keys(t).forEach((e=>{zl[e]||(zl[e]=[]),zl[e].push(t[e])}))}e.provides&&e.provides(Ul)}))}([il,Ac,Pc,Nc,Rc,qc,$c,Wc,Gc,Yc,{hooks:()=>({parseNodeAttributes(e,t){const n=t.getAttribute("data-fa-symbol"),r=null!==n&&(""===n||n);return e.symbol=r,e}})}],{mixoutsTo:Gl});const Xc=Gl.parse,Jc=Gl.icon;var Zc=n(173),eu=n.n(Zc);function tu(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function nu(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?tu(Object(n),!0).forEach((function(t){iu(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):tu(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function ru(e){return ru="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ru(e)}function iu(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function au(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function su(e){return function(e){if(Array.isArray(e))return ou(e)}(e)||function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"===typeof e)return ou(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return ou(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ou(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function lu(e){return t=e,(t-=0)===t?e:(e=e.replace(/[\-_\s]+(.)?/g,(function(e,t){return t?t.toUpperCase():""}))).substr(0,1).toLowerCase()+e.substr(1);var t}var cu=["style"];var uu=!1;try{uu=!0}catch(NS){}function du(e){return e&&"object"===ru(e)&&e.prefix&&e.iconName&&e.icon?e:Xc.icon?Xc.icon(e):null===e?null:e&&"object"===ru(e)&&e.prefix&&e.iconName?e:Array.isArray(e)&&2===e.length?{prefix:e[0],iconName:e[1]}:"string"===typeof e?{prefix:"fas",iconName:e}:void 0}function hu(e,t){return Array.isArray(t)&&t.length>0||!Array.isArray(t)&&t?iu({},e,t):{}}var fu={border:!1,className:"",mask:null,maskId:null,fixedWidth:!1,inverse:!1,flip:!1,icon:null,listItem:!1,pull:null,pulse:!1,rotation:null,size:null,spin:!1,spinPulse:!1,spinReverse:!1,beat:!1,fade:!1,beatFade:!1,bounce:!1,shake:!1,symbol:!1,title:"",titleId:null,transform:null,swapOpacity:!1},pu=e.forwardRef((function(e,t){var n=nu(nu({},fu),e),r=n.icon,i=n.mask,a=n.symbol,s=n.className,o=n.title,l=n.titleId,c=n.maskId,u=du(r),d=hu("classes",[].concat(su(function(e){var t,n=e.beat,r=e.fade,i=e.beatFade,a=e.bounce,s=e.shake,o=e.flash,l=e.spin,c=e.spinPulse,u=e.spinReverse,d=e.pulse,h=e.fixedWidth,f=e.inverse,p=e.border,m=e.listItem,g=e.flip,y=e.size,v=e.rotation,b=e.pull,w=(iu(t={"fa-beat":n,"fa-fade":r,"fa-beat-fade":i,"fa-bounce":a,"fa-shake":s,"fa-flash":o,"fa-spin":l,"fa-spin-reverse":u,"fa-spin-pulse":c,"fa-pulse":d,"fa-fw":h,"fa-inverse":f,"fa-border":p,"fa-li":m,"fa-flip":!0===g,"fa-flip-horizontal":"horizontal"===g||"both"===g,"fa-flip-vertical":"vertical"===g||"both"===g},"fa-".concat(y),"undefined"!==typeof y&&null!==y),iu(t,"fa-rotate-".concat(v),"undefined"!==typeof v&&null!==v&&0!==v),iu(t,"fa-pull-".concat(b),"undefined"!==typeof b&&null!==b),iu(t,"fa-swap-opacity",e.swapOpacity),t);return Object.keys(w).map((function(e){return w[e]?e:null})).filter((function(e){return e}))}(n)),su((s||"").split(" ")))),h=hu("transform","string"===typeof n.transform?Xc.transform(n.transform):n.transform),f=hu("mask",du(i)),p=Jc(u,nu(nu(nu(nu({},d),h),f),{},{symbol:a,title:o,titleId:l,maskId:c}));if(!p)return function(){var e;!uu&&console&&"function"===typeof console.error&&(e=console).error.apply(e,arguments)}("Could not find icon",u),null;var m=p.abstract,g={ref:t};return Object.keys(n).forEach((function(e){fu.hasOwnProperty(e)||(g[e]=n[e])})),mu(m[0],g)}));pu.displayName="FontAwesomeIcon",pu.propTypes={beat:eu().bool,border:eu().bool,beatFade:eu().bool,bounce:eu().bool,className:eu().string,fade:eu().bool,flash:eu().bool,mask:eu().oneOfType([eu().object,eu().array,eu().string]),maskId:eu().string,fixedWidth:eu().bool,inverse:eu().bool,flip:eu().oneOf([!0,!1,"horizontal","vertical","both"]),icon:eu().oneOfType([eu().object,eu().array,eu().string]),listItem:eu().bool,pull:eu().oneOf(["right","left"]),pulse:eu().bool,rotation:eu().oneOf([0,90,180,270]),shake:eu().bool,size:eu().oneOf(["2xs","xs","sm","lg","xl","2xl","1x","2x","3x","4x","5x","6x","7x","8x","9x","10x"]),spin:eu().bool,spinPulse:eu().bool,spinReverse:eu().bool,symbol:eu().oneOfType([eu().bool,eu().string]),title:eu().string,titleId:eu().string,transform:eu().oneOfType([eu().string,eu().object]),swapOpacity:eu().bool};var mu=function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if("string"===typeof n)return n;var i=(n.children||[]).map((function(n){return e(t,n)})),a=Object.keys(n.attributes||{}).reduce((function(e,t){var r=n.attributes[t];switch(t){case"class":e.attrs.className=r,delete n.attributes.class;break;case"style":e.attrs.style=r.split(";").map((function(e){return e.trim()})).filter((function(e){return e})).reduce((function(e,t){var n,r=t.indexOf(":"),i=lu(t.slice(0,r)),a=t.slice(r+1).trim();return i.startsWith("webkit")?e[(n=i,n.charAt(0).toUpperCase()+n.slice(1))]=a:e[i]=a,e}),{});break;default:0===t.indexOf("aria-")||0===t.indexOf("data-")?e.attrs[t.toLowerCase()]=r:e.attrs[lu(t)]=r}return e}),{attrs:{}}),s=r.style,o=void 0===s?{}:s,l=au(r,cu);return a.attrs.style=nu(nu({},a.attrs.style),o),t.apply(void 0,[n.tag,nu(nu({},a.attrs),l)].concat(su(i)))}.bind(null,e.createElement);const gu={prefix:"fas",iconName:"file-lines",icon:[384,512,[128441,128462,61686,"file-alt","file-text"],"f15c","M64 0C28.7 0 0 28.7 0 64L0 448c0 35.3 28.7 64 64 64l256 0c35.3 0 64-28.7 64-64l0-288-128 0c-17.7 0-32-14.3-32-32L224 0 64 0zM256 0l0 128 128 0L256 0zM112 256l160 0c8.8 0 16 7.2 16 16s-7.2 16-16 16l-160 0c-8.8 0-16-7.2-16-16s7.2-16 16-16zm0 64l160 0c8.8 0 16 7.2 16 16s-7.2 16-16 16l-160 0c-8.8 0-16-7.2-16-16s7.2-16 16-16zm0 64l160 0c8.8 0 16 7.2 16 16s-7.2 16-16 16l-160 0c-8.8 0-16-7.2-16-16s7.2-16 16-16z"]},yu={prefix:"fas",iconName:"eye-slash",icon:[640,512,[],"f070","M38.8 5.1C28.4-3.1 13.3-1.2 5.1 9.2S-1.2 34.7 9.2 42.9l592 464c10.4 8.2 25.5 6.3 33.7-4.1s6.3-25.5-4.1-33.7L525.6 386.7c39.6-40.6 66.4-86.1 79.9-118.4c3.3-7.9 3.3-16.7 0-24.6c-14.9-35.7-46.2-87.7-93-131.1C465.5 68.8 400.8 32 320 32c-68.2 0-125 26.3-169.3 60.8L38.8 5.1zM223.1 149.5C248.6 126.2 282.7 112 320 112c79.5 0 144 64.5 144 144c0 24.9-6.3 48.3-17.4 68.7L408 294.5c8.4-19.3 10.6-41.4 4.8-63.3c-11.1-41.5-47.8-69.4-88.6-71.1c-5.8-.2-9.2 6.1-7.4 11.7c2.1 6.4 3.3 13.2 3.3 20.3c0 10.2-2.4 19.8-6.6 28.3l-90.3-70.8zM373 389.9c-16.4 6.5-34.3 10.1-53 10.1c-79.5 0-144-64.5-144-144c0-6.9 .5-13.6 1.4-20.2L83.1 161.5C60.3 191.2 44 220.8 34.5 243.7c-3.3 7.9-3.3 16.7 0 24.6c14.9 35.7 46.2 87.7 93 131.1C174.5 443.2 239.2 480 320 480c47.8 0 89.9-12.9 126.2-32.5L373 389.9z"]},vu={prefix:"fas",iconName:"chevron-up",icon:[512,512,[],"f077","M233.4 105.4c12.5-12.5 32.8-12.5 45.3 0l192 192c12.5 12.5 12.5 32.8 0 45.3s-32.8 12.5-45.3 0L256 173.3 86.6 342.6c-12.5 12.5-32.8 12.5-45.3 0s-12.5-32.8 0-45.3l192-192z"]},bu={prefix:"fas",iconName:"star",icon:[576,512,[11088,61446],"f005","M316.9 18C311.6 7 300.4 0 288.1 0s-23.4 7-28.8 18L195 150.3 51.4 171.5c-12 1.8-22 10.2-25.7 21.7s-.7 24.2 7.9 32.7L137.8 329 113.2 474.7c-2 12 3 24.2 12.9 31.3s23 8 33.8 2.3l128.3-68.5 128.3 68.5c10.8 5.7 23.9 4.9 33.8-2.3s14.9-19.3 12.9-31.3L438.5 329 542.7 225.9c8.6-8.5 11.7-21.2 7.9-32.7s-13.7-19.9-25.7-21.7L381.2 150.3 316.9 18z"]},wu={prefix:"fas",iconName:"circle-check",icon:[512,512,[61533,"check-circle"],"f058","M256 512A256 256 0 1 0 256 0a256 256 0 1 0 0 512zM369 209L241 337c-9.4 9.4-24.6 9.4-33.9 0l-64-64c-9.4-9.4-9.4-24.6 0-33.9s24.6-9.4 33.9 0l47 47L335 175c9.4-9.4 24.6-9.4 33.9 0s9.4 24.6 0 33.9z"]},xu={prefix:"fas",iconName:"chart-line",icon:[512,512,["line-chart"],"f201","M64 64c0-17.7-14.3-32-32-32S0 46.3 0 64L0 400c0 44.2 35.8 80 80 80l400 0c17.7 0 32-14.3 32-32s-14.3-32-32-32L80 416c-8.8 0-16-7.2-16-16L64 64zm406.6 86.6c12.5-12.5 12.5-32.8 0-45.3s-32.8-12.5-45.3 0L320 210.7l-57.4-57.4c-12.5-12.5-32.8-12.5-45.3 0l-112 112c-12.5 12.5-12.5 32.8 0 45.3s32.8 12.5 45.3 0L240 221.3l57.4 57.4c12.5 12.5 32.8 12.5 45.3 0l128-128z"]},Su={prefix:"fas",iconName:"eye",icon:[576,512,[128065],"f06e","M288 32c-80.8 0-145.5 36.8-192.6 80.6C48.6 156 17.3 208 2.5 243.7c-3.3 7.9-3.3 16.7 0 24.6C17.3 304 48.6 356 95.4 399.4C142.5 443.2 207.2 480 288 480s145.5-36.8 192.6-80.6c46.8-43.5 78.1-95.4 93-131.1c3.3-7.9 3.3-16.7 0-24.6c-14.9-35.7-46.2-87.7-93-131.1C433.5 68.8 368.8 32 288 32zM144 256a144 144 0 1 1 288 0 144 144 0 1 1 -288 0zm144-64c0 35.3-28.7 64-64 64c-7.1 0-13.9-1.2-20.3-3.3c-5.5-1.8-11.9 1.6-11.7 7.4c.3 6.9 1.3 13.8 3.2 20.7c13.7 51.2 66.4 81.6 117.6 67.9s81.6-66.4 67.9-117.6c-11.1-41.5-47.8-69.4-88.6-71.1c-5.8-.2-9.2 6.1-7.4 11.7c2.1 6.4 3.3 13.2 3.3 20.3z"]},Eu={prefix:"fas",iconName:"arrow-left",icon:[448,512,[8592],"f060","M9.4 233.4c-12.5 12.5-12.5 32.8 0 45.3l160 160c12.5 12.5 32.8 12.5 45.3 0s12.5-32.8 0-45.3L109.2 288 416 288c17.7 0 32-14.3 32-32s-14.3-32-32-32l-306.7 0L214.6 118.6c12.5-12.5 12.5-32.8 0-45.3s-32.8-12.5-45.3 0l-160 160z"]},ku={prefix:"fas",iconName:"house",icon:[576,512,[127968,63498,63500,"home","home-alt","home-lg-alt"],"f015","M575.8 255.5c0 18-15 32.1-32 32.1l-32 0 .7 160.2c0 2.7-.2 5.4-.5 8.1l0 16.2c0 22.1-17.9 40-40 40l-16 0c-1.1 0-2.2 0-3.3-.1c-1.4 .1-2.8 .1-4.2 .1L416 512l-24 0c-22.1 0-40-17.9-40-40l0-24 0-64c0-17.7-14.3-32-32-32l-64 0c-17.7 0-32 14.3-32 32l0 64 0 24c0 22.1-17.9 40-40 40l-24 0-31.9 0c-1.5 0-3-.1-4.5-.2c-1.2 .1-2.4 .2-3.6 .2l-16 0c-22.1 0-40-17.9-40-40l0-112c0-.9 0-1.9 .1-2.8l0-69.7-32 0c-18 0-32-14-32-32.1c0-9 3-17 10-24L266.4 8c7-7 15-8 22-8s15 2 21 7L564.8 231.5c8 7 12 15 11 24z"]},_u=ku,Cu={prefix:"fas",iconName:"chevron-down",icon:[512,512,[],"f078","M233.4 406.6c12.5 12.5 32.8 12.5 45.3 0l192-192c12.5-12.5 12.5-32.8 0-45.3s-32.8-12.5-45.3 0L256 338.7 86.6 169.4c-12.5-12.5-32.8-12.5-45.3 0s-12.5 32.8 0 45.3l192 192z"]},Tu={prefix:"fas",iconName:"plus",icon:[448,512,[10133,61543,"add"],"2b","M256 80c0-17.7-14.3-32-32-32s-32 14.3-32 32l0 144L48 224c-17.7 0-32 14.3-32 32s14.3 32 32 32l144 0 0 144c0 17.7 14.3 32 32 32s32-14.3 32-32l0-144 144 0c17.7 0 32-14.3 32-32s-14.3-32-32-32l-144 0 0-144z"]},Iu={prefix:"fas",iconName:"xmark",icon:[384,512,[128473,10005,10006,10060,215,"close","multiply","remove","times"],"f00d","M342.6 150.6c12.5-12.5 12.5-32.8 0-45.3s-32.8-12.5-45.3 0L192 210.7 86.6 105.4c-12.5-12.5-32.8-12.5-45.3 0s-12.5 32.8 0 45.3L146.7 256 41.4 361.4c-12.5 12.5-12.5 32.8 0 45.3s32.8 12.5 45.3 0L192 301.3 297.4 406.6c12.5 12.5 32.8 12.5 45.3 0s12.5-32.8 0-45.3L237.3 256 342.6 150.6z"]},Au={prefix:"fas",iconName:"chevron-left",icon:[320,512,[9001],"f053","M9.4 233.4c-12.5 12.5-12.5 32.8 0 45.3l192 192c12.5 12.5 32.8 12.5 45.3 0s12.5-32.8 0-45.3L77.3 256 246.6 86.6c12.5-12.5 12.5-32.8 0-45.3s-32.8-12.5-45.3 0l-192 192z"]},Pu={prefix:"fas",iconName:"chevron-right",icon:[320,512,[9002],"f054","M310.6 233.4c12.5 12.5 12.5 32.8 0 45.3l-192 192c-12.5 12.5-32.8 12.5-45.3 0s-12.5-32.8 0-45.3L242.7 256 73.4 86.6c-12.5-12.5-12.5-32.8 0-45.3s32.8-12.5 45.3 0l192 192z"]},Nu={prefix:"fas",iconName:"spinner",icon:[512,512,[],"f110","M304 48a48 48 0 1 0 -96 0 48 48 0 1 0 96 0zm0 416a48 48 0 1 0 -96 0 48 48 0 1 0 96 0zM48 304a48 48 0 1 0 0-96 48 48 0 1 0 0 96zm464-48a48 48 0 1 0 -96 0 48 48 0 1 0 96 0zM142.9 437A48 48 0 1 0 75 369.1 48 48 0 1 0 142.9 437zm0-294.2A48 48 0 1 0 75 75a48 48 0 1 0 67.9 67.9zM369.1 437A48 48 0 1 0 437 369.1 48 48 0 1 0 369.1 437z"]},Ru={prefix:"fas",iconName:"check",icon:[448,512,[10003,10004],"f00c","M438.6 105.4c12.5 12.5 12.5 32.8 0 45.3l-256 256c-12.5 12.5-32.8 12.5-45.3 0l-128-128c-12.5-12.5-12.5-32.8 0-45.3s32.8-12.5 45.3 0L160 338.7 393.4 105.4c12.5-12.5 32.8-12.5 45.3 0z"]},Ou={prefix:"fas",iconName:"book-open",icon:[576,512,[128214,128366],"f518","M249.6 471.5c10.8 3.8 22.4-4.1 22.4-15.5l0-377.4c0-4.2-1.6-8.4-5-11C247.4 52 202.4 32 144 32C93.5 32 46.3 45.3 18.1 56.1C6.8 60.5 0 71.7 0 83.8L0 454.1c0 11.9 12.8 20.2 24.1 16.5C55.6 460.1 105.5 448 144 448c33.9 0 79 14 105.6 23.5zm76.8 0C353 462 398.1 448 432 448c38.5 0 88.4 12.1 119.9 22.6c11.3 3.8 24.1-4.6 24.1-16.5l0-370.3c0-12.1-6.8-23.3-18.1-27.6C529.7 45.3 482.5 32 432 32c-58.4 0-103.4 20-123 35.6c-3.3 2.6-5 6.8-5 11L304 456c0 11.4 11.7 19.3 22.4 15.5z"]};var Du,ju,Lu="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof window?window:"undefined"!==typeof global?global:"undefined"!==typeof self?self:{},Mu={};(function(){var e;function t(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}function n(e,t,n){n||(n=0);var r=Array(16);if("string"===typeof t)for(var i=0;16>i;++i)r[i]=t.charCodeAt(n++)|t.charCodeAt(n++)<<8|t.charCodeAt(n++)<<16|t.charCodeAt(n++)<<24;else for(i=0;16>i;++i)r[i]=t[n++]|t[n++]<<8|t[n++]<<16|t[n++]<<24;t=e.g[0],n=e.g[1],i=e.g[2];var a=e.g[3],s=t+(a^n&(i^a))+r[0]+3614090360&4294967295;s=(n=(i=(a=(t=(n=(i=(a=(t=(n=(i=(a=(t=(n=(i=(a=(t=(n=(i=(a=(t=(n=(i=(a=(t=(n=(i=(a=(t=(n=(i=(a=(t=(n=(i=(a=(t=(n=(i=(a=(t=(n=(i=(a=(t=(n=(i=(a=(t=(n=(i=(a=(t=(n=(i=(a=(t=(n=(i=(a=(t=n+(s<<7&4294967295|s>>>25))+((s=a+(i^t&(n^i))+r[1]+3905402710&4294967295)<<12&4294967295|s>>>20))+((s=i+(n^a&(t^n))+r[2]+606105819&4294967295)<<17&4294967295|s>>>15))+((s=n+(t^i&(a^t))+r[3]+3250441966&4294967295)<<22&4294967295|s>>>10))+((s=t+(a^n&(i^a))+r[4]+4118548399&4294967295)<<7&4294967295|s>>>25))+((s=a+(i^t&(n^i))+r[5]+1200080426&4294967295)<<12&4294967295|s>>>20))+((s=i+(n^a&(t^n))+r[6]+2821735955&4294967295)<<17&4294967295|s>>>15))+((s=n+(t^i&(a^t))+r[7]+4249261313&4294967295)<<22&4294967295|s>>>10))+((s=t+(a^n&(i^a))+r[8]+1770035416&4294967295)<<7&4294967295|s>>>25))+((s=a+(i^t&(n^i))+r[9]+2336552879&4294967295)<<12&4294967295|s>>>20))+((s=i+(n^a&(t^n))+r[10]+4294925233&4294967295)<<17&4294967295|s>>>15))+((s=n+(t^i&(a^t))+r[11]+2304563134&4294967295)<<22&4294967295|s>>>10))+((s=t+(a^n&(i^a))+r[12]+1804603682&4294967295)<<7&4294967295|s>>>25))+((s=a+(i^t&(n^i))+r[13]+4254626195&4294967295)<<12&4294967295|s>>>20))+((s=i+(n^a&(t^n))+r[14]+2792965006&4294967295)<<17&4294967295|s>>>15))+((s=n+(t^i&(a^t))+r[15]+1236535329&4294967295)<<22&4294967295|s>>>10))+((s=t+(i^a&(n^i))+r[1]+4129170786&4294967295)<<5&4294967295|s>>>27))+((s=a+(n^i&(t^n))+r[6]+3225465664&4294967295)<<9&4294967295|s>>>23))+((s=i+(t^n&(a^t))+r[11]+643717713&4294967295)<<14&4294967295|s>>>18))+((s=n+(a^t&(i^a))+r[0]+3921069994&4294967295)<<20&4294967295|s>>>12))+((s=t+(i^a&(n^i))+r[5]+3593408605&4294967295)<<5&4294967295|s>>>27))+((s=a+(n^i&(t^n))+r[10]+38016083&4294967295)<<9&4294967295|s>>>23))+((s=i+(t^n&(a^t))+r[15]+3634488961&4294967295)<<14&4294967295|s>>>18))+((s=n+(a^t&(i^a))+r[4]+3889429448&4294967295)<<20&4294967295|s>>>12))+((s=t+(i^a&(n^i))+r[9]+568446438&4294967295)<<5&4294967295|s>>>27))+((s=a+(n^i&(t^n))+r[14]+3275163606&4294967295)<<9&4294967295|s>>>23))+((s=i+(t^n&(a^t))+r[3]+4107603335&4294967295)<<14&4294967295|s>>>18))+((s=n+(a^t&(i^a))+r[8]+1163531501&4294967295)<<20&4294967295|s>>>12))+((s=t+(i^a&(n^i))+r[13]+2850285829&4294967295)<<5&4294967295|s>>>27))+((s=a+(n^i&(t^n))+r[2]+4243563512&4294967295)<<9&4294967295|s>>>23))+((s=i+(t^n&(a^t))+r[7]+1735328473&4294967295)<<14&4294967295|s>>>18))+((s=n+(a^t&(i^a))+r[12]+2368359562&4294967295)<<20&4294967295|s>>>12))+((s=t+(n^i^a)+r[5]+4294588738&4294967295)<<4&4294967295|s>>>28))+((s=a+(t^n^i)+r[8]+2272392833&4294967295)<<11&4294967295|s>>>21))+((s=i+(a^t^n)+r[11]+1839030562&4294967295)<<16&4294967295|s>>>16))+((s=n+(i^a^t)+r[14]+4259657740&4294967295)<<23&4294967295|s>>>9))+((s=t+(n^i^a)+r[1]+2763975236&4294967295)<<4&4294967295|s>>>28))+((s=a+(t^n^i)+r[4]+1272893353&4294967295)<<11&4294967295|s>>>21))+((s=i+(a^t^n)+r[7]+4139469664&4294967295)<<16&4294967295|s>>>16))+((s=n+(i^a^t)+r[10]+3200236656&4294967295)<<23&4294967295|s>>>9))+((s=t+(n^i^a)+r[13]+681279174&4294967295)<<4&4294967295|s>>>28))+((s=a+(t^n^i)+r[0]+3936430074&4294967295)<<11&4294967295|s>>>21))+((s=i+(a^t^n)+r[3]+3572445317&4294967295)<<16&4294967295|s>>>16))+((s=n+(i^a^t)+r[6]+76029189&4294967295)<<23&4294967295|s>>>9))+((s=t+(n^i^a)+r[9]+3654602809&4294967295)<<4&4294967295|s>>>28))+((s=a+(t^n^i)+r[12]+3873151461&4294967295)<<11&4294967295|s>>>21))+((s=i+(a^t^n)+r[15]+530742520&4294967295)<<16&4294967295|s>>>16))+((s=n+(i^a^t)+r[2]+3299628645&4294967295)<<23&4294967295|s>>>9))+((s=t+(i^(n|~a))+r[0]+4096336452&4294967295)<<6&4294967295|s>>>26))+((s=a+(n^(t|~i))+r[7]+1126891415&4294967295)<<10&4294967295|s>>>22))+((s=i+(t^(a|~n))+r[14]+2878612391&4294967295)<<15&4294967295|s>>>17))+((s=n+(a^(i|~t))+r[5]+4237533241&4294967295)<<21&4294967295|s>>>11))+((s=t+(i^(n|~a))+r[12]+1700485571&4294967295)<<6&4294967295|s>>>26))+((s=a+(n^(t|~i))+r[3]+2399980690&4294967295)<<10&4294967295|s>>>22))+((s=i+(t^(a|~n))+r[10]+4293915773&4294967295)<<15&4294967295|s>>>17))+((s=n+(a^(i|~t))+r[1]+2240044497&4294967295)<<21&4294967295|s>>>11))+((s=t+(i^(n|~a))+r[8]+1873313359&4294967295)<<6&4294967295|s>>>26))+((s=a+(n^(t|~i))+r[15]+4264355552&4294967295)<<10&4294967295|s>>>22))+((s=i+(t^(a|~n))+r[6]+2734768916&4294967295)<<15&4294967295|s>>>17))+((s=n+(a^(i|~t))+r[13]+1309151649&4294967295)<<21&4294967295|s>>>11))+((a=(t=n+((s=t+(i^(n|~a))+r[4]+4149444226&4294967295)<<6&4294967295|s>>>26))+((s=a+(n^(t|~i))+r[11]+3174756917&4294967295)<<10&4294967295|s>>>22))^((i=a+((s=i+(t^(a|~n))+r[2]+718787259&4294967295)<<15&4294967295|s>>>17))|~t))+r[9]+3951481745&4294967295,e.g[0]=e.g[0]+t&4294967295,e.g[1]=e.g[1]+(i+(s<<21&4294967295|s>>>11))&4294967295,e.g[2]=e.g[2]+i&4294967295,e.g[3]=e.g[3]+a&4294967295}function r(e,t){this.h=t;for(var n=[],r=!0,i=e.length-1;0<=i;i--){var a=0|e[i];r&&a==t||(n[i]=a,r=!1)}this.g=n}!function(e,t){function n(){}n.prototype=t.prototype,e.D=t.prototype,e.prototype=new n,e.prototype.constructor=e,e.C=function(e,n,r){for(var i=Array(arguments.length-2),a=2;a<arguments.length;a++)i[a-2]=arguments[a];return t.prototype[n].apply(e,i)}}(t,(function(){this.blockSize=-1})),t.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0},t.prototype.u=function(e,t){void 0===t&&(t=e.length);for(var r=t-this.blockSize,i=this.B,a=this.h,s=0;s<t;){if(0==a)for(;s<=r;)n(this,e,s),s+=this.blockSize;if("string"===typeof e){for(;s<t;)if(i[a++]=e.charCodeAt(s++),a==this.blockSize){n(this,i),a=0;break}}else for(;s<t;)if(i[a++]=e[s++],a==this.blockSize){n(this,i),a=0;break}}this.h=a,this.o+=t},t.prototype.v=function(){var e=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);e[0]=128;for(var t=1;t<e.length-8;++t)e[t]=0;var n=8*this.o;for(t=e.length-8;t<e.length;++t)e[t]=255&n,n/=256;for(this.u(e),e=Array(16),t=n=0;4>t;++t)for(var r=0;32>r;r+=8)e[n++]=this.g[t]>>>r&255;return e};var i={};function a(e){return-128<=e&&128>e?function(e,t){var n=i;return Object.prototype.hasOwnProperty.call(n,e)?n[e]:n[e]=t(e)}(e,(function(e){return new r([0|e],0>e?-1:0)})):new r([0|e],0>e?-1:0)}function s(e){if(isNaN(e)||!isFinite(e))return o;if(0>e)return h(s(-e));for(var t=[],n=1,i=0;e>=n;i++)t[i]=e/n|0,n*=4294967296;return new r(t,0)}var o=a(0),l=a(1),c=a(16777216);function u(e){if(0!=e.h)return!1;for(var t=0;t<e.g.length;t++)if(0!=e.g[t])return!1;return!0}function d(e){return-1==e.h}function h(e){for(var t=e.g.length,n=[],i=0;i<t;i++)n[i]=~e.g[i];return new r(n,~e.h).add(l)}function f(e,t){return e.add(h(t))}function p(e,t){for(;(65535&e[t])!=e[t];)e[t+1]+=e[t]>>>16,e[t]&=65535,t++}function m(e,t){this.g=e,this.h=t}function g(e,t){if(u(t))throw Error("division by zero");if(u(e))return new m(o,o);if(d(e))return t=g(h(e),t),new m(h(t.g),h(t.h));if(d(t))return t=g(e,h(t)),new m(h(t.g),t.h);if(30<e.g.length){if(d(e)||d(t))throw Error("slowDivide_ only works with positive integers.");for(var n=l,r=t;0>=r.l(e);)n=y(n),r=y(r);var i=v(n,1),a=v(r,1);for(r=v(r,2),n=v(n,2);!u(r);){var c=a.add(r);0>=c.l(e)&&(i=i.add(n),a=c),r=v(r,1),n=v(n,1)}return t=f(e,i.j(t)),new m(i,t)}for(i=o;0<=e.l(t);){for(n=Math.max(1,Math.floor(e.m()/t.m())),r=48>=(r=Math.ceil(Math.log(n)/Math.LN2))?1:Math.pow(2,r-48),c=(a=s(n)).j(t);d(c)||0<c.l(e);)c=(a=s(n-=r)).j(t);u(a)&&(a=l),i=i.add(a),e=f(e,c)}return new m(i,e)}function y(e){for(var t=e.g.length+1,n=[],i=0;i<t;i++)n[i]=e.i(i)<<1|e.i(i-1)>>>31;return new r(n,e.h)}function v(e,t){var n=t>>5;t%=32;for(var i=e.g.length-n,a=[],s=0;s<i;s++)a[s]=0<t?e.i(s+n)>>>t|e.i(s+n+1)<<32-t:e.i(s+n);return new r(a,e.h)}(e=r.prototype).m=function(){if(d(this))return-h(this).m();for(var e=0,t=1,n=0;n<this.g.length;n++){var r=this.i(n);e+=(0<=r?r:4294967296+r)*t,t*=4294967296}return e},e.toString=function(e){if(2>(e=e||10)||36<e)throw Error("radix out of range: "+e);if(u(this))return"0";if(d(this))return"-"+h(this).toString(e);for(var t=s(Math.pow(e,6)),n=this,r="";;){var i=g(n,t).g,a=((0<(n=f(n,i.j(t))).g.length?n.g[0]:n.h)>>>0).toString(e);if(u(n=i))return a+r;for(;6>a.length;)a="0"+a;r=a+r}},e.i=function(e){return 0>e?0:e<this.g.length?this.g[e]:this.h},e.l=function(e){return d(e=f(this,e))?-1:u(e)?0:1},e.abs=function(){return d(this)?h(this):this},e.add=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],i=0,a=0;a<=t;a++){var s=i+(65535&this.i(a))+(65535&e.i(a)),o=(s>>>16)+(this.i(a)>>>16)+(e.i(a)>>>16);i=o>>>16,s&=65535,o&=65535,n[a]=o<<16|s}return new r(n,-2147483648&n[n.length-1]?-1:0)},e.j=function(e){if(u(this)||u(e))return o;if(d(this))return d(e)?h(this).j(h(e)):h(h(this).j(e));if(d(e))return h(this.j(h(e)));if(0>this.l(c)&&0>e.l(c))return s(this.m()*e.m());for(var t=this.g.length+e.g.length,n=[],i=0;i<2*t;i++)n[i]=0;for(i=0;i<this.g.length;i++)for(var a=0;a<e.g.length;a++){var l=this.i(i)>>>16,f=65535&this.i(i),m=e.i(a)>>>16,g=65535&e.i(a);n[2*i+2*a]+=f*g,p(n,2*i+2*a),n[2*i+2*a+1]+=l*g,p(n,2*i+2*a+1),n[2*i+2*a+1]+=f*m,p(n,2*i+2*a+1),n[2*i+2*a+2]+=l*m,p(n,2*i+2*a+2)}for(i=0;i<t;i++)n[i]=n[2*i+1]<<16|n[2*i];for(i=t;i<2*t;i++)n[i]=0;return new r(n,0)},e.A=function(e){return g(this,e).h},e.and=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],i=0;i<t;i++)n[i]=this.i(i)&e.i(i);return new r(n,this.h&e.h)},e.or=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],i=0;i<t;i++)n[i]=this.i(i)|e.i(i);return new r(n,this.h|e.h)},e.xor=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],i=0;i<t;i++)n[i]=this.i(i)^e.i(i);return new r(n,this.h^e.h)},t.prototype.digest=t.prototype.v,t.prototype.reset=t.prototype.s,t.prototype.update=t.prototype.u,ju=Mu.Md5=t,r.prototype.add=r.prototype.add,r.prototype.multiply=r.prototype.j,r.prototype.modulo=r.prototype.A,r.prototype.compare=r.prototype.l,r.prototype.toNumber=r.prototype.m,r.prototype.toString=r.prototype.toString,r.prototype.getBits=r.prototype.i,r.fromNumber=s,r.fromString=function e(t,n){if(0==t.length)throw Error("number format error: empty string");if(2>(n=n||10)||36<n)throw Error("radix out of range: "+n);if("-"==t.charAt(0))return h(e(t.substring(1),n));if(0<=t.indexOf("-"))throw Error('number format error: interior "-" character');for(var r=s(Math.pow(n,8)),i=o,a=0;a<t.length;a+=8){var l=Math.min(8,t.length-a),c=parseInt(t.substring(a,a+l),n);8>l?(l=s(Math.pow(n,l)),i=i.j(l).add(s(c))):i=(i=i.j(r)).add(s(c))}return i},Du=Mu.Integer=r}).apply("undefined"!==typeof Lu?Lu:"undefined"!==typeof self?self:"undefined"!==typeof window?window:{});var Fu,zu,Uu,Vu,qu,Bu,$u,Hu,Wu="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof window?window:"undefined"!==typeof global?global:"undefined"!==typeof self?self:{},Qu={};(function(){var e,t="function"==typeof Object.defineProperties?Object.defineProperty:function(e,t,n){return e==Array.prototype||e==Object.prototype||(e[t]=n.value),e};var n=function(e){e=["object"==typeof globalThis&&globalThis,e,"object"==typeof window&&window,"object"==typeof self&&self,"object"==typeof Wu&&Wu];for(var t=0;t<e.length;++t){var n=e[t];if(n&&n.Math==Math)return n}throw Error("Cannot find global object")}(this);!function(e,r){if(r)e:{var i=n;e=e.split(".");for(var a=0;a<e.length-1;a++){var s=e[a];if(!(s in i))break e;i=i[s]}(r=r(a=i[e=e[e.length-1]]))!=a&&null!=r&&t(i,e,{configurable:!0,writable:!0,value:r})}}("Array.prototype.values",(function(e){return e||function(){return function(e,t){e instanceof String&&(e+="");var n=0,r=!1,i={next:function(){if(!r&&n<e.length){var i=n++;return{value:t(i,e[i]),done:!1}}return r=!0,{done:!0,value:void 0}}};return i[Symbol.iterator]=function(){return i},i}(this,(function(e,t){return t}))}}));var r=r||{},i=this||self;function a(e){var t=typeof e;return"array"==(t="object"!=t?t:e?Array.isArray(e)?"array":t:"null")||"object"==t&&"number"==typeof e.length}function s(e){var t=typeof e;return"object"==t&&null!=e||"function"==t}function o(e,t,n){return e.call.apply(e.bind,arguments)}function l(e,t,n){if(!e)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,r),e.apply(t,n)}}return function(){return e.apply(t,arguments)}}function c(e,t,n){return(c=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?o:l).apply(null,arguments)}function u(e,t){var n=Array.prototype.slice.call(arguments,1);return function(){var t=n.slice();return t.push.apply(t,arguments),e.apply(this,t)}}function d(e,t){function n(){}n.prototype=t.prototype,e.aa=t.prototype,e.prototype=new n,e.prototype.constructor=e,e.Qb=function(e,n,r){for(var i=Array(arguments.length-2),a=2;a<arguments.length;a++)i[a-2]=arguments[a];return t.prototype[n].apply(e,i)}}function h(e){const t=e.length;if(0<t){const n=Array(t);for(let r=0;r<t;r++)n[r]=e[r];return n}return[]}function f(e,t){for(let n=1;n<arguments.length;n++){const t=arguments[n];if(a(t)){const n=e.length||0,r=t.length||0;e.length=n+r;for(let i=0;i<r;i++)e[n+i]=t[i]}else e.push(t)}}function p(e){return/^[\s\xa0]*$/.test(e)}function m(){var e=i.navigator;return e&&(e=e.userAgent)?e:""}function g(e){return g[" "](e),e}g[" "]=function(){};var y=-1!=m().indexOf("Gecko")&&!(-1!=m().toLowerCase().indexOf("webkit")&&-1==m().indexOf("Edge"))&&!(-1!=m().indexOf("Trident")||-1!=m().indexOf("MSIE"))&&-1==m().indexOf("Edge");function v(e,t,n){for(const r in e)t.call(n,e[r],r,e)}function b(e){const t={};for(const n in e)t[n]=e[n];return t}const w="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function x(e,t){let n,r;for(let i=1;i<arguments.length;i++){for(n in r=arguments[i],r)e[n]=r[n];for(let t=0;t<w.length;t++)n=w[t],Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}}function S(e){var t=1;e=e.split(":");const n=[];for(;0<t&&e.length;)n.push(e.shift()),t--;return e.length&&n.push(e.join(":")),n}function E(e){i.setTimeout((()=>{throw e}),0)}function k(){var e=A;let t=null;return e.g&&(t=e.g,e.g=e.g.next,e.g||(e.h=null),t.next=null),t}var _=new class{constructor(e,t){this.i=e,this.j=t,this.h=0,this.g=null}get(){let e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}((()=>new C),(e=>e.reset()));class C{constructor(){this.next=this.g=this.h=null}set(e,t){this.h=e,this.g=t,this.next=null}reset(){this.next=this.g=this.h=null}}let T,I=!1,A=new class{constructor(){this.h=this.g=null}add(e,t){const n=_.get();n.set(e,t),this.h?this.h.next=n:this.g=n,this.h=n}},P=()=>{const e=i.Promise.resolve(void 0);T=()=>{e.then(N)}};var N=()=>{for(var e;e=k();){try{e.h.call(e.g)}catch(n){E(n)}var t=_;t.j(e),100>t.h&&(t.h++,e.next=t.g,t.g=e)}I=!1};function R(){this.s=this.s,this.C=this.C}function O(e,t){this.type=e,this.g=this.target=t,this.defaultPrevented=!1}R.prototype.s=!1,R.prototype.ma=function(){this.s||(this.s=!0,this.N())},R.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()},O.prototype.h=function(){this.defaultPrevented=!0};var D=function(){if(!i.addEventListener||!Object.defineProperty)return!1;var e=!1,t=Object.defineProperty({},"passive",{get:function(){e=!0}});try{const e=()=>{};i.addEventListener("test",e,t),i.removeEventListener("test",e,t)}catch(n){}return e}();function j(e,t){if(O.call(this,e?e.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,e){var n=this.type=e.type,r=e.changedTouches&&e.changedTouches.length?e.changedTouches[0]:null;if(this.target=e.target||e.srcElement,this.g=t,t=e.relatedTarget){if(y){e:{try{g(t.nodeName);var i=!0;break e}catch(a){}i=!1}i||(t=null)}}else"mouseover"==n?t=e.fromElement:"mouseout"==n&&(t=e.toElement);this.relatedTarget=t,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==e.clientX?e.clientX:e.pageX,this.clientY=void 0!==e.clientY?e.clientY:e.pageY,this.screenX=e.screenX||0,this.screenY=e.screenY||0),this.button=e.button,this.key=e.key||"",this.ctrlKey=e.ctrlKey,this.altKey=e.altKey,this.shiftKey=e.shiftKey,this.metaKey=e.metaKey,this.pointerId=e.pointerId||0,this.pointerType="string"===typeof e.pointerType?e.pointerType:L[e.pointerType]||"",this.state=e.state,this.i=e,e.defaultPrevented&&j.aa.h.call(this)}}d(j,O);var L={2:"touch",3:"pen",4:"mouse"};j.prototype.h=function(){j.aa.h.call(this);var e=this.i;e.preventDefault?e.preventDefault():e.returnValue=!1};var M="closure_listenable_"+(1e6*Math.random()|0),F=0;function z(e,t,n,r,i){this.listener=e,this.proxy=null,this.src=t,this.type=n,this.capture=!!r,this.ha=i,this.key=++F,this.da=this.fa=!1}function U(e){e.da=!0,e.listener=null,e.proxy=null,e.src=null,e.ha=null}function V(e){this.src=e,this.g={},this.h=0}function q(e,t){var n=t.type;if(n in e.g){var r,i=e.g[n],a=Array.prototype.indexOf.call(i,t,void 0);(r=0<=a)&&Array.prototype.splice.call(i,a,1),r&&(U(t),0==e.g[n].length&&(delete e.g[n],e.h--))}}function B(e,t,n,r){for(var i=0;i<e.length;++i){var a=e[i];if(!a.da&&a.listener==t&&a.capture==!!n&&a.ha==r)return i}return-1}V.prototype.add=function(e,t,n,r,i){var a=e.toString();(e=this.g[a])||(e=this.g[a]=[],this.h++);var s=B(e,t,r,i);return-1<s?(t=e[s],n||(t.fa=!1)):((t=new z(t,this.src,a,!!r,i)).fa=n,e.push(t)),t};var $="closure_lm_"+(1e6*Math.random()|0),H={};function W(e,t,n,r,i){if(r&&r.once)return K(e,t,n,r,i);if(Array.isArray(t)){for(var a=0;a<t.length;a++)W(e,t[a],n,r,i);return null}return n=te(n),e&&e[M]?e.K(t,n,s(r)?!!r.capture:!!r,i):Q(e,t,n,!1,r,i)}function Q(e,t,n,r,i,a){if(!t)throw Error("Invalid event type");var o=s(i)?!!i.capture:!!i,l=Z(e);if(l||(e[$]=l=new V(e)),(n=l.add(t,n,r,o,a)).proxy)return n;if(r=function(){function e(n){return t.call(e.src,e.listener,n)}const t=J;return e}(),n.proxy=r,r.src=e,r.listener=n,e.addEventListener)D||(i=o),void 0===i&&(i=!1),e.addEventListener(t.toString(),r,i);else if(e.attachEvent)e.attachEvent(X(t.toString()),r);else{if(!e.addListener||!e.removeListener)throw Error("addEventListener and attachEvent are unavailable.");e.addListener(r)}return n}function K(e,t,n,r,i){if(Array.isArray(t)){for(var a=0;a<t.length;a++)K(e,t[a],n,r,i);return null}return n=te(n),e&&e[M]?e.L(t,n,s(r)?!!r.capture:!!r,i):Q(e,t,n,!0,r,i)}function G(e,t,n,r,i){if(Array.isArray(t))for(var a=0;a<t.length;a++)G(e,t[a],n,r,i);else r=s(r)?!!r.capture:!!r,n=te(n),e&&e[M]?(e=e.i,(t=String(t).toString())in e.g&&(-1<(n=B(a=e.g[t],n,r,i))&&(U(a[n]),Array.prototype.splice.call(a,n,1),0==a.length&&(delete e.g[t],e.h--)))):e&&(e=Z(e))&&(t=e.g[t.toString()],e=-1,t&&(e=B(t,n,r,i)),(n=-1<e?t[e]:null)&&Y(n))}function Y(e){if("number"!==typeof e&&e&&!e.da){var t=e.src;if(t&&t[M])q(t.i,e);else{var n=e.type,r=e.proxy;t.removeEventListener?t.removeEventListener(n,r,e.capture):t.detachEvent?t.detachEvent(X(n),r):t.addListener&&t.removeListener&&t.removeListener(r),(n=Z(t))?(q(n,e),0==n.h&&(n.src=null,t[$]=null)):U(e)}}}function X(e){return e in H?H[e]:H[e]="on"+e}function J(e,t){if(e.da)e=!0;else{t=new j(t,this);var n=e.listener,r=e.ha||e.src;e.fa&&Y(e),e=n.call(r,t)}return e}function Z(e){return(e=e[$])instanceof V?e:null}var ee="__closure_events_fn_"+(1e9*Math.random()>>>0);function te(e){return"function"===typeof e?e:(e[ee]||(e[ee]=function(t){return e.handleEvent(t)}),e[ee])}function ne(){R.call(this),this.i=new V(this),this.M=this,this.F=null}function re(e,t){var n,r=e.F;if(r)for(n=[];r;r=r.F)n.push(r);if(e=e.M,r=t.type||t,"string"===typeof t)t=new O(t,e);else if(t instanceof O)t.target=t.target||e;else{var i=t;x(t=new O(r,e),i)}if(i=!0,n)for(var a=n.length-1;0<=a;a--){var s=t.g=n[a];i=ie(s,r,!0,t)&&i}if(i=ie(s=t.g=e,r,!0,t)&&i,i=ie(s,r,!1,t)&&i,n)for(a=0;a<n.length;a++)i=ie(s=t.g=n[a],r,!1,t)&&i}function ie(e,t,n,r){if(!(t=e.i.g[String(t)]))return!0;t=t.concat();for(var i=!0,a=0;a<t.length;++a){var s=t[a];if(s&&!s.da&&s.capture==n){var o=s.listener,l=s.ha||s.src;s.fa&&q(e.i,s),i=!1!==o.call(l,r)&&i}}return i&&!r.defaultPrevented}function ae(e,t,n){if("function"===typeof e)n&&(e=c(e,n));else{if(!e||"function"!=typeof e.handleEvent)throw Error("Invalid listener argument");e=c(e.handleEvent,e)}return 2147483647<Number(t)?-1:i.setTimeout(e,t||0)}function se(e){e.g=ae((()=>{e.g=null,e.i&&(e.i=!1,se(e))}),e.l);const t=e.h;e.h=null,e.m.apply(null,t)}d(ne,R),ne.prototype[M]=!0,ne.prototype.removeEventListener=function(e,t,n,r){G(this,e,t,n,r)},ne.prototype.N=function(){if(ne.aa.N.call(this),this.i){var e,t=this.i;for(e in t.g){for(var n=t.g[e],r=0;r<n.length;r++)U(n[r]);delete t.g[e],t.h--}}this.F=null},ne.prototype.K=function(e,t,n,r){return this.i.add(String(e),t,!1,n,r)},ne.prototype.L=function(e,t,n,r){return this.i.add(String(e),t,!0,n,r)};class oe extends R{constructor(e,t){super(),this.m=e,this.l=t,this.h=null,this.i=!1,this.g=null}j(e){this.h=arguments,this.g?this.i=!0:se(this)}N(){super.N(),this.g&&(i.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function le(e){R.call(this),this.h=e,this.g={}}d(le,R);var ce=[];function ue(e){v(e.g,(function(e,t){this.g.hasOwnProperty(t)&&Y(e)}),e),e.g={}}le.prototype.N=function(){le.aa.N.call(this),ue(this)},le.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var de=i.JSON.stringify,he=i.JSON.parse,fe=class{stringify(e){return i.JSON.stringify(e,void 0)}parse(e){return i.JSON.parse(e,void 0)}};function pe(){}function me(e){return e.h||(e.h=e.i())}function ge(){}pe.prototype.h=null;var ye={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function ve(){O.call(this,"d")}function be(){O.call(this,"c")}d(ve,O),d(be,O);var we={},xe=null;function Se(){return xe=xe||new ne}function Ee(e){O.call(this,we.La,e)}function ke(e){const t=Se();re(t,new Ee(t))}function _e(e,t){O.call(this,we.STAT_EVENT,e),this.stat=t}function Ce(e){const t=Se();re(t,new _e(t,e))}function Te(e,t){O.call(this,we.Ma,e),this.size=t}function Ie(e,t){if("function"!==typeof e)throw Error("Fn must not be null and must be a function");return i.setTimeout((function(){e()}),t)}function Ae(){this.g=!0}function Pe(e,t,n,r){e.info((function(){return"XMLHTTP TEXT ("+t+"): "+function(e,t){if(!e.g)return t;if(!t)return null;try{var n=JSON.parse(t);if(n)for(e=0;e<n.length;e++)if(Array.isArray(n[e])){var r=n[e];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var a=i[0];if("noop"!=a&&"stop"!=a&&"close"!=a)for(var s=1;s<i.length;s++)i[s]=""}}}return de(n)}catch(o){return t}}(e,n)+(r?" "+r:"")}))}we.La="serverreachability",d(Ee,O),we.STAT_EVENT="statevent",d(_e,O),we.Ma="timingevent",d(Te,O),Ae.prototype.xa=function(){this.g=!1},Ae.prototype.info=function(){};var Ne,Re={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Oe={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"};function De(){}function je(e,t,n,r){this.j=e,this.i=t,this.l=n,this.R=r||1,this.U=new le(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new Le}function Le(){this.i=null,this.g="",this.h=!1}d(De,pe),De.prototype.g=function(){return new XMLHttpRequest},De.prototype.i=function(){return{}},Ne=new De;var Me={},Fe={};function ze(e,t,n){e.L=1,e.v=dt(st(t)),e.m=n,e.P=!0,Ue(e,null)}function Ue(e,t){e.F=Date.now(),Be(e),e.A=st(e.v);var n=e.A,r=e.R;Array.isArray(r)||(r=[String(r)]),_t(n.i,"t",r),e.C=0,n=e.j.J,e.h=new Le,e.g=fn(e.j,n?t:null,!e.m),0<e.O&&(e.M=new oe(c(e.Y,e,e.g),e.O)),t=e.U,n=e.g,r=e.ca;var i="readystatechange";Array.isArray(i)||(i&&(ce[0]=i.toString()),i=ce);for(var a=0;a<i.length;a++){var s=W(n,i[a],r||t.handleEvent,!1,t.h||t);if(!s)break;t.g[s.key]=s}t=e.H?b(e.H):{},e.m?(e.u||(e.u="POST"),t["Content-Type"]="application/x-www-form-urlencoded",e.g.ea(e.A,e.u,e.m,t)):(e.u="GET",e.g.ea(e.A,e.u,null,t)),ke(),function(e,t,n,r,i,a){e.info((function(){if(e.g)if(a)for(var s="",o=a.split("&"),l=0;l<o.length;l++){var c=o[l].split("=");if(1<c.length){var u=c[0];c=c[1];var d=u.split("_");s=2<=d.length&&"type"==d[1]?s+(u+"=")+c+"&":s+(u+"=redacted&")}}else s=null;else s=a;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+t+"\n"+n+"\n"+s}))}(e.i,e.u,e.A,e.l,e.R,e.m)}function Ve(e){return!!e.g&&("GET"==e.u&&2!=e.L&&e.j.Ca)}function qe(e,t){var n=e.C,r=t.indexOf("\n",n);return-1==r?Fe:(n=Number(t.substring(n,r)),isNaN(n)?Me:(r+=1)+n>t.length?Fe:(t=t.slice(r,r+n),e.C=r+n,t))}function Be(e){e.S=Date.now()+e.I,$e(e,e.I)}function $e(e,t){if(null!=e.B)throw Error("WatchDog timer not null");e.B=Ie(c(e.ba,e),t)}function He(e){e.B&&(i.clearTimeout(e.B),e.B=null)}function We(e){0==e.j.G||e.J||ln(e.j,e)}function Qe(e){He(e);var t=e.M;t&&"function"==typeof t.ma&&t.ma(),e.M=null,ue(e.U),e.g&&(t=e.g,e.g=null,t.abort(),t.ma())}function Ke(e,t){try{var n=e.j;if(0!=n.G&&(n.g==e||Ze(n.h,e)))if(!e.K&&Ze(n.h,e)&&3==n.G){try{var r=n.Da.g.parse(t)}catch(u){r=null}if(Array.isArray(r)&&3==r.length){var i=r;if(0==i[0]){e:if(!n.u){if(n.g){if(!(n.g.F+3e3<e.F))break e;on(n),Yt(n)}rn(n),Ce(18)}}else n.za=i[1],0<n.za-n.T&&37500>i[2]&&n.F&&0==n.v&&!n.C&&(n.C=Ie(c(n.Za,n),6e3));if(1>=Je(n.h)&&n.ca){try{n.ca()}catch(u){}n.ca=void 0}}else un(n,11)}else if((e.K||n.g==e)&&on(n),!p(t))for(i=n.Da.g.parse(t),t=0;t<i.length;t++){let c=i[t];if(n.T=c[0],c=c[1],2==n.G)if("c"==c[0]){n.K=c[1],n.ia=c[2];const t=c[3];null!=t&&(n.la=t,n.j.info("VER="+n.la));const i=c[4];null!=i&&(n.Aa=i,n.j.info("SVER="+n.Aa));const u=c[5];null!=u&&"number"===typeof u&&0<u&&(r=1.5*u,n.L=r,n.j.info("backChannelRequestTimeoutMs_="+r)),r=n;const d=e.g;if(d){const e=d.g?d.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(e){var a=r.h;a.g||-1==e.indexOf("spdy")&&-1==e.indexOf("quic")&&-1==e.indexOf("h2")||(a.j=a.l,a.g=new Set,a.h&&(et(a,a.h),a.h=null))}if(r.D){const e=d.g?d.g.getResponseHeader("X-HTTP-Session-Id"):null;e&&(r.ya=e,ut(r.I,r.D,e))}}n.G=3,n.l&&n.l.ua(),n.ba&&(n.R=Date.now()-e.F,n.j.info("Handshake RTT: "+n.R+"ms"));var s=e;if((r=n).qa=hn(r,r.J?r.ia:null,r.W),s.K){tt(r.h,s);var o=s,l=r.L;l&&(o.I=l),o.B&&(He(o),Be(o)),r.g=s}else nn(r);0<n.i.length&&Jt(n)}else"stop"!=c[0]&&"close"!=c[0]||un(n,7);else 3==n.G&&("stop"==c[0]||"close"==c[0]?"stop"==c[0]?un(n,7):Gt(n):"noop"!=c[0]&&n.l&&n.l.ta(c),n.v=0)}ke()}catch(u){}}je.prototype.ca=function(e){e=e.target;const t=this.M;t&&3==Ht(e)?t.j():this.Y(e)},je.prototype.Y=function(e){try{if(e==this.g)e:{const h=Ht(this.g);var t=this.g.Ba();this.g.Z();if(!(3>h)&&(3!=h||this.g&&(this.h.h||this.g.oa()||Wt(this.g)))){this.J||4!=h||7==t||ke(),He(this);var n=this.g.Z();this.X=n;t:if(Ve(this)){var r=Wt(this.g);e="";var a=r.length,s=4==Ht(this.g);if(!this.h.i){if("undefined"===typeof TextDecoder){Qe(this),We(this);var o="";break t}this.h.i=new i.TextDecoder}for(t=0;t<a;t++)this.h.h=!0,e+=this.h.i.decode(r[t],{stream:!(s&&t==a-1)});r.length=0,this.h.g+=e,this.C=0,o=this.h.g}else o=this.g.oa();if(this.o=200==n,function(e,t,n,r,i,a,s){e.info((function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+t+"\n"+n+"\n"+a+" "+s}))}(this.i,this.u,this.A,this.l,this.R,h,n),this.o){if(this.T&&!this.K){t:{if(this.g){var l,c=this.g;if((l=c.g?c.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!p(l)){var u=l;break t}}u=null}if(!(n=u)){this.o=!1,this.s=3,Ce(12),Qe(this),We(this);break e}Pe(this.i,this.l,n,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Ke(this,n)}if(this.P){let e;for(n=!0;!this.J&&this.C<o.length;){if(e=qe(this,o),e==Fe){4==h&&(this.s=4,Ce(14),n=!1),Pe(this.i,this.l,null,"[Incomplete Response]");break}if(e==Me){this.s=4,Ce(15),Pe(this.i,this.l,o,"[Invalid Chunk]"),n=!1;break}Pe(this.i,this.l,e,null),Ke(this,e)}if(Ve(this)&&0!=this.C&&(this.h.g=this.h.g.slice(this.C),this.C=0),4!=h||0!=o.length||this.h.h||(this.s=1,Ce(16),n=!1),this.o=this.o&&n,n){if(0<o.length&&!this.W){this.W=!0;var d=this.j;d.g==this&&d.ba&&!d.M&&(d.j.info("Great, no buffering proxy detected. Bytes received: "+o.length),an(d),d.M=!0,Ce(11))}}else Pe(this.i,this.l,o,"[Invalid Chunked Response]"),Qe(this),We(this)}else Pe(this.i,this.l,o,null),Ke(this,o);4==h&&Qe(this),this.o&&!this.J&&(4==h?ln(this.j,this):(this.o=!1,Be(this)))}else(function(e){const t={};e=(e.g&&2<=Ht(e)&&e.g.getAllResponseHeaders()||"").split("\r\n");for(let r=0;r<e.length;r++){if(p(e[r]))continue;var n=S(e[r]);const i=n[0];if("string"!==typeof(n=n[1]))continue;n=n.trim();const a=t[i]||[];t[i]=a,a.push(n)}!function(e,t){for(const n in e)t.call(void 0,e[n],n,e)}(t,(function(e){return e.join(", ")}))})(this.g),400==n&&0<o.indexOf("Unknown SID")?(this.s=3,Ce(12)):(this.s=0,Ce(13)),Qe(this),We(this)}}}catch(al){}},je.prototype.cancel=function(){this.J=!0,Qe(this)},je.prototype.ba=function(){this.B=null;const e=Date.now();0<=e-this.S?(function(e,t){e.info((function(){return"TIMEOUT: "+t}))}(this.i,this.A),2!=this.L&&(ke(),Ce(17)),Qe(this),this.s=2,We(this)):$e(this,this.S-e)};var Ge=class{constructor(e,t){this.g=e,this.map=t}};function Ye(e){this.l=e||10,i.PerformanceNavigationTiming?e=0<(e=i.performance.getEntriesByType("navigation")).length&&("hq"==e[0].nextHopProtocol||"h2"==e[0].nextHopProtocol):e=!!(i.chrome&&i.chrome.loadTimes&&i.chrome.loadTimes()&&i.chrome.loadTimes().wasFetchedViaSpdy),this.j=e?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Xe(e){return!!e.h||!!e.g&&e.g.size>=e.j}function Je(e){return e.h?1:e.g?e.g.size:0}function Ze(e,t){return e.h?e.h==t:!!e.g&&e.g.has(t)}function et(e,t){e.g?e.g.add(t):e.h=t}function tt(e,t){e.h&&e.h==t?e.h=null:e.g&&e.g.has(t)&&e.g.delete(t)}function nt(e){if(null!=e.h)return e.i.concat(e.h.D);if(null!=e.g&&0!==e.g.size){let t=e.i;for(const n of e.g.values())t=t.concat(n.D);return t}return h(e.i)}function rt(e,t){if(e.forEach&&"function"==typeof e.forEach)e.forEach(t,void 0);else if(a(e)||"string"===typeof e)Array.prototype.forEach.call(e,t,void 0);else for(var n=function(e){if(e.na&&"function"==typeof e.na)return e.na();if(!e.V||"function"!=typeof e.V){if("undefined"!==typeof Map&&e instanceof Map)return Array.from(e.keys());if(!("undefined"!==typeof Set&&e instanceof Set)){if(a(e)||"string"===typeof e){var t=[];e=e.length;for(var n=0;n<e;n++)t.push(n);return t}t=[],n=0;for(const r in e)t[n++]=r;return t}}}(e),r=function(e){if(e.V&&"function"==typeof e.V)return e.V();if("undefined"!==typeof Map&&e instanceof Map||"undefined"!==typeof Set&&e instanceof Set)return Array.from(e.values());if("string"===typeof e)return e.split("");if(a(e)){for(var t=[],n=e.length,r=0;r<n;r++)t.push(e[r]);return t}for(r in t=[],n=0,e)t[n++]=e[r];return t}(e),i=r.length,s=0;s<i;s++)t.call(void 0,r[s],n&&n[s],e)}Ye.prototype.cancel=function(){if(this.i=nt(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const e of this.g.values())e.cancel();this.g.clear()}};var it=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function at(e){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,e instanceof at){this.h=e.h,ot(this,e.j),this.o=e.o,this.g=e.g,lt(this,e.s),this.l=e.l;var t=e.i,n=new xt;n.i=t.i,t.g&&(n.g=new Map(t.g),n.h=t.h),ct(this,n),this.m=e.m}else e&&(t=String(e).match(it))?(this.h=!1,ot(this,t[1]||"",!0),this.o=ht(t[2]||""),this.g=ht(t[3]||"",!0),lt(this,t[4]),this.l=ht(t[5]||"",!0),ct(this,t[6]||"",!0),this.m=ht(t[7]||"")):(this.h=!1,this.i=new xt(null,this.h))}function st(e){return new at(e)}function ot(e,t,n){e.j=n?ht(t,!0):t,e.j&&(e.j=e.j.replace(/:$/,""))}function lt(e,t){if(t){if(t=Number(t),isNaN(t)||0>t)throw Error("Bad port number "+t);e.s=t}else e.s=null}function ct(e,t,n){t instanceof xt?(e.i=t,function(e,t){t&&!e.j&&(St(e),e.i=null,e.g.forEach((function(e,t){var n=t.toLowerCase();t!=n&&(Et(this,t),_t(this,n,e))}),e)),e.j=t}(e.i,e.h)):(n||(t=ft(t,bt)),e.i=new xt(t,e.h))}function ut(e,t,n){e.i.set(t,n)}function dt(e){return ut(e,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),e}function ht(e,t){return e?t?decodeURI(e.replace(/%25/g,"%2525")):decodeURIComponent(e):""}function ft(e,t,n){return"string"===typeof e?(e=encodeURI(e).replace(t,pt),n&&(e=e.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),e):null}function pt(e){return"%"+((e=e.charCodeAt(0))>>4&15).toString(16)+(15&e).toString(16)}at.prototype.toString=function(){var e=[],t=this.j;t&&e.push(ft(t,gt,!0),":");var n=this.g;return(n||"file"==t)&&(e.push("//"),(t=this.o)&&e.push(ft(t,gt,!0),"@"),e.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.s)&&e.push(":",String(n))),(n=this.l)&&(this.g&&"/"!=n.charAt(0)&&e.push("/"),e.push(ft(n,"/"==n.charAt(0)?vt:yt,!0))),(n=this.i.toString())&&e.push("?",n),(n=this.m)&&e.push("#",ft(n,wt)),e.join("")};var mt,gt=/[#\/\?@]/g,yt=/[#\?:]/g,vt=/[#\?]/g,bt=/[#\?@]/g,wt=/#/g;function xt(e,t){this.h=this.g=null,this.i=e||null,this.j=!!t}function St(e){e.g||(e.g=new Map,e.h=0,e.i&&function(e,t){if(e){e=e.split("&");for(var n=0;n<e.length;n++){var r=e[n].indexOf("="),i=null;if(0<=r){var a=e[n].substring(0,r);i=e[n].substring(r+1)}else a=e[n];t(a,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(e.i,(function(t,n){e.add(decodeURIComponent(t.replace(/\+/g," ")),n)})))}function Et(e,t){St(e),t=Ct(e,t),e.g.has(t)&&(e.i=null,e.h-=e.g.get(t).length,e.g.delete(t))}function kt(e,t){return St(e),t=Ct(e,t),e.g.has(t)}function _t(e,t,n){Et(e,t),0<n.length&&(e.i=null,e.g.set(Ct(e,t),h(n)),e.h+=n.length)}function Ct(e,t){return t=String(t),e.j&&(t=t.toLowerCase()),t}function Tt(e,t,n,r,i){try{i&&(i.onload=null,i.onerror=null,i.onabort=null,i.ontimeout=null),r(n)}catch(a){}}function It(){this.g=new fe}function At(e,t,n){const r=n||"";try{rt(e,(function(e,n){let i=e;s(e)&&(i=de(e)),t.push(r+n+"="+encodeURIComponent(i))}))}catch(NS){throw t.push(r+"type="+encodeURIComponent("_badmap")),NS}}function Pt(e){this.l=e.Ub||null,this.j=e.eb||!1}function Nt(e,t){ne.call(this),this.D=e,this.o=t,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}function Rt(e){e.j.read().then(e.Pa.bind(e)).catch(e.ga.bind(e))}function Ot(e){e.readyState=4,e.l=null,e.j=null,e.v=null,Dt(e)}function Dt(e){e.onreadystatechange&&e.onreadystatechange.call(e)}function jt(e){let t="";return v(e,(function(e,n){t+=n,t+=":",t+=e,t+="\r\n"})),t}function Lt(e,t,n){e:{for(r in n){var r=!1;break e}r=!0}r||(n=jt(n),"string"===typeof e?null!=n&&encodeURIComponent(String(n)):ut(e,t,n))}function Mt(e){ne.call(this),this.headers=new Map,this.o=e||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}(e=xt.prototype).add=function(e,t){St(this),this.i=null,e=Ct(this,e);var n=this.g.get(e);return n||this.g.set(e,n=[]),n.push(t),this.h+=1,this},e.forEach=function(e,t){St(this),this.g.forEach((function(n,r){n.forEach((function(n){e.call(t,n,r,this)}),this)}),this)},e.na=function(){St(this);const e=Array.from(this.g.values()),t=Array.from(this.g.keys()),n=[];for(let r=0;r<t.length;r++){const i=e[r];for(let e=0;e<i.length;e++)n.push(t[r])}return n},e.V=function(e){St(this);let t=[];if("string"===typeof e)kt(this,e)&&(t=t.concat(this.g.get(Ct(this,e))));else{e=Array.from(this.g.values());for(let n=0;n<e.length;n++)t=t.concat(e[n])}return t},e.set=function(e,t){return St(this),this.i=null,kt(this,e=Ct(this,e))&&(this.h-=this.g.get(e).length),this.g.set(e,[t]),this.h+=1,this},e.get=function(e,t){return e&&0<(e=this.V(e)).length?String(e[0]):t},e.toString=function(){if(this.i)return this.i;if(!this.g)return"";const e=[],t=Array.from(this.g.keys());for(var n=0;n<t.length;n++){var r=t[n];const a=encodeURIComponent(String(r)),s=this.V(r);for(r=0;r<s.length;r++){var i=a;""!==s[r]&&(i+="="+encodeURIComponent(String(s[r]))),e.push(i)}}return this.i=e.join("&")},d(Pt,pe),Pt.prototype.g=function(){return new Nt(this.l,this.j)},Pt.prototype.i=(mt={},function(){return mt}),d(Nt,ne),(e=Nt.prototype).open=function(e,t){if(0!=this.readyState)throw this.abort(),Error("Error reopening a connection");this.B=e,this.A=t,this.readyState=1,Dt(this)},e.send=function(e){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const t={headers:this.u,method:this.B,credentials:this.m,cache:void 0};e&&(t.body=e),(this.D||i).fetch(new Request(this.A,t)).then(this.Sa.bind(this),this.ga.bind(this))},e.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch((()=>{})),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,Ot(this)),this.readyState=0},e.Sa=function(e){if(this.g&&(this.l=e,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=e.headers,this.readyState=2,Dt(this)),this.g&&(this.readyState=3,Dt(this),this.g)))if("arraybuffer"===this.responseType)e.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if("undefined"!==typeof i.ReadableStream&&"body"in e){if(this.j=e.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Rt(this)}else e.text().then(this.Ra.bind(this),this.ga.bind(this))},e.Pa=function(e){if(this.g){if(this.o&&e.value)this.response.push(e.value);else if(!this.o){var t=e.value?e.value:new Uint8Array(0);(t=this.v.decode(t,{stream:!e.done}))&&(this.response=this.responseText+=t)}e.done?Ot(this):Dt(this),3==this.readyState&&Rt(this)}},e.Ra=function(e){this.g&&(this.response=this.responseText=e,Ot(this))},e.Qa=function(e){this.g&&(this.response=e,Ot(this))},e.ga=function(){this.g&&Ot(this)},e.setRequestHeader=function(e,t){this.u.append(e,t)},e.getResponseHeader=function(e){return this.h&&this.h.get(e.toLowerCase())||""},e.getAllResponseHeaders=function(){if(!this.h)return"";const e=[],t=this.h.entries();for(var n=t.next();!n.done;)n=n.value,e.push(n[0]+": "+n[1]),n=t.next();return e.join("\r\n")},Object.defineProperty(Nt.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(e){this.m=e?"include":"same-origin"}}),d(Mt,ne);var Ft=/^https?$/i,zt=["POST","PUT"];function Ut(e,t){e.h=!1,e.g&&(e.j=!0,e.g.abort(),e.j=!1),e.l=t,e.m=5,Vt(e),Bt(e)}function Vt(e){e.A||(e.A=!0,re(e,"complete"),re(e,"error"))}function qt(e){if(e.h&&"undefined"!=typeof r&&(!e.v[1]||4!=Ht(e)||2!=e.Z()))if(e.u&&4==Ht(e))ae(e.Ea,0,e);else if(re(e,"readystatechange"),4==Ht(e)){e.h=!1;try{const r=e.Z();e:switch(r){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var t=!0;break e;default:t=!1}var n;if(!(n=t)){var a;if(a=0===r){var s=String(e.D).match(it)[1]||null;!s&&i.self&&i.self.location&&(s=i.self.location.protocol.slice(0,-1)),a=!Ft.test(s?s.toLowerCase():"")}n=a}if(n)re(e,"complete"),re(e,"success");else{e.m=6;try{var o=2<Ht(e)?e.g.statusText:""}catch(l){o=""}e.l=o+" ["+e.Z()+"]",Vt(e)}}finally{Bt(e)}}}function Bt(e,t){if(e.g){$t(e);const n=e.g,r=e.v[0]?()=>{}:null;e.g=null,e.v=null,t||re(e,"ready");try{n.onreadystatechange=r}catch(NS){}}}function $t(e){e.I&&(i.clearTimeout(e.I),e.I=null)}function Ht(e){return e.g?e.g.readyState:0}function Wt(e){try{if(!e.g)return null;if("response"in e.g)return e.g.response;switch(e.H){case"":case"text":return e.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in e.g)return e.g.mozResponseArrayBuffer}return null}catch(Gu){return null}}function Qt(e,t,n){return n&&n.internalChannelParams&&n.internalChannelParams[e]||t}function Kt(e){this.Aa=0,this.i=[],this.j=new Ae,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Qt("failFast",!1,e),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Qt("baseRetryDelayMs",5e3,e),this.cb=Qt("retryDelaySeedMs",1e4,e),this.Wa=Qt("forwardChannelMaxRetries",2,e),this.wa=Qt("forwardChannelRequestTimeoutMs",2e4,e),this.pa=e&&e.xmlHttpFactory||void 0,this.Xa=e&&e.Tb||void 0,this.Ca=e&&e.useFetchStreams||!1,this.L=void 0,this.J=e&&e.supportsCrossDomainXhr||!1,this.K="",this.h=new Ye(e&&e.concurrentRequestLimit),this.Da=new It,this.P=e&&e.fastHandshake||!1,this.O=e&&e.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=e&&e.Rb||!1,e&&e.xa&&this.j.xa(),e&&e.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&e&&e.detectBufferingProxy||!1,this.ja=void 0,e&&e.longPollingTimeout&&0<e.longPollingTimeout&&(this.ja=e.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}function Gt(e){if(Xt(e),3==e.G){var t=e.U++,n=st(e.I);if(ut(n,"SID",e.K),ut(n,"RID",t),ut(n,"TYPE","terminate"),en(e,n),(t=new je(e,e.j,t)).L=2,t.v=dt(st(n)),n=!1,i.navigator&&i.navigator.sendBeacon)try{n=i.navigator.sendBeacon(t.v.toString(),"")}catch(r){}!n&&i.Image&&((new Image).src=t.v,n=!0),n||(t.g=fn(t.j,null),t.g.ea(t.v)),t.F=Date.now(),Be(t)}dn(e)}function Yt(e){e.g&&(an(e),e.g.cancel(),e.g=null)}function Xt(e){Yt(e),e.u&&(i.clearTimeout(e.u),e.u=null),on(e),e.h.cancel(),e.s&&("number"===typeof e.s&&i.clearTimeout(e.s),e.s=null)}function Jt(e){if(!Xe(e.h)&&!e.s){e.s=!0;var t=e.Ga;T||P(),I||(T(),I=!0),A.add(t,e),e.B=0}}function Zt(e,t){var n;n=t?t.l:e.U++;const r=st(e.I);ut(r,"SID",e.K),ut(r,"RID",n),ut(r,"AID",e.T),en(e,r),e.m&&e.o&&Lt(r,e.m,e.o),n=new je(e,e.j,n,e.B+1),null===e.m&&(n.H=e.o),t&&(e.i=t.D.concat(e.i)),t=tn(e,n,1e3),n.I=Math.round(.5*e.wa)+Math.round(.5*e.wa*Math.random()),et(e.h,n),ze(n,r,t)}function en(e,t){e.H&&v(e.H,(function(e,n){ut(t,n,e)})),e.l&&rt({},(function(e,n){ut(t,n,e)}))}function tn(e,t,n){n=Math.min(e.i.length,n);var r=e.l?c(e.l.Na,e.l,e):null;e:{var i=e.i;let t=-1;for(;;){const e=["count="+n];-1==t?0<n?(t=i[0].g,e.push("ofs="+t)):t=0:e.push("ofs="+t);let a=!0;for(let s=0;s<n;s++){let n=i[s].g;const o=i[s].map;if(n-=t,0>n)t=Math.max(0,i[s].g-100),a=!1;else try{At(o,e,"req"+n+"_")}catch(al){r&&r(o)}}if(a){r=e.join("&");break e}}}return e=e.i.splice(0,n),t.D=e,r}function nn(e){if(!e.g&&!e.u){e.Y=1;var t=e.Fa;T||P(),I||(T(),I=!0),A.add(t,e),e.v=0}}function rn(e){return!(e.g||e.u||3<=e.v)&&(e.Y++,e.u=Ie(c(e.Fa,e),cn(e,e.v)),e.v++,!0)}function an(e){null!=e.A&&(i.clearTimeout(e.A),e.A=null)}function sn(e){e.g=new je(e,e.j,"rpc",e.Y),null===e.m&&(e.g.H=e.o),e.g.O=0;var t=st(e.qa);ut(t,"RID","rpc"),ut(t,"SID",e.K),ut(t,"AID",e.T),ut(t,"CI",e.F?"0":"1"),!e.F&&e.ja&&ut(t,"TO",e.ja),ut(t,"TYPE","xmlhttp"),en(e,t),e.m&&e.o&&Lt(t,e.m,e.o),e.L&&(e.g.I=e.L);var n=e.g;e=e.ia,n.L=1,n.v=dt(st(t)),n.m=null,n.P=!0,Ue(n,e)}function on(e){null!=e.C&&(i.clearTimeout(e.C),e.C=null)}function ln(e,t){var n=null;if(e.g==t){on(e),an(e),e.g=null;var r=2}else{if(!Ze(e.h,t))return;n=t.D,tt(e.h,t),r=1}if(0!=e.G)if(t.o)if(1==r){n=t.m?t.m.length:0,t=Date.now()-t.F;var i=e.B;re(r=Se(),new Te(r,n)),Jt(e)}else nn(e);else if(3==(i=t.s)||0==i&&0<t.X||!(1==r&&function(e,t){return!(Je(e.h)>=e.h.j-(e.s?1:0))&&(e.s?(e.i=t.D.concat(e.i),!0):!(1==e.G||2==e.G||e.B>=(e.Va?0:e.Wa))&&(e.s=Ie(c(e.Ga,e,t),cn(e,e.B)),e.B++,!0))}(e,t)||2==r&&rn(e)))switch(n&&0<n.length&&(t=e.h,t.i=t.i.concat(n)),i){case 1:un(e,5);break;case 4:un(e,10);break;case 3:un(e,6);break;default:un(e,2)}}function cn(e,t){let n=e.Ta+Math.floor(Math.random()*e.cb);return e.isActive()||(n*=2),n*t}function un(e,t){if(e.j.info("Error code "+t),2==t){var n=c(e.fb,e),r=e.Xa;const t=!r;r=new at(r||"//www.google.com/images/cleardot.gif"),i.location&&"http"==i.location.protocol||ot(r,"https"),dt(r),t?function(e,t){const n=new Ae;if(i.Image){const r=new Image;r.onload=u(Tt,n,"TestLoadImage: loaded",!0,t,r),r.onerror=u(Tt,n,"TestLoadImage: error",!1,t,r),r.onabort=u(Tt,n,"TestLoadImage: abort",!1,t,r),r.ontimeout=u(Tt,n,"TestLoadImage: timeout",!1,t,r),i.setTimeout((function(){r.ontimeout&&r.ontimeout()}),1e4),r.src=e}else t(!1)}(r.toString(),n):function(e,t){new Ae;const n=new AbortController,r=setTimeout((()=>{n.abort(),Tt(0,0,!1,t)}),1e4);fetch(e,{signal:n.signal}).then((e=>{clearTimeout(r),e.ok?Tt(0,0,!0,t):Tt(0,0,!1,t)})).catch((()=>{clearTimeout(r),Tt(0,0,!1,t)}))}(r.toString(),n)}else Ce(2);e.G=0,e.l&&e.l.sa(t),dn(e),Xt(e)}function dn(e){if(e.G=0,e.ka=[],e.l){const t=nt(e.h);0==t.length&&0==e.i.length||(f(e.ka,t),f(e.ka,e.i),e.h.i.length=0,h(e.i),e.i.length=0),e.l.ra()}}function hn(e,t,n){var r=n instanceof at?st(n):new at(n);if(""!=r.g)t&&(r.g=t+"."+r.g),lt(r,r.s);else{var a=i.location;r=a.protocol,t=t?t+"."+a.hostname:a.hostname,a=+a.port;var s=new at(null);r&&ot(s,r),t&&(s.g=t),a&&lt(s,a),n&&(s.l=n),r=s}return n=e.D,t=e.ya,n&&t&&ut(r,n,t),ut(r,"VER",e.la),en(e,r),r}function fn(e,t,n){if(t&&!e.J)throw Error("Can't create secondary domain capable XhrIo object.");return(t=e.Ca&&!e.pa?new Mt(new Pt({eb:n})):new Mt(e.pa)).Ha(e.J),t}function pn(){}function mn(){}function gn(e,t){ne.call(this),this.g=new Kt(t),this.l=e,this.h=t&&t.messageUrlParams||null,e=t&&t.messageHeaders||null,t&&t.clientProtocolHeaderRequired&&(e?e["X-Client-Protocol"]="webchannel":e={"X-Client-Protocol":"webchannel"}),this.g.o=e,e=t&&t.initMessageHeaders||null,t&&t.messageContentType&&(e?e["X-WebChannel-Content-Type"]=t.messageContentType:e={"X-WebChannel-Content-Type":t.messageContentType}),t&&t.va&&(e?e["X-WebChannel-Client-Profile"]=t.va:e={"X-WebChannel-Client-Profile":t.va}),this.g.S=e,(e=t&&t.Sb)&&!p(e)&&(this.g.m=e),this.v=t&&t.supportsCrossDomainXhr||!1,this.u=t&&t.sendRawJson||!1,(t=t&&t.httpSessionIdParam)&&!p(t)&&(this.g.D=t,null!==(e=this.h)&&t in e&&(t in(e=this.h)&&delete e[t])),this.j=new bn(this)}function yn(e){ve.call(this),e.__headers__&&(this.headers=e.__headers__,this.statusCode=e.__status__,delete e.__headers__,delete e.__status__);var t=e.__sm__;if(t){e:{for(const n in t){e=n;break e}e=void 0}(this.i=e)&&(e=this.i,t=null!==t&&e in t?t[e]:void 0),this.data=t}else this.data=e}function vn(){be.call(this),this.status=1}function bn(e){this.g=e}(e=Mt.prototype).Ha=function(e){this.J=e},e.ea=function(e,t,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+e);t=t?t.toUpperCase():"GET",this.D=e,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Ne.g(),this.v=this.o?me(this.o):me(Ne),this.g.onreadystatechange=c(this.Ea,this);try{this.B=!0,this.g.open(t,String(e),!0),this.B=!1}catch(s){return void Ut(this,s)}if(e=n||"",n=new Map(this.headers),r)if(Object.getPrototypeOf(r)===Object.prototype)for(var a in r)n.set(a,r[a]);else{if("function"!==typeof r.keys||"function"!==typeof r.get)throw Error("Unknown input type for opt_headers: "+String(r));for(const e of r.keys())n.set(e,r.get(e))}r=Array.from(n.keys()).find((e=>"content-type"==e.toLowerCase())),a=i.FormData&&e instanceof i.FormData,!(0<=Array.prototype.indexOf.call(zt,t,void 0))||r||a||n.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[i,o]of n)this.g.setRequestHeader(i,o);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{$t(this),this.u=!0,this.g.send(e),this.u=!1}catch(s){Ut(this,s)}},e.abort=function(e){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=e||7,re(this,"complete"),re(this,"abort"),Bt(this))},e.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Bt(this,!0)),Mt.aa.N.call(this)},e.Ea=function(){this.s||(this.B||this.u||this.j?qt(this):this.bb())},e.bb=function(){qt(this)},e.isActive=function(){return!!this.g},e.Z=function(){try{return 2<Ht(this)?this.g.status:-1}catch(mt){return-1}},e.oa=function(){try{return this.g?this.g.responseText:""}catch(mt){return""}},e.Oa=function(e){if(this.g){var t=this.g.responseText;return e&&0==t.indexOf(e)&&(t=t.substring(e.length)),he(t)}},e.Ba=function(){return this.m},e.Ka=function(){return"string"===typeof this.l?this.l:String(this.l)},(e=Kt.prototype).la=8,e.G=1,e.connect=function(e,t,n,r){Ce(0),this.W=e,this.H=t||{},n&&void 0!==r&&(this.H.OSID=n,this.H.OAID=r),this.F=this.X,this.I=hn(this,null,this.W),Jt(this)},e.Ga=function(e){if(this.s)if(this.s=null,1==this.G){if(!e){this.U=Math.floor(1e5*Math.random()),e=this.U++;const i=new je(this,this.j,e);let a=this.o;if(this.S&&(a?(a=b(a),x(a,this.S)):a=this.S),null!==this.m||this.O||(i.H=a,a=null),this.P)e:{for(var t=0,n=0;n<this.i.length;n++){var r=this.i[n];if(void 0===(r="__data__"in r.map&&"string"===typeof(r=r.map.__data__)?r.length:void 0))break;if(4096<(t+=r)){t=n;break e}if(4096===t||n===this.i.length-1){t=n+1;break e}}t=1e3}else t=1e3;t=tn(this,i,t),ut(n=st(this.I),"RID",e),ut(n,"CVER",22),this.D&&ut(n,"X-HTTP-Session-Id",this.D),en(this,n),a&&(this.O?t="headers="+encodeURIComponent(String(jt(a)))+"&"+t:this.m&&Lt(n,this.m,a)),et(this.h,i),this.Ua&&ut(n,"TYPE","init"),this.P?(ut(n,"$req",t),ut(n,"SID","null"),i.T=!0,ze(i,n,null)):ze(i,n,t),this.G=2}}else 3==this.G&&(e?Zt(this,e):0==this.i.length||Xe(this.h)||Zt(this))},e.Fa=function(){if(this.u=null,sn(this),this.ba&&!(this.M||null==this.g||0>=this.R)){var e=2*this.R;this.j.info("BP detection timer enabled: "+e),this.A=Ie(c(this.ab,this),e)}},e.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,Ce(10),Yt(this),sn(this))},e.Za=function(){null!=this.C&&(this.C=null,Yt(this),rn(this),Ce(19))},e.fb=function(e){e?(this.j.info("Successfully pinged google.com"),Ce(2)):(this.j.info("Failed to ping google.com"),Ce(1))},e.isActive=function(){return!!this.l&&this.l.isActive(this)},(e=pn.prototype).ua=function(){},e.ta=function(){},e.sa=function(){},e.ra=function(){},e.isActive=function(){return!0},e.Na=function(){},mn.prototype.g=function(e,t){return new gn(e,t)},d(gn,ne),gn.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},gn.prototype.close=function(){Gt(this.g)},gn.prototype.o=function(e){var t=this.g;if("string"===typeof e){var n={};n.__data__=e,e=n}else this.u&&((n={}).__data__=de(e),e=n);t.i.push(new Ge(t.Ya++,e)),3==t.G&&Jt(t)},gn.prototype.N=function(){this.g.l=null,delete this.j,Gt(this.g),delete this.g,gn.aa.N.call(this)},d(yn,ve),d(vn,be),d(bn,pn),bn.prototype.ua=function(){re(this.g,"a")},bn.prototype.ta=function(e){re(this.g,new yn(e))},bn.prototype.sa=function(e){re(this.g,new vn)},bn.prototype.ra=function(){re(this.g,"b")},mn.prototype.createWebChannel=mn.prototype.g,gn.prototype.send=gn.prototype.o,gn.prototype.open=gn.prototype.m,gn.prototype.close=gn.prototype.close,Hu=Qu.createWebChannelTransport=function(){return new mn},$u=Qu.getStatEventTarget=function(){return Se()},Bu=Qu.Event=we,qu=Qu.Stat={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Re.NO_ERROR=0,Re.TIMEOUT=8,Re.HTTP_ERROR=6,Vu=Qu.ErrorCode=Re,Oe.COMPLETE="complete",Uu=Qu.EventType=Oe,ge.EventType=ye,ye.OPEN="a",ye.CLOSE="b",ye.ERROR="c",ye.MESSAGE="d",ne.prototype.listen=ne.prototype.K,zu=Qu.WebChannel=ge,Qu.FetchXmlHttpFactory=Pt,Mt.prototype.listenOnce=Mt.prototype.L,Mt.prototype.getLastError=Mt.prototype.Ka,Mt.prototype.getLastErrorCode=Mt.prototype.Ba,Mt.prototype.getStatus=Mt.prototype.Z,Mt.prototype.getResponseJson=Mt.prototype.Oa,Mt.prototype.getResponseText=Mt.prototype.oa,Mt.prototype.send=Mt.prototype.ea,Mt.prototype.setWithCredentials=Mt.prototype.Ha,Fu=Qu.XhrIo=Mt}).apply("undefined"!==typeof Wu?Wu:"undefined"!==typeof self?self:"undefined"!==typeof window?window:{});const Ku="@firebase/firestore",Gu="4.7.10";class Yu{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Yu.UNAUTHENTICATED=new Yu(null),Yu.GOOGLE_CREDENTIALS=new Yu("google-credentials-uid"),Yu.FIRST_PARTY=new Yu("first-party-uid"),Yu.MOCK_USER=new Yu("mock-user");let Xu="11.5.0";const Ju=new Wt("@firebase/firestore");function Zu(){return Ju.logLevel}function ed(e){if(Ju.logLevel<=Vt.DEBUG){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];const i=n.map(rd);Ju.debug(`Firestore (${Xu}): ${e}`,...i)}}function td(e){if(Ju.logLevel<=Vt.ERROR){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];const i=n.map(rd);Ju.error(`Firestore (${Xu}): ${e}`,...i)}}function nd(e){if(Ju.logLevel<=Vt.WARN){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];const i=n.map(rd);Ju.warn(`Firestore (${Xu}): ${e}`,...i)}}function rd(e){if("string"==typeof e)return e;try{return function(e){return JSON.stringify(e)}(e)}catch(to){return e}}function id(){const e=`FIRESTORE (${Xu}) INTERNAL ASSERTION FAILED: `+(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"Unexpected state");throw td(e),new Error(e)}function ad(e,t){e||id()}function sd(e,t){return e}const od={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ld extends kt{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class cd{constructor(){this.promise=new Promise(((e,t)=>{this.resolve=e,this.reject=t}))}}class ud{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class dd{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable((()=>t(Yu.UNAUTHENTICATED)))}shutdown(){}}class hd{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable((()=>t(this.token.user)))}shutdown(){this.changeListener=null}}class fd{constructor(e){this.t=e,this.currentUser=Yu.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){ad(void 0===this.o);let n=this.i;const r=e=>this.i!==n?(n=this.i,t(e)):Promise.resolve();let i=new cd;this.o=()=>{this.i++,this.currentUser=this.u(),i.resolve(),i=new cd,e.enqueueRetryable((()=>r(this.currentUser)))};const a=()=>{const t=i;e.enqueueRetryable((async()=>{await t.promise,await r(this.currentUser)}))},s=e=>{ed("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=e,this.o&&(this.auth.addAuthTokenListener(this.o),a())};this.t.onInit((e=>s(e))),setTimeout((()=>{if(!this.auth){const e=this.t.getImmediate({optional:!0});e?s(e):(ed("FirebaseAuthCredentialsProvider","Auth not yet detected"),i.resolve(),i=new cd)}}),0),a()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then((t=>this.i!==e?(ed("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):t?(ad("string"==typeof t.accessToken),new ud(t.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return ad(null===e||"string"==typeof e),new Yu(e)}}class pd{constructor(e,t,n){this.l=e,this.h=t,this.P=n,this.type="FirstParty",this.user=Yu.FIRST_PARTY,this.T=new Map}I(){return this.P?this.P():null}get headers(){this.T.set("X-Goog-AuthUser",this.l);const e=this.I();return e&&this.T.set("Authorization",e),this.h&&this.T.set("X-Goog-Iam-Authorization-Token",this.h),this.T}}class md{constructor(e,t,n){this.l=e,this.h=t,this.P=n}getToken(){return Promise.resolve(new pd(this.l,this.h,this.P))}start(e,t){e.enqueueRetryable((()=>t(Yu.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class gd{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class yd{constructor(e,t){this.A=t,this.forceRefresh=!1,this.appCheck=null,this.R=null,this.V=null,Gn(e)&&e.settings.appCheckToken&&(this.V=e.settings.appCheckToken)}start(e,t){ad(void 0===this.o);const n=e=>{null!=e.error&&ed("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${e.error.message}`);const n=e.token!==this.R;return this.R=e.token,ed("FirebaseAppCheckTokenProvider",`Received ${n?"new":"existing"} token.`),n?t(e.token):Promise.resolve()};this.o=t=>{e.enqueueRetryable((()=>n(t)))};const r=e=>{ed("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=e,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit((e=>r(e))),setTimeout((()=>{if(!this.appCheck){const e=this.A.getImmediate({optional:!0});e?r(e):ed("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.V)return Promise.resolve(new gd(this.V));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((e=>e?(ad("string"==typeof e.token),this.R=e.token,new gd(e.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function vd(e){const t="undefined"!=typeof self&&(self.crypto||self.msCrypto),n=new Uint8Array(e);if(t&&"function"==typeof t.getRandomValues)t.getRandomValues(n);else for(let r=0;r<e;r++)n[r]=Math.floor(256*Math.random());return n}function bd(){return new TextEncoder}class wd{static newId(){const e=62*Math.floor(256/62);let t="";for(;t.length<20;){const n=vd(40);for(let r=0;r<n.length;++r)t.length<20&&n[r]<e&&(t+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789".charAt(n[r]%62))}return t}}function xd(e,t){return e<t?-1:e>t?1:0}function Sd(e,t){let n=0;for(;n<e.length&&n<t.length;){const r=e.codePointAt(n),i=t.codePointAt(n);if(r!==i){if(r<128&&i<128)return xd(r,i);{const a=bd(),s=kd(a.encode(Ed(e,n)),a.encode(Ed(t,n)));return 0!==s?s:xd(r,i)}}n+=r>65535?2:1}return xd(e.length,t.length)}function Ed(e,t){return e.codePointAt(t)>65535?e.substring(t,t+2):e.substring(t,t+1)}function kd(e,t){for(let n=0;n<e.length&&n<t.length;++n)if(e[n]!==t[n])return xd(e[n],t[n]);return xd(e.length,t.length)}function _d(e,t,n){return e.length===t.length&&e.every(((e,r)=>n(e,t[r])))}const Cd=-62135596800,Td=1e6;class Id{static now(){return Id.fromMillis(Date.now())}static fromDate(e){return Id.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),n=Math.floor((e-1e3*t)*Td);return new Id(t,n)}constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new ld(od.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new ld(od.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<Cd)throw new ld(od.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new ld(od.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/Td}_compareTo(e){return this.seconds===e.seconds?xd(this.nanoseconds,e.nanoseconds):xd(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds-Cd;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class Ad{static fromTimestamp(e){return new Ad(e)}static min(){return new Ad(new Id(0,0))}static max(){return new Ad(new Id(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}const Pd="__name__";class Nd{constructor(e,t,n){void 0===t?t=0:t>e.length&&id(),void 0===n?n=e.length-t:n>e.length-t&&id(),this.segments=e,this.offset=t,this.len=n}get length(){return this.len}isEqual(e){return 0===Nd.comparator(this,e)}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof Nd?e.forEach((e=>{t.push(e)})):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=void 0===e?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,n=this.limit();t<n;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const n=Math.min(e.length,t.length);for(let r=0;r<n;r++){const n=Nd.compareSegments(e.get(r),t.get(r));if(0!==n)return n}return xd(e.length,t.length)}static compareSegments(e,t){const n=Nd.isNumericId(e),r=Nd.isNumericId(t);return n&&!r?-1:!n&&r?1:n&&r?Nd.extractNumericId(e).compare(Nd.extractNumericId(t)):Sd(e,t)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Du.fromString(e.substring(4,e.length-2))}}class Rd extends Nd{construct(e,t,n){return new Rd(e,t,n)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(){const e=[];for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(const i of n){if(i.indexOf("//")>=0)throw new ld(od.INVALID_ARGUMENT,`Invalid segment (${i}). Paths must not contain // in them.`);e.push(...i.split("/").filter((e=>e.length>0)))}return new Rd(e)}static emptyPath(){return new Rd([])}}const Od=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Dd extends Nd{construct(e,t,n){return new Dd(e,t,n)}static isValidIdentifier(e){return Od.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Dd.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&this.get(0)===Pd}static keyField(){return new Dd([Pd])}static fromServerFormat(e){const t=[];let n="",r=0;const i=()=>{if(0===n.length)throw new ld(od.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(n),n=""};let a=!1;for(;r<e.length;){const t=e[r];if("\\"===t){if(r+1===e.length)throw new ld(od.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const t=e[r+1];if("\\"!==t&&"."!==t&&"`"!==t)throw new ld(od.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);n+=t,r+=2}else"`"===t?(a=!a,r++):"."!==t||a?(n+=t,r++):(i(),r++)}if(i(),a)throw new ld(od.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Dd(t)}static emptyPath(){return new Dd([])}}class jd{constructor(e){this.path=e}static fromPath(e){return new jd(Rd.fromString(e))}static fromName(e){return new jd(Rd.fromString(e).popFirst(5))}static empty(){return new jd(Rd.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return null!==e&&0===Rd.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,t){return Rd.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new jd(new Rd(e.slice()))}}const Ld=-1;class Md{constructor(e,t,n,r){this.indexId=e,this.collectionGroup=t,this.fields=n,this.indexState=r}}Md.UNKNOWN_ID=-1;function Fd(e,t){const n=e.toTimestamp().seconds,r=e.toTimestamp().nanoseconds+1,i=Ad.fromTimestamp(1e9===r?new Id(n+1,0):new Id(n,r));return new Ud(i,jd.empty(),t)}function zd(e){return new Ud(e.readTime,e.key,Ld)}class Ud{constructor(e,t,n){this.readTime=e,this.documentKey=t,this.largestBatchId=n}static min(){return new Ud(Ad.min(),jd.empty(),Ld)}static max(){return new Ud(Ad.max(),jd.empty(),Ld)}}function Vd(e,t){let n=e.readTime.compareTo(t.readTime);return 0!==n?n:(n=jd.comparator(e.documentKey,t.documentKey),0!==n?n:xd(e.largestBatchId,t.largestBatchId))}const qd="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class Bd{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}async function $d(e){if(e.code!==od.FAILED_PRECONDITION||e.message!==qd)throw e;ed("LocalStore","Unexpectedly lost primary lease")}class Hd{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((e=>{this.isDone=!0,this.result=e,this.nextCallback&&this.nextCallback(e)}),(e=>{this.isDone=!0,this.error=e,this.catchCallback&&this.catchCallback(e)}))}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&id(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new Hd(((n,r)=>{this.nextCallback=t=>{this.wrapSuccess(e,t).next(n,r)},this.catchCallback=e=>{this.wrapFailure(t,e).next(n,r)}}))}toPromise(){return new Promise(((e,t)=>{this.next(e,t)}))}wrapUserFunction(e){try{const t=e();return t instanceof Hd?t:Hd.resolve(t)}catch(e){return Hd.reject(e)}}wrapSuccess(e,t){return e?this.wrapUserFunction((()=>e(t))):Hd.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction((()=>e(t))):Hd.reject(t)}static resolve(e){return new Hd(((t,n)=>{t(e)}))}static reject(e){return new Hd(((t,n)=>{n(e)}))}static waitFor(e){return new Hd(((t,n)=>{let r=0,i=0,a=!1;e.forEach((e=>{++r,e.next((()=>{++i,a&&i===r&&t()}),(e=>n(e)))})),a=!0,i===r&&t()}))}static or(e){let t=Hd.resolve(!1);for(const n of e)t=t.next((e=>e?Hd.resolve(e):n()));return t}static forEach(e,t){const n=[];return e.forEach(((e,r)=>{n.push(t.call(this,e,r))})),this.waitFor(n)}static mapArray(e,t){return new Hd(((n,r)=>{const i=e.length,a=new Array(i);let s=0;for(let o=0;o<i;o++){const l=o;t(e[l]).next((e=>{a[l]=e,++s,s===i&&n(a)}),(e=>r(e)))}}))}static doWhile(e,t){return new Hd(((n,r)=>{const i=()=>{!0===e()?t().next((()=>{i()}),r):n()};i()}))}}function Wd(e){const t=e.match(/Android ([\d.]+)/i),n=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function Qd(e){return"IndexedDbTransactionError"===e.name}class Kd{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=e=>this.oe(e),this._e=e=>t.writeSequenceNumber(e))}oe(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this._e&&this._e(e),e}}Kd.ae=-1;const Gd=-1;function Yd(e){return null==e}function Xd(e){return 0===e&&1/e==-1/0}function Jd(e){return"number"==typeof e&&Number.isInteger(e)&&!Xd(e)&&e<=Number.MAX_SAFE_INTEGER&&e>=Number.MIN_SAFE_INTEGER}const Zd="\x01";function eh(e){let t="";for(let n=0;n<e.length;n++)t.length>0&&(t=nh(t)),t=th(e.get(n),t);return nh(t)}function th(e,t){let n=t;const r=e.length;for(let i=0;i<r;i++){const t=e.charAt(i);switch(t){case"\0":n+="\x01\x10";break;case Zd:n+="\x01\x11";break;default:n+=t}}return n}function nh(e){return e+Zd+"\x01"}const rh="remoteDocuments",ih="owner",ah="mutationQueues",sh="mutations";const oh="documentMutations",lh="remoteDocumentsV14",ch="remoteDocumentGlobal",uh="targets",dh="targetDocuments",hh="targetGlobal",fh="collectionParents",ph="clientMetadata",mh="bundles",gh="namedQueries",yh="indexConfiguration",vh="indexState",bh="indexEntries",wh="documentOverlays",xh="globals",Sh=[ah,sh,oh,rh,uh,ih,hh,dh,ph,ch,fh,mh,gh],Eh=[ah,sh,oh,lh,uh,ih,hh,dh,ph,ch,fh,mh,gh,wh],kh=Eh,_h=[...kh,yh,vh,bh];function Ch(e){let t=0;for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&t++;return t}function Th(e,t){for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&t(n,e[n])}function Ih(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}class Ah{constructor(e,t){this.comparator=e,this.root=t||Nh.EMPTY}insert(e,t){return new Ah(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,Nh.BLACK,null,null))}remove(e){return new Ah(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Nh.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const n=this.comparator(e,t.key);if(0===n)return t.value;n<0?t=t.left:n>0&&(t=t.right)}return null}indexOf(e){let t=0,n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(0===r)return t+n.left.size;r<0?n=n.left:(t+=n.left.size+1,n=n.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((t,n)=>(e(t,n),!1)))}toString(){const e=[];return this.inorderTraversal(((t,n)=>(e.push(`${t}:${n}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Ph(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Ph(this.root,e,this.comparator,!1)}getReverseIterator(){return new Ph(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Ph(this.root,e,this.comparator,!0)}}class Ph{constructor(e,t,n,r){this.isReverse=r,this.nodeStack=[];let i=1;for(;!e.isEmpty();)if(i=t?n(e.key,t):1,t&&r&&(i*=-1),i<0)e=this.isReverse?e.left:e.right;else{if(0===i){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Nh{constructor(e,t,n,r,i){this.key=e,this.value=t,this.color=null!=n?n:Nh.RED,this.left=null!=r?r:Nh.EMPTY,this.right=null!=i?i:Nh.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,n,r,i){return new Nh(null!=e?e:this.key,null!=t?t:this.value,null!=n?n:this.color,null!=r?r:this.left,null!=i?i:this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,n){let r=this;const i=n(e,r.key);return r=i<0?r.copy(null,null,null,r.left.insert(e,t,n),null):0===i?r.copy(null,t,null,null,null):r.copy(null,null,null,null,r.right.insert(e,t,n)),r.fixUp()}removeMin(){if(this.left.isEmpty())return Nh.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let n,r=this;if(t(e,r.key)<0)r.left.isEmpty()||r.left.isRed()||r.left.left.isRed()||(r=r.moveRedLeft()),r=r.copy(null,null,null,r.left.remove(e,t),null);else{if(r.left.isRed()&&(r=r.rotateRight()),r.right.isEmpty()||r.right.isRed()||r.right.left.isRed()||(r=r.moveRedRight()),0===t(e,r.key)){if(r.right.isEmpty())return Nh.EMPTY;n=r.right.min(),r=r.copy(n.key,n.value,null,null,r.right.removeMin())}r=r.copy(null,null,null,null,r.right.remove(e,t))}return r.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Nh.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Nh.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw id();if(this.right.isRed())throw id();const e=this.left.check();if(e!==this.right.check())throw id();return e+(this.isRed()?0:1)}}Nh.EMPTY=null,Nh.RED=!0,Nh.BLACK=!1,Nh.EMPTY=new class{constructor(){this.size=0}get key(){throw id()}get value(){throw id()}get color(){throw id()}get left(){throw id()}get right(){throw id()}copy(e,t,n,r,i){return this}insert(e,t,n){return new Nh(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Rh{constructor(e){this.comparator=e,this.data=new Ah(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((t,n)=>(e(t),!1)))}forEachInRange(e,t){const n=this.data.getIteratorFrom(e[0]);for(;n.hasNext();){const r=n.getNext();if(this.comparator(r.key,e[1])>=0)return;t(r.key)}}forEachWhile(e,t){let n;for(n=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();n.hasNext();)if(!e(n.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new Oh(this.data.getIterator())}getIteratorFrom(e){return new Oh(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach((e=>{t=t.add(e)})),t}isEqual(e){if(!(e instanceof Rh))return!1;if(this.size!==e.size)return!1;const t=this.data.getIterator(),n=e.data.getIterator();for(;t.hasNext();){const e=t.getNext().key,r=n.getNext().key;if(0!==this.comparator(e,r))return!1}return!0}toArray(){const e=[];return this.forEach((t=>{e.push(t)})),e}toString(){const e=[];return this.forEach((t=>e.push(t))),"SortedSet("+e.toString()+")"}copy(e){const t=new Rh(this.comparator);return t.data=e,t}}class Oh{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class Dh{constructor(e){this.fields=e,e.sort(Dd.comparator)}static empty(){return new Dh([])}unionWith(e){let t=new Rh(Dd.comparator);for(const n of this.fields)t=t.add(n);for(const n of e)t=t.add(n);return new Dh(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return _d(this.fields,e.fields,((e,t)=>e.isEqual(t)))}}class jh extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class Lh{constructor(e){this.binaryString=e}static fromBase64String(e){const t=function(e){try{return atob(e)}catch(e){throw"undefined"!=typeof DOMException&&e instanceof DOMException?new jh("Invalid base64 string: "+e):e}}(e);return new Lh(t)}static fromUint8Array(e){const t=function(e){let t="";for(let n=0;n<e.length;++n)t+=String.fromCharCode(e[n]);return t}(e);return new Lh(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return e=this.binaryString,btoa(e);var e}toUint8Array(){return function(e){const t=new Uint8Array(e.length);for(let n=0;n<e.length;n++)t[n]=e.charCodeAt(n);return t}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return xd(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Lh.EMPTY_BYTE_STRING=new Lh("");const Mh=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Fh(e){if(ad(!!e),"string"==typeof e){let t=0;const n=Mh.exec(e);if(ad(!!n),n[1]){let e=n[1];e=(e+"000000000").substr(0,9),t=Number(e)}const r=new Date(e);return{seconds:Math.floor(r.getTime()/1e3),nanos:t}}return{seconds:zh(e.seconds),nanos:zh(e.nanos)}}function zh(e){return"number"==typeof e?e:"string"==typeof e?Number(e):0}function Uh(e){return"string"==typeof e?Lh.fromBase64String(e):Lh.fromUint8Array(e)}const Vh="server_timestamp",qh="__type__",Bh="__previous_value__",$h="__local_write_time__";function Hh(e){var t,n;return(null===(n=((null===(t=null==e?void 0:e.mapValue)||void 0===t?void 0:t.fields)||{})[qh])||void 0===n?void 0:n.stringValue)===Vh}function Wh(e){const t=e.mapValue.fields[Bh];return Hh(t)?Wh(t):t}function Qh(e){const t=Fh(e.mapValue.fields[$h].timestampValue);return new Id(t.seconds,t.nanos)}class Kh{constructor(e,t,n,r,i,a,s,o,l){this.databaseId=e,this.appId=t,this.persistenceKey=n,this.host=r,this.ssl=i,this.forceLongPolling=a,this.autoDetectLongPolling=s,this.longPollingOptions=o,this.useFetchStreams=l}}const Gh="(default)";class Yh{constructor(e,t){this.projectId=e,this.database=t||Gh}static empty(){return new Yh("","")}get isDefaultDatabase(){return this.database===Gh}isEqual(e){return e instanceof Yh&&e.projectId===this.projectId&&e.database===this.database}}const Xh="__type__",Jh="__max__",Zh={mapValue:{fields:{__type__:{stringValue:Jh}}}},ef="__vector__",tf="value";function nf(e){return"nullValue"in e?0:"booleanValue"in e?1:"integerValue"in e||"doubleValue"in e?2:"timestampValue"in e?3:"stringValue"in e?5:"bytesValue"in e?6:"referenceValue"in e?7:"geoPointValue"in e?8:"arrayValue"in e?9:"mapValue"in e?Hh(e)?4:bf(e)?9007199254740991:yf(e)?10:11:id()}function rf(e,t){if(e===t)return!0;const n=nf(e);if(n!==nf(t))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return e.booleanValue===t.booleanValue;case 4:return Qh(e).isEqual(Qh(t));case 3:return function(e,t){if("string"==typeof e.timestampValue&&"string"==typeof t.timestampValue&&e.timestampValue.length===t.timestampValue.length)return e.timestampValue===t.timestampValue;const n=Fh(e.timestampValue),r=Fh(t.timestampValue);return n.seconds===r.seconds&&n.nanos===r.nanos}(e,t);case 5:return e.stringValue===t.stringValue;case 6:return function(e,t){return Uh(e.bytesValue).isEqual(Uh(t.bytesValue))}(e,t);case 7:return e.referenceValue===t.referenceValue;case 8:return function(e,t){return zh(e.geoPointValue.latitude)===zh(t.geoPointValue.latitude)&&zh(e.geoPointValue.longitude)===zh(t.geoPointValue.longitude)}(e,t);case 2:return function(e,t){if("integerValue"in e&&"integerValue"in t)return zh(e.integerValue)===zh(t.integerValue);if("doubleValue"in e&&"doubleValue"in t){const n=zh(e.doubleValue),r=zh(t.doubleValue);return n===r?Xd(n)===Xd(r):isNaN(n)&&isNaN(r)}return!1}(e,t);case 9:return _d(e.arrayValue.values||[],t.arrayValue.values||[],rf);case 10:case 11:return function(e,t){const n=e.mapValue.fields||{},r=t.mapValue.fields||{};if(Ch(n)!==Ch(r))return!1;for(const i in n)if(n.hasOwnProperty(i)&&(void 0===r[i]||!rf(n[i],r[i])))return!1;return!0}(e,t);default:return id()}}function af(e,t){return void 0!==(e.values||[]).find((e=>rf(e,t)))}function sf(e,t){if(e===t)return 0;const n=nf(e),r=nf(t);if(n!==r)return xd(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return xd(e.booleanValue,t.booleanValue);case 2:return function(e,t){const n=zh(e.integerValue||e.doubleValue),r=zh(t.integerValue||t.doubleValue);return n<r?-1:n>r?1:n===r?0:isNaN(n)?isNaN(r)?0:-1:1}(e,t);case 3:return of(e.timestampValue,t.timestampValue);case 4:return of(Qh(e),Qh(t));case 5:return Sd(e.stringValue,t.stringValue);case 6:return function(e,t){const n=Uh(e),r=Uh(t);return n.compareTo(r)}(e.bytesValue,t.bytesValue);case 7:return function(e,t){const n=e.split("/"),r=t.split("/");for(let i=0;i<n.length&&i<r.length;i++){const e=xd(n[i],r[i]);if(0!==e)return e}return xd(n.length,r.length)}(e.referenceValue,t.referenceValue);case 8:return function(e,t){const n=xd(zh(e.latitude),zh(t.latitude));return 0!==n?n:xd(zh(e.longitude),zh(t.longitude))}(e.geoPointValue,t.geoPointValue);case 9:return lf(e.arrayValue,t.arrayValue);case 10:return function(e,t){var n,r,i,a;const s=e.fields||{},o=t.fields||{},l=null===(n=s[tf])||void 0===n?void 0:n.arrayValue,c=null===(r=o[tf])||void 0===r?void 0:r.arrayValue,u=xd((null===(i=null==l?void 0:l.values)||void 0===i?void 0:i.length)||0,(null===(a=null==c?void 0:c.values)||void 0===a?void 0:a.length)||0);return 0!==u?u:lf(l,c)}(e.mapValue,t.mapValue);case 11:return function(e,t){if(e===Zh.mapValue&&t===Zh.mapValue)return 0;if(e===Zh.mapValue)return 1;if(t===Zh.mapValue)return-1;const n=e.fields||{},r=Object.keys(n),i=t.fields||{},a=Object.keys(i);r.sort(),a.sort();for(let s=0;s<r.length&&s<a.length;++s){const e=Sd(r[s],a[s]);if(0!==e)return e;const t=sf(n[r[s]],i[a[s]]);if(0!==t)return t}return xd(r.length,a.length)}(e.mapValue,t.mapValue);default:throw id()}}function of(e,t){if("string"==typeof e&&"string"==typeof t&&e.length===t.length)return xd(e,t);const n=Fh(e),r=Fh(t),i=xd(n.seconds,r.seconds);return 0!==i?i:xd(n.nanos,r.nanos)}function lf(e,t){const n=e.values||[],r=t.values||[];for(let i=0;i<n.length&&i<r.length;++i){const e=sf(n[i],r[i]);if(e)return e}return xd(n.length,r.length)}function cf(e){return uf(e)}function uf(e){return"nullValue"in e?"null":"booleanValue"in e?""+e.booleanValue:"integerValue"in e?""+e.integerValue:"doubleValue"in e?""+e.doubleValue:"timestampValue"in e?function(e){const t=Fh(e);return`time(${t.seconds},${t.nanos})`}(e.timestampValue):"stringValue"in e?e.stringValue:"bytesValue"in e?function(e){return Uh(e).toBase64()}(e.bytesValue):"referenceValue"in e?function(e){return jd.fromName(e).toString()}(e.referenceValue):"geoPointValue"in e?function(e){return`geo(${e.latitude},${e.longitude})`}(e.geoPointValue):"arrayValue"in e?function(e){let t="[",n=!0;for(const r of e.values||[])n?n=!1:t+=",",t+=uf(r);return t+"]"}(e.arrayValue):"mapValue"in e?function(e){const t=Object.keys(e.fields||{}).sort();let n="{",r=!0;for(const i of t)r?r=!1:n+=",",n+=`${i}:${uf(e.fields[i])}`;return n+"}"}(e.mapValue):id()}function df(e){switch(nf(e)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const t=Wh(e);return t?16+df(t):16;case 5:return 2*e.stringValue.length;case 6:return Uh(e.bytesValue).approximateByteSize();case 7:return e.referenceValue.length;case 9:return function(e){return(e.values||[]).reduce(((e,t)=>e+df(t)),0)}(e.arrayValue);case 10:case 11:return function(e){let t=0;return Th(e.fields,((e,n)=>{t+=e.length+df(n)})),t}(e.mapValue);default:throw id()}}function hf(e){return!!e&&"integerValue"in e}function ff(e){return!!e&&"arrayValue"in e}function pf(e){return!!e&&"nullValue"in e}function mf(e){return!!e&&"doubleValue"in e&&isNaN(Number(e.doubleValue))}function gf(e){return!!e&&"mapValue"in e}function yf(e){var t,n;return(null===(n=((null===(t=null==e?void 0:e.mapValue)||void 0===t?void 0:t.fields)||{})[Xh])||void 0===n?void 0:n.stringValue)===ef}function vf(e){if(e.geoPointValue)return{geoPointValue:Object.assign({},e.geoPointValue)};if(e.timestampValue&&"object"==typeof e.timestampValue)return{timestampValue:Object.assign({},e.timestampValue)};if(e.mapValue){const t={mapValue:{fields:{}}};return Th(e.mapValue.fields,((e,n)=>t.mapValue.fields[e]=vf(n))),t}if(e.arrayValue){const t={arrayValue:{values:[]}};for(let n=0;n<(e.arrayValue.values||[]).length;++n)t.arrayValue.values[n]=vf(e.arrayValue.values[n]);return t}return Object.assign({},e)}function bf(e){return(((e.mapValue||{}).fields||{}).__type__||{}).stringValue===Jh}class wf{constructor(e){this.value=e}static empty(){return new wf({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let n=0;n<e.length-1;++n)if(t=(t.mapValue.fields||{})[e.get(n)],!gf(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=vf(t)}setAll(e){let t=Dd.emptyPath(),n={},r=[];e.forEach(((e,i)=>{if(!t.isImmediateParentOf(i)){const e=this.getFieldsMap(t);this.applyChanges(e,n,r),n={},r=[],t=i.popLast()}e?n[i.lastSegment()]=vf(e):r.push(i.lastSegment())}));const i=this.getFieldsMap(t);this.applyChanges(i,n,r)}delete(e){const t=this.field(e.popLast());gf(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return rf(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let n=0;n<e.length;++n){let r=t.mapValue.fields[e.get(n)];gf(r)&&r.mapValue.fields||(r={mapValue:{fields:{}}},t.mapValue.fields[e.get(n)]=r),t=r}return t.mapValue.fields}applyChanges(e,t,n){Th(t,((t,n)=>e[t]=n));for(const r of n)delete e[r]}clone(){return new wf(vf(this.value))}}function xf(e){const t=[];return Th(e.fields,((e,n)=>{const r=new Dd([e]);if(gf(n)){const e=xf(n.mapValue).fields;if(0===e.length)t.push(r);else for(const n of e)t.push(r.child(n))}else t.push(r)})),new Dh(t)}class Sf{constructor(e,t,n,r,i,a,s){this.key=e,this.documentType=t,this.version=n,this.readTime=r,this.createTime=i,this.data=a,this.documentState=s}static newInvalidDocument(e){return new Sf(e,0,Ad.min(),Ad.min(),Ad.min(),wf.empty(),0)}static newFoundDocument(e,t,n,r){return new Sf(e,1,t,Ad.min(),n,r,0)}static newNoDocument(e,t){return new Sf(e,2,t,Ad.min(),Ad.min(),wf.empty(),0)}static newUnknownDocument(e,t){return new Sf(e,3,t,Ad.min(),Ad.min(),wf.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(Ad.min())||2!==this.documentType&&0!==this.documentType||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=wf.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=wf.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Ad.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof Sf&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Sf(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class Ef{constructor(e,t){this.position=e,this.inclusive=t}}function kf(e,t,n){let r=0;for(let i=0;i<e.position.length;i++){const a=t[i],s=e.position[i];if(r=a.field.isKeyField()?jd.comparator(jd.fromName(s.referenceValue),n.key):sf(s,n.data.field(a.field)),"desc"===a.dir&&(r*=-1),0!==r)break}return r}function _f(e,t){if(null===e)return null===t;if(null===t)return!1;if(e.inclusive!==t.inclusive||e.position.length!==t.position.length)return!1;for(let n=0;n<e.position.length;n++)if(!rf(e.position[n],t.position[n]))return!1;return!0}class Cf{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"asc";this.field=e,this.dir=t}}function Tf(e,t){return e.dir===t.dir&&e.field.isEqual(t.field)}class If{}class Af extends If{constructor(e,t,n){super(),this.field=e,this.op=t,this.value=n}static create(e,t,n){return e.isKeyField()?"in"===t||"not-in"===t?this.createKeyFieldInFilter(e,t,n):new Mf(e,t,n):"array-contains"===t?new Vf(e,n):"in"===t?new qf(e,n):"not-in"===t?new Bf(e,n):"array-contains-any"===t?new $f(e,n):new Af(e,t,n)}static createKeyFieldInFilter(e,t,n){return"in"===t?new Ff(e,n):new zf(e,n)}matches(e){const t=e.data.field(this.field);return"!="===this.op?null!==t&&this.matchesComparison(sf(t,this.value)):null!==t&&nf(this.value)===nf(t)&&this.matchesComparison(sf(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return id()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Pf extends If{constructor(e,t){super(),this.filters=e,this.op=t,this.ce=null}static create(e,t){return new Pf(e,t)}matches(e){return Nf(this)?void 0===this.filters.find((t=>!t.matches(e))):void 0!==this.filters.find((t=>t.matches(e)))}getFlattenedFilters(){return null!==this.ce||(this.ce=this.filters.reduce(((e,t)=>e.concat(t.getFlattenedFilters())),[])),this.ce}getFilters(){return Object.assign([],this.filters)}}function Nf(e){return"and"===e.op}function Rf(e){return Of(e)&&Nf(e)}function Of(e){for(const t of e.filters)if(t instanceof Pf)return!1;return!0}function Df(e){if(e instanceof Af)return e.field.canonicalString()+e.op.toString()+cf(e.value);if(Rf(e))return e.filters.map((e=>Df(e))).join(",");{const t=e.filters.map((e=>Df(e))).join(",");return`${e.op}(${t})`}}function jf(e,t){return e instanceof Af?function(e,t){return t instanceof Af&&e.op===t.op&&e.field.isEqual(t.field)&&rf(e.value,t.value)}(e,t):e instanceof Pf?function(e,t){return t instanceof Pf&&e.op===t.op&&e.filters.length===t.filters.length&&e.filters.reduce(((e,n,r)=>e&&jf(n,t.filters[r])),!0)}(e,t):void id()}function Lf(e){return e instanceof Af?function(e){return`${e.field.canonicalString()} ${e.op} ${cf(e.value)}`}(e):e instanceof Pf?function(e){return e.op.toString()+" {"+e.getFilters().map(Lf).join(" ,")+"}"}(e):"Filter"}class Mf extends Af{constructor(e,t,n){super(e,t,n),this.key=jd.fromName(n.referenceValue)}matches(e){const t=jd.comparator(e.key,this.key);return this.matchesComparison(t)}}class Ff extends Af{constructor(e,t){super(e,"in",t),this.keys=Uf("in",t)}matches(e){return this.keys.some((t=>t.isEqual(e.key)))}}class zf extends Af{constructor(e,t){super(e,"not-in",t),this.keys=Uf("not-in",t)}matches(e){return!this.keys.some((t=>t.isEqual(e.key)))}}function Uf(e,t){var n;return((null===(n=t.arrayValue)||void 0===n?void 0:n.values)||[]).map((e=>jd.fromName(e.referenceValue)))}class Vf extends Af{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return ff(t)&&af(t.arrayValue,this.value)}}class qf extends Af{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return null!==t&&af(this.value.arrayValue,t)}}class Bf extends Af{constructor(e,t){super(e,"not-in",t)}matches(e){if(af(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return null!==t&&!af(this.value.arrayValue,t)}}class $f extends Af{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!ff(t)||!t.arrayValue.values)&&t.arrayValue.values.some((e=>af(this.value.arrayValue,e)))}}class Hf{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,s=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null;this.path=e,this.collectionGroup=t,this.orderBy=n,this.filters=r,this.limit=i,this.startAt=a,this.endAt=s,this.le=null}}function Wf(e){return new Hf(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,arguments.length>6&&void 0!==arguments[6]?arguments[6]:null)}function Qf(e){const t=sd(e);if(null===t.le){let e=t.path.canonicalString();null!==t.collectionGroup&&(e+="|cg:"+t.collectionGroup),e+="|f:",e+=t.filters.map((e=>Df(e))).join(","),e+="|ob:",e+=t.orderBy.map((e=>function(e){return e.field.canonicalString()+e.dir}(e))).join(","),Yd(t.limit)||(e+="|l:",e+=t.limit),t.startAt&&(e+="|lb:",e+=t.startAt.inclusive?"b:":"a:",e+=t.startAt.position.map((e=>cf(e))).join(",")),t.endAt&&(e+="|ub:",e+=t.endAt.inclusive?"a:":"b:",e+=t.endAt.position.map((e=>cf(e))).join(",")),t.le=e}return t.le}function Kf(e,t){if(e.limit!==t.limit)return!1;if(e.orderBy.length!==t.orderBy.length)return!1;for(let n=0;n<e.orderBy.length;n++)if(!Tf(e.orderBy[n],t.orderBy[n]))return!1;if(e.filters.length!==t.filters.length)return!1;for(let n=0;n<e.filters.length;n++)if(!jf(e.filters[n],t.filters[n]))return!1;return e.collectionGroup===t.collectionGroup&&!!e.path.isEqual(t.path)&&!!_f(e.startAt,t.startAt)&&_f(e.endAt,t.endAt)}function Gf(e){return jd.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}class Yf{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"F",s=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null,o=arguments.length>7&&void 0!==arguments[7]?arguments[7]:null;this.path=e,this.collectionGroup=t,this.explicitOrderBy=n,this.filters=r,this.limit=i,this.limitType=a,this.startAt=s,this.endAt=o,this.he=null,this.Pe=null,this.Te=null,this.startAt,this.endAt}}function Xf(e,t,n,r,i,a,s,o){return new Yf(e,t,n,r,i,a,s,o)}function Jf(e){return new Yf(e)}function Zf(e){return 0===e.filters.length&&null===e.limit&&null==e.startAt&&null==e.endAt&&(0===e.explicitOrderBy.length||1===e.explicitOrderBy.length&&e.explicitOrderBy[0].field.isKeyField())}function ep(e){return null!==e.collectionGroup}function tp(e){const t=sd(e);if(null===t.he){t.he=[];const e=new Set;for(const i of t.explicitOrderBy)t.he.push(i),e.add(i.field.canonicalString());const n=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc",r=function(e){let t=new Rh(Dd.comparator);return e.filters.forEach((e=>{e.getFlattenedFilters().forEach((e=>{e.isInequality()&&(t=t.add(e.field))}))})),t}(t);r.forEach((r=>{e.has(r.canonicalString())||r.isKeyField()||t.he.push(new Cf(r,n))})),e.has(Dd.keyField().canonicalString())||t.he.push(new Cf(Dd.keyField(),n))}return t.he}function np(e){const t=sd(e);return t.Pe||(t.Pe=rp(t,tp(e))),t.Pe}function rp(e,t){if("F"===e.limitType)return Wf(e.path,e.collectionGroup,t,e.filters,e.limit,e.startAt,e.endAt);{t=t.map((e=>{const t="desc"===e.dir?"asc":"desc";return new Cf(e.field,t)}));const n=e.endAt?new Ef(e.endAt.position,e.endAt.inclusive):null,r=e.startAt?new Ef(e.startAt.position,e.startAt.inclusive):null;return Wf(e.path,e.collectionGroup,t,e.filters,e.limit,n,r)}}function ip(e,t,n){return new Yf(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),t,n,e.startAt,e.endAt)}function ap(e,t){return Kf(np(e),np(t))&&e.limitType===t.limitType}function sp(e){return`${Qf(np(e))}|lt:${e.limitType}`}function op(e){return`Query(target=${function(e){let t=e.path.canonicalString();return null!==e.collectionGroup&&(t+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(t+=`, filters: [${e.filters.map((e=>Lf(e))).join(", ")}]`),Yd(e.limit)||(t+=", limit: "+e.limit),e.orderBy.length>0&&(t+=`, orderBy: [${e.orderBy.map((e=>function(e){return`${e.field.canonicalString()} (${e.dir})`}(e))).join(", ")}]`),e.startAt&&(t+=", startAt: ",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map((e=>cf(e))).join(",")),e.endAt&&(t+=", endAt: ",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map((e=>cf(e))).join(",")),`Target(${t})`}(np(e))}; limitType=${e.limitType})`}function lp(e,t){return t.isFoundDocument()&&function(e,t){const n=t.key.path;return null!==e.collectionGroup?t.key.hasCollectionId(e.collectionGroup)&&e.path.isPrefixOf(n):jd.isDocumentKey(e.path)?e.path.isEqual(n):e.path.isImmediateParentOf(n)}(e,t)&&function(e,t){for(const n of tp(e))if(!n.field.isKeyField()&&null===t.data.field(n.field))return!1;return!0}(e,t)&&function(e,t){for(const n of e.filters)if(!n.matches(t))return!1;return!0}(e,t)&&function(e,t){return!(e.startAt&&!function(e,t,n){const r=kf(e,t,n);return e.inclusive?r<=0:r<0}(e.startAt,tp(e),t))&&!(e.endAt&&!function(e,t,n){const r=kf(e,t,n);return e.inclusive?r>=0:r>0}(e.endAt,tp(e),t))}(e,t)}function cp(e){return e.collectionGroup||(e.path.length%2==1?e.path.lastSegment():e.path.get(e.path.length-2))}function up(e){return(t,n)=>{let r=!1;for(const i of tp(e)){const e=dp(i,t,n);if(0!==e)return e;r=r||i.field.isKeyField()}return 0}}function dp(e,t,n){const r=e.field.isKeyField()?jd.comparator(t.key,n.key):function(e,t,n){const r=t.data.field(e),i=n.data.field(e);return null!==r&&null!==i?sf(r,i):id()}(e.field,t,n);switch(e.dir){case"asc":return r;case"desc":return-1*r;default:return id()}}class hp{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),n=this.inner[t];if(void 0!==n)for(const[r,i]of n)if(this.equalsFn(r,e))return i}has(e){return void 0!==this.get(e)}set(e,t){const n=this.mapKeyFn(e),r=this.inner[n];if(void 0===r)return this.inner[n]=[[e,t]],void this.innerSize++;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return void(r[i]=[e,t]);r.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),n=this.inner[t];if(void 0===n)return!1;for(let r=0;r<n.length;r++)if(this.equalsFn(n[r][0],e))return 1===n.length?delete this.inner[t]:n.splice(r,1),this.innerSize--,!0;return!1}forEach(e){Th(this.inner,((t,n)=>{for(const[r,i]of n)e(r,i)}))}isEmpty(){return Ih(this.inner)}size(){return this.innerSize}}const fp=new Ah(jd.comparator);function pp(){return fp}const mp=new Ah(jd.comparator);function gp(){let e=mp;for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(const i of n)e=e.insert(i.key,i);return e}function yp(e){let t=mp;return e.forEach(((e,n)=>t=t.insert(e,n.overlayedDocument))),t}function vp(){return wp()}function bp(){return wp()}function wp(){return new hp((e=>e.toString()),((e,t)=>e.isEqual(t)))}const xp=new Ah(jd.comparator),Sp=new Rh(jd.comparator);function Ep(){let e=Sp;for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(const i of n)e=e.add(i);return e}const kp=new Rh(xd);function _p(){return kp}function Cp(e,t){if(e.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Xd(t)?"-0":t}}function Tp(e){return{integerValue:""+e}}function Ip(e,t){return Jd(t)?Tp(t):Cp(e,t)}class Ap{constructor(){this._=void 0}}function Pp(e,t,n){return e instanceof Op?function(e,t){const n={fields:{[qh]:{stringValue:Vh},[$h]:{timestampValue:{seconds:e.seconds,nanos:e.nanoseconds}}}};return t&&Hh(t)&&(t=Wh(t)),t&&(n.fields[Bh]=t),{mapValue:n}}(n,t):e instanceof Dp?jp(e,t):e instanceof Lp?Mp(e,t):function(e,t){const n=Rp(e,t),r=zp(n)+zp(e.Ie);return hf(n)&&hf(e.Ie)?Tp(r):Cp(e.serializer,r)}(e,t)}function Np(e,t,n){return e instanceof Dp?jp(e,t):e instanceof Lp?Mp(e,t):n}function Rp(e,t){return e instanceof Fp?function(e){return hf(e)||function(e){return!!e&&"doubleValue"in e}(e)}(t)?t:{integerValue:0}:null}class Op extends Ap{}class Dp extends Ap{constructor(e){super(),this.elements=e}}function jp(e,t){const n=Up(t);for(const r of e.elements)n.some((e=>rf(e,r)))||n.push(r);return{arrayValue:{values:n}}}class Lp extends Ap{constructor(e){super(),this.elements=e}}function Mp(e,t){let n=Up(t);for(const r of e.elements)n=n.filter((e=>!rf(e,r)));return{arrayValue:{values:n}}}class Fp extends Ap{constructor(e,t){super(),this.serializer=e,this.Ie=t}}function zp(e){return zh(e.integerValue||e.doubleValue)}function Up(e){return ff(e)&&e.arrayValue.values?e.arrayValue.values.slice():[]}class Vp{constructor(e,t){this.field=e,this.transform=t}}class qp{constructor(e,t){this.version=e,this.transformResults=t}}class Bp{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new Bp}static exists(e){return new Bp(void 0,e)}static updateTime(e){return new Bp(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function $p(e,t){return void 0!==e.updateTime?t.isFoundDocument()&&t.version.isEqual(e.updateTime):void 0===e.exists||e.exists===t.isFoundDocument()}class Hp{}function Wp(e,t){if(!e.hasLocalMutations||t&&0===t.fields.length)return null;if(null===t)return e.isNoDocument()?new nm(e.key,Bp.none()):new Xp(e.key,e.data,Bp.none());{const n=e.data,r=wf.empty();let i=new Rh(Dd.comparator);for(let e of t.fields)if(!i.has(e)){let t=n.field(e);null===t&&e.length>1&&(e=e.popLast(),t=n.field(e)),null===t?r.delete(e):r.set(e,t),i=i.add(e)}return new Jp(e.key,r,new Dh(i.toArray()),Bp.none())}}function Qp(e,t,n){e instanceof Xp?function(e,t,n){const r=e.value.clone(),i=em(e.fieldTransforms,t,n.transformResults);r.setAll(i),t.convertToFoundDocument(n.version,r).setHasCommittedMutations()}(e,t,n):e instanceof Jp?function(e,t,n){if(!$p(e.precondition,t))return void t.convertToUnknownDocument(n.version);const r=em(e.fieldTransforms,t,n.transformResults),i=t.data;i.setAll(Zp(e)),i.setAll(r),t.convertToFoundDocument(n.version,i).setHasCommittedMutations()}(e,t,n):function(e,t,n){t.convertToNoDocument(n.version).setHasCommittedMutations()}(0,t,n)}function Kp(e,t,n,r){return e instanceof Xp?function(e,t,n,r){if(!$p(e.precondition,t))return n;const i=e.value.clone(),a=tm(e.fieldTransforms,r,t);return i.setAll(a),t.convertToFoundDocument(t.version,i).setHasLocalMutations(),null}(e,t,n,r):e instanceof Jp?function(e,t,n,r){if(!$p(e.precondition,t))return n;const i=tm(e.fieldTransforms,r,t),a=t.data;return a.setAll(Zp(e)),a.setAll(i),t.convertToFoundDocument(t.version,a).setHasLocalMutations(),null===n?null:n.unionWith(e.fieldMask.fields).unionWith(e.fieldTransforms.map((e=>e.field)))}(e,t,n,r):function(e,t,n){return $p(e.precondition,t)?(t.convertToNoDocument(t.version).setHasLocalMutations(),null):n}(e,t,n)}function Gp(e,t){let n=null;for(const r of e.fieldTransforms){const e=t.data.field(r.field),i=Rp(r.transform,e||null);null!=i&&(null===n&&(n=wf.empty()),n.set(r.field,i))}return n||null}function Yp(e,t){return e.type===t.type&&!!e.key.isEqual(t.key)&&!!e.precondition.isEqual(t.precondition)&&!!function(e,t){return void 0===e&&void 0===t||!(!e||!t)&&_d(e,t,((e,t)=>function(e,t){return e.field.isEqual(t.field)&&function(e,t){return e instanceof Dp&&t instanceof Dp||e instanceof Lp&&t instanceof Lp?_d(e.elements,t.elements,rf):e instanceof Fp&&t instanceof Fp?rf(e.Ie,t.Ie):e instanceof Op&&t instanceof Op}(e.transform,t.transform)}(e,t)))}(e.fieldTransforms,t.fieldTransforms)&&(0===e.type?e.value.isEqual(t.value):1!==e.type||e.data.isEqual(t.data)&&e.fieldMask.isEqual(t.fieldMask))}class Xp extends Hp{constructor(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[];super(),this.key=e,this.value=t,this.precondition=n,this.fieldTransforms=r,this.type=0}getFieldMask(){return null}}class Jp extends Hp{constructor(e,t,n,r){let i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:[];super(),this.key=e,this.data=t,this.fieldMask=n,this.precondition=r,this.fieldTransforms=i,this.type=1}getFieldMask(){return this.fieldMask}}function Zp(e){const t=new Map;return e.fieldMask.fields.forEach((n=>{if(!n.isEmpty()){const r=e.data.field(n);t.set(n,r)}})),t}function em(e,t,n){const r=new Map;ad(e.length===n.length);for(let i=0;i<n.length;i++){const a=e[i],s=a.transform,o=t.data.field(a.field);r.set(a.field,Np(s,o,n[i]))}return r}function tm(e,t,n){const r=new Map;for(const i of e){const e=i.transform,a=n.data.field(i.field);r.set(i.field,Pp(e,a,t))}return r}class nm extends Hp{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class rm extends Hp{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class im{constructor(e,t,n,r){this.batchId=e,this.localWriteTime=t,this.baseMutations=n,this.mutations=r}applyToRemoteDocument(e,t){const n=t.mutationResults;for(let r=0;r<this.mutations.length;r++){const t=this.mutations[r];t.key.isEqual(e.key)&&Qp(t,e,n[r])}}applyToLocalView(e,t){for(const n of this.baseMutations)n.key.isEqual(e.key)&&(t=Kp(n,e,t,this.localWriteTime));for(const n of this.mutations)n.key.isEqual(e.key)&&(t=Kp(n,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const n=bp();return this.mutations.forEach((r=>{const i=e.get(r.key),a=i.overlayedDocument;let s=this.applyToLocalView(a,i.mutatedFields);s=t.has(r.key)?null:s;const o=Wp(a,s);null!==o&&n.set(r.key,o),a.isValidDocument()||a.convertToNoDocument(Ad.min())})),n}keys(){return this.mutations.reduce(((e,t)=>e.add(t.key)),Ep())}isEqual(e){return this.batchId===e.batchId&&_d(this.mutations,e.mutations,((e,t)=>Yp(e,t)))&&_d(this.baseMutations,e.baseMutations,((e,t)=>Yp(e,t)))}}class am{constructor(e,t,n,r){this.batch=e,this.commitVersion=t,this.mutationResults=n,this.docVersions=r}static from(e,t,n){ad(e.mutations.length===n.length);let r=xp;const i=e.mutations;for(let a=0;a<i.length;a++)r=r.insert(i[a].key,n[a].version);return new am(e,t,n,r)}}class sm{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return null!==e&&this.mutation===e.mutation}toString(){return`Overlay{\n      largestBatchId: ${this.largestBatchId},\n      mutation: ${this.mutation.toString()}\n    }`}}class om{constructor(e,t){this.count=e,this.unchangedNames=t}}var lm,cm;function um(e){switch(e){case od.OK:return id();case od.CANCELLED:case od.UNKNOWN:case od.DEADLINE_EXCEEDED:case od.RESOURCE_EXHAUSTED:case od.INTERNAL:case od.UNAVAILABLE:case od.UNAUTHENTICATED:return!1;case od.INVALID_ARGUMENT:case od.NOT_FOUND:case od.ALREADY_EXISTS:case od.PERMISSION_DENIED:case od.FAILED_PRECONDITION:case od.ABORTED:case od.OUT_OF_RANGE:case od.UNIMPLEMENTED:case od.DATA_LOSS:return!0;default:return id()}}function dm(e){if(void 0===e)return td("GRPC error has no .code"),od.UNKNOWN;switch(e){case lm.OK:return od.OK;case lm.CANCELLED:return od.CANCELLED;case lm.UNKNOWN:return od.UNKNOWN;case lm.DEADLINE_EXCEEDED:return od.DEADLINE_EXCEEDED;case lm.RESOURCE_EXHAUSTED:return od.RESOURCE_EXHAUSTED;case lm.INTERNAL:return od.INTERNAL;case lm.UNAVAILABLE:return od.UNAVAILABLE;case lm.UNAUTHENTICATED:return od.UNAUTHENTICATED;case lm.INVALID_ARGUMENT:return od.INVALID_ARGUMENT;case lm.NOT_FOUND:return od.NOT_FOUND;case lm.ALREADY_EXISTS:return od.ALREADY_EXISTS;case lm.PERMISSION_DENIED:return od.PERMISSION_DENIED;case lm.FAILED_PRECONDITION:return od.FAILED_PRECONDITION;case lm.ABORTED:return od.ABORTED;case lm.OUT_OF_RANGE:return od.OUT_OF_RANGE;case lm.UNIMPLEMENTED:return od.UNIMPLEMENTED;case lm.DATA_LOSS:return od.DATA_LOSS;default:return id()}}(cm=lm||(lm={}))[cm.OK=0]="OK",cm[cm.CANCELLED=1]="CANCELLED",cm[cm.UNKNOWN=2]="UNKNOWN",cm[cm.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",cm[cm.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",cm[cm.NOT_FOUND=5]="NOT_FOUND",cm[cm.ALREADY_EXISTS=6]="ALREADY_EXISTS",cm[cm.PERMISSION_DENIED=7]="PERMISSION_DENIED",cm[cm.UNAUTHENTICATED=16]="UNAUTHENTICATED",cm[cm.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",cm[cm.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",cm[cm.ABORTED=10]="ABORTED",cm[cm.OUT_OF_RANGE=11]="OUT_OF_RANGE",cm[cm.UNIMPLEMENTED=12]="UNIMPLEMENTED",cm[cm.INTERNAL=13]="INTERNAL",cm[cm.UNAVAILABLE=14]="UNAVAILABLE",cm[cm.DATA_LOSS=15]="DATA_LOSS";let hm=null;const fm=new Du([4294967295,4294967295],0);function pm(e){const t=bd().encode(e),n=new ju;return n.update(t),new Uint8Array(n.digest())}function mm(e){const t=new DataView(e.buffer),n=t.getUint32(0,!0),r=t.getUint32(4,!0),i=t.getUint32(8,!0),a=t.getUint32(12,!0);return[new Du([n,r],0),new Du([i,a],0)]}class gm{constructor(e,t,n){if(this.bitmap=e,this.padding=t,this.hashCount=n,t<0||t>=8)throw new ym(`Invalid padding: ${t}`);if(n<0)throw new ym(`Invalid hash count: ${n}`);if(e.length>0&&0===this.hashCount)throw new ym(`Invalid hash count: ${n}`);if(0===e.length&&0!==t)throw new ym(`Invalid padding when bitmap length is 0: ${t}`);this.Ee=8*e.length-t,this.de=Du.fromNumber(this.Ee)}Ae(e,t,n){let r=e.add(t.multiply(Du.fromNumber(n)));return 1===r.compare(fm)&&(r=new Du([r.getBits(0),r.getBits(1)],0)),r.modulo(this.de).toNumber()}Re(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(0===this.Ee)return!1;const t=pm(e),[n,r]=mm(t);for(let i=0;i<this.hashCount;i++){const e=this.Ae(n,r,i);if(!this.Re(e))return!1}return!0}static create(e,t,n){const r=e%8==0?0:8-e%8,i=new Uint8Array(Math.ceil(e/8)),a=new gm(i,r,t);return n.forEach((e=>a.insert(e))),a}insert(e){if(0===this.Ee)return;const t=pm(e),[n,r]=mm(t);for(let i=0;i<this.hashCount;i++){const e=this.Ae(n,r,i);this.Ve(e)}}Ve(e){const t=Math.floor(e/8),n=e%8;this.bitmap[t]|=1<<n}}class ym extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class vm{constructor(e,t,n,r,i){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=n,this.documentUpdates=r,this.resolvedLimboDocuments=i}static createSynthesizedRemoteEventForCurrentChange(e,t,n){const r=new Map;return r.set(e,bm.createSynthesizedTargetChangeForCurrentChange(e,t,n)),new vm(Ad.min(),r,new Ah(xd),pp(),Ep())}}class bm{constructor(e,t,n,r,i){this.resumeToken=e,this.current=t,this.addedDocuments=n,this.modifiedDocuments=r,this.removedDocuments=i}static createSynthesizedTargetChangeForCurrentChange(e,t,n){return new bm(n,t,Ep(),Ep(),Ep())}}class wm{constructor(e,t,n,r){this.me=e,this.removedTargetIds=t,this.key=n,this.fe=r}}class xm{constructor(e,t){this.targetId=e,this.ge=t}}class Sm{constructor(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Lh.EMPTY_BYTE_STRING,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;this.state=e,this.targetIds=t,this.resumeToken=n,this.cause=r}}class Em{constructor(){this.pe=0,this.ye=Cm(),this.we=Lh.EMPTY_BYTE_STRING,this.Se=!1,this.be=!0}get current(){return this.Se}get resumeToken(){return this.we}get De(){return 0!==this.pe}get ve(){return this.be}Ce(e){e.approximateByteSize()>0&&(this.be=!0,this.we=e)}Fe(){let e=Ep(),t=Ep(),n=Ep();return this.ye.forEach(((r,i)=>{switch(i){case 0:e=e.add(r);break;case 2:t=t.add(r);break;case 1:n=n.add(r);break;default:id()}})),new bm(this.we,this.Se,e,t,n)}Me(){this.be=!1,this.ye=Cm()}xe(e,t){this.be=!0,this.ye=this.ye.insert(e,t)}Oe(e){this.be=!0,this.ye=this.ye.remove(e)}Ne(){this.pe+=1}Be(){this.pe-=1,ad(this.pe>=0)}Le(){this.be=!0,this.Se=!0}}class km{constructor(e){this.ke=e,this.qe=new Map,this.Qe=pp(),this.$e=_m(),this.Ue=_m(),this.Ke=new Ah(xd)}We(e){for(const t of e.me)e.fe&&e.fe.isFoundDocument()?this.Ge(t,e.fe):this.ze(t,e.key,e.fe);for(const t of e.removedTargetIds)this.ze(t,e.key,e.fe)}je(e){this.forEachTarget(e,(t=>{const n=this.He(t);switch(e.state){case 0:this.Je(t)&&n.Ce(e.resumeToken);break;case 1:n.Be(),n.De||n.Me(),n.Ce(e.resumeToken);break;case 2:n.Be(),n.De||this.removeTarget(t);break;case 3:this.Je(t)&&(n.Le(),n.Ce(e.resumeToken));break;case 4:this.Je(t)&&(this.Ye(t),n.Ce(e.resumeToken));break;default:id()}}))}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.qe.forEach(((e,n)=>{this.Je(n)&&t(n)}))}Ze(e){const t=e.targetId,n=e.ge.count,r=this.Xe(t);if(r){const i=r.target;if(Gf(i))if(0===n){const e=new jd(i.path);this.ze(t,e,Sf.newNoDocument(e,Ad.min()))}else ad(1===n);else{const r=this.et(t);if(r!==n){const n=this.tt(e),i=n?this.nt(n,e,r):1;if(0!==i){this.Ye(t);const e=2===i?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ke=this.Ke.insert(t,e)}null==hm||hm.rt(function(e,t,n,r,i){var a,s,o,l,c,u;const d={localCacheCount:e,existenceFilterCount:t.count,databaseId:n.database,projectId:n.projectId},h=t.unchangedNames;return h&&(d.bloomFilter={applied:0===i,hashCount:null!==(a=null==h?void 0:h.hashCount)&&void 0!==a?a:0,bitmapLength:null!==(l=null===(o=null===(s=null==h?void 0:h.bits)||void 0===s?void 0:s.bitmap)||void 0===o?void 0:o.length)&&void 0!==l?l:0,padding:null!==(u=null===(c=null==h?void 0:h.bits)||void 0===c?void 0:c.padding)&&void 0!==u?u:0,mightContain:e=>{var t;return null!==(t=null==r?void 0:r.mightContain(e))&&void 0!==t&&t}}),d}(r,e.ge,this.ke.it(),n,i))}}}}tt(e){const t=e.ge.unchangedNames;if(!t||!t.bits)return null;const{bits:{bitmap:n="",padding:r=0},hashCount:i=0}=t;let a,s;try{a=Uh(n).toUint8Array()}catch(e){if(e instanceof jh)return nd("Decoding the base64 bloom filter in existence filter failed ("+e.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw e}try{s=new gm(a,r,i)}catch(e){return nd(e instanceof ym?"BloomFilter error: ":"Applying bloom filter failed: ",e),null}return 0===s.Ee?null:s}nt(e,t,n){return t.ge.count===n-this.st(e,t.targetId)?0:2}st(e,t){const n=this.ke.getRemoteKeysForTarget(t);let r=0;return n.forEach((n=>{const i=this.ke.it(),a=`projects/${i.projectId}/databases/${i.database}/documents/${n.path.canonicalString()}`;e.mightContain(a)||(this.ze(t,n,null),r++)})),r}ot(e){const t=new Map;this.qe.forEach(((n,r)=>{const i=this.Xe(r);if(i){if(n.current&&Gf(i.target)){const t=new jd(i.target.path);this._t(t).has(r)||this.ut(r,t)||this.ze(r,t,Sf.newNoDocument(t,e))}n.ve&&(t.set(r,n.Fe()),n.Me())}}));let n=Ep();this.Ue.forEach(((e,t)=>{let r=!0;t.forEachWhile((e=>{const t=this.Xe(e);return!t||"TargetPurposeLimboResolution"===t.purpose||(r=!1,!1)})),r&&(n=n.add(e))})),this.Qe.forEach(((t,n)=>n.setReadTime(e)));const r=new vm(e,t,this.Ke,this.Qe,n);return this.Qe=pp(),this.$e=_m(),this.Ue=_m(),this.Ke=new Ah(xd),r}Ge(e,t){if(!this.Je(e))return;const n=this.ut(e,t.key)?2:0;this.He(e).xe(t.key,n),this.Qe=this.Qe.insert(t.key,t),this.$e=this.$e.insert(t.key,this._t(t.key).add(e)),this.Ue=this.Ue.insert(t.key,this.ct(t.key).add(e))}ze(e,t,n){if(!this.Je(e))return;const r=this.He(e);this.ut(e,t)?r.xe(t,1):r.Oe(t),this.Ue=this.Ue.insert(t,this.ct(t).delete(e)),this.Ue=this.Ue.insert(t,this.ct(t).add(e)),n&&(this.Qe=this.Qe.insert(t,n))}removeTarget(e){this.qe.delete(e)}et(e){const t=this.He(e).Fe();return this.ke.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}Ne(e){this.He(e).Ne()}He(e){let t=this.qe.get(e);return t||(t=new Em,this.qe.set(e,t)),t}ct(e){let t=this.Ue.get(e);return t||(t=new Rh(xd),this.Ue=this.Ue.insert(e,t)),t}_t(e){let t=this.$e.get(e);return t||(t=new Rh(xd),this.$e=this.$e.insert(e,t)),t}Je(e){const t=null!==this.Xe(e);return t||ed("WatchChangeAggregator","Detected inactive target",e),t}Xe(e){const t=this.qe.get(e);return t&&t.De?null:this.ke.lt(e)}Ye(e){this.qe.set(e,new Em),this.ke.getRemoteKeysForTarget(e).forEach((t=>{this.ze(e,t,null)}))}ut(e,t){return this.ke.getRemoteKeysForTarget(e).has(t)}}function _m(){return new Ah(jd.comparator)}function Cm(){return new Ah(jd.comparator)}const Tm={asc:"ASCENDING",desc:"DESCENDING"},Im={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},Am={and:"AND",or:"OR"};class Pm{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function Nm(e,t){return e.useProto3Json||Yd(t)?t:{value:t}}function Rm(e,t){return e.useProto3Json?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function Om(e,t){return e.useProto3Json?t.toBase64():t.toUint8Array()}function Dm(e,t){return Rm(e,t.toTimestamp())}function jm(e){return ad(!!e),Ad.fromTimestamp(function(e){const t=Fh(e);return new Id(t.seconds,t.nanos)}(e))}function Lm(e,t){return Mm(e,t).canonicalString()}function Mm(e,t){const n=function(e){return new Rd(["projects",e.projectId,"databases",e.database])}(e).child("documents");return void 0===t?n:n.child(t)}function Fm(e){const t=Rd.fromString(e);return ad(ig(t)),t}function zm(e,t){return Lm(e.databaseId,t.path)}function Um(e,t){const n=Fm(t);if(n.get(1)!==e.databaseId.projectId)throw new ld(od.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+e.databaseId.projectId);if(n.get(3)!==e.databaseId.database)throw new ld(od.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+e.databaseId.database);return new jd($m(n))}function Vm(e,t){return Lm(e.databaseId,t)}function qm(e){const t=Fm(e);return 4===t.length?Rd.emptyPath():$m(t)}function Bm(e){return new Rd(["projects",e.databaseId.projectId,"databases",e.databaseId.database]).canonicalString()}function $m(e){return ad(e.length>4&&"documents"===e.get(4)),e.popFirst(5)}function Hm(e,t,n){return{name:zm(e,t),fields:n.value.mapValue.fields}}function Wm(e,t){let n;if(t instanceof Xp)n={update:Hm(e,t.key,t.value)};else if(t instanceof nm)n={delete:zm(e,t.key)};else if(t instanceof Jp)n={update:Hm(e,t.key,t.data),updateMask:rg(t.fieldMask)};else{if(!(t instanceof rm))return id();n={verify:zm(e,t.key)}}return t.fieldTransforms.length>0&&(n.updateTransforms=t.fieldTransforms.map((e=>function(e,t){const n=t.transform;if(n instanceof Op)return{fieldPath:t.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(n instanceof Dp)return{fieldPath:t.field.canonicalString(),appendMissingElements:{values:n.elements}};if(n instanceof Lp)return{fieldPath:t.field.canonicalString(),removeAllFromArray:{values:n.elements}};if(n instanceof Fp)return{fieldPath:t.field.canonicalString(),increment:n.Ie};throw id()}(0,e)))),t.precondition.isNone||(n.currentDocument=function(e,t){return void 0!==t.updateTime?{updateTime:Dm(e,t.updateTime)}:void 0!==t.exists?{exists:t.exists}:id()}(e,t.precondition)),n}function Qm(e,t){return{documents:[Vm(e,t.path)]}}function Km(e,t){const n={structuredQuery:{}},r=t.path;let i;null!==t.collectionGroup?(i=r,n.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(i=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=Vm(e,i);const a=function(e){if(0!==e.length)return ng(Pf.create(e,"and"))}(t.filters);a&&(n.structuredQuery.where=a);const s=function(e){if(0!==e.length)return e.map((e=>function(e){return{field:eg(e.field),direction:Xm(e.dir)}}(e)))}(t.orderBy);s&&(n.structuredQuery.orderBy=s);const o=Nm(e,t.limit);return null!==o&&(n.structuredQuery.limit=o),t.startAt&&(n.structuredQuery.startAt=function(e){return{before:e.inclusive,values:e.position}}(t.startAt)),t.endAt&&(n.structuredQuery.endAt=function(e){return{before:!e.inclusive,values:e.position}}(t.endAt)),{ht:n,parent:i}}function Gm(e){let t=qm(e.parent);const n=e.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){ad(1===r);const e=n.from[0];e.allDescendants?i=e.collectionId:t=t.child(e.collectionId)}let a=[];n.where&&(a=function(e){const t=Ym(e);return t instanceof Pf&&Rf(t)?t.getFilters():[t]}(n.where));let s=[];n.orderBy&&(s=function(e){return e.map((e=>function(e){return new Cf(tg(e.field),function(e){switch(e){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(e.direction))}(e)))}(n.orderBy));let o=null;n.limit&&(o=function(e){let t;return t="object"==typeof e?e.value:e,Yd(t)?null:t}(n.limit));let l=null;n.startAt&&(l=function(e){const t=!!e.before,n=e.values||[];return new Ef(n,t)}(n.startAt));let c=null;return n.endAt&&(c=function(e){const t=!e.before,n=e.values||[];return new Ef(n,t)}(n.endAt)),Xf(t,i,s,a,o,"F",l,c)}function Ym(e){return void 0!==e.unaryFilter?function(e){switch(e.unaryFilter.op){case"IS_NAN":const t=tg(e.unaryFilter.field);return Af.create(t,"==",{doubleValue:NaN});case"IS_NULL":const n=tg(e.unaryFilter.field);return Af.create(n,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const r=tg(e.unaryFilter.field);return Af.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const i=tg(e.unaryFilter.field);return Af.create(i,"!=",{nullValue:"NULL_VALUE"});default:return id()}}(e):void 0!==e.fieldFilter?function(e){return Af.create(tg(e.fieldFilter.field),function(e){switch(e){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return id()}}(e.fieldFilter.op),e.fieldFilter.value)}(e):void 0!==e.compositeFilter?function(e){return Pf.create(e.compositeFilter.filters.map((e=>Ym(e))),function(e){switch(e){case"AND":return"and";case"OR":return"or";default:return id()}}(e.compositeFilter.op))}(e):id()}function Xm(e){return Tm[e]}function Jm(e){return Im[e]}function Zm(e){return Am[e]}function eg(e){return{fieldPath:e.canonicalString()}}function tg(e){return Dd.fromServerFormat(e.fieldPath)}function ng(e){return e instanceof Af?function(e){if("=="===e.op){if(mf(e.value))return{unaryFilter:{field:eg(e.field),op:"IS_NAN"}};if(pf(e.value))return{unaryFilter:{field:eg(e.field),op:"IS_NULL"}}}else if("!="===e.op){if(mf(e.value))return{unaryFilter:{field:eg(e.field),op:"IS_NOT_NAN"}};if(pf(e.value))return{unaryFilter:{field:eg(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:eg(e.field),op:Jm(e.op),value:e.value}}}(e):e instanceof Pf?function(e){const t=e.getFilters().map((e=>ng(e)));return 1===t.length?t[0]:{compositeFilter:{op:Zm(e.op),filters:t}}}(e):id()}function rg(e){const t=[];return e.fields.forEach((e=>t.push(e.canonicalString()))),{fieldPaths:t}}function ig(e){return e.length>=4&&"projects"===e.get(0)&&"databases"===e.get(2)}class ag{constructor(e,t,n,r){let i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:Ad.min(),a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:Ad.min(),s=arguments.length>6&&void 0!==arguments[6]?arguments[6]:Lh.EMPTY_BYTE_STRING,o=arguments.length>7&&void 0!==arguments[7]?arguments[7]:null;this.target=e,this.targetId=t,this.purpose=n,this.sequenceNumber=r,this.snapshotVersion=i,this.lastLimboFreeSnapshotVersion=a,this.resumeToken=s,this.expectedCount=o}withSequenceNumber(e){return new ag(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new ag(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new ag(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new ag(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class sg{constructor(e){this.Tt=e}}function og(e){const t=Gm({parent:e.parent,structuredQuery:e.structuredQuery});return"LAST"===e.limitType?ip(t,t.limit,"L"):t}class lg{constructor(){}At(e,t){this.Rt(e,t),t.Vt()}Rt(e,t){if("nullValue"in e)this.ft(t,5);else if("booleanValue"in e)this.ft(t,10),t.gt(e.booleanValue?1:0);else if("integerValue"in e)this.ft(t,15),t.gt(zh(e.integerValue));else if("doubleValue"in e){const n=zh(e.doubleValue);isNaN(n)?this.ft(t,13):(this.ft(t,15),Xd(n)?t.gt(0):t.gt(n))}else if("timestampValue"in e){let n=e.timestampValue;this.ft(t,20),"string"==typeof n&&(n=Fh(n)),t.yt(`${n.seconds||""}`),t.gt(n.nanos||0)}else if("stringValue"in e)this.wt(e.stringValue,t),this.St(t);else if("bytesValue"in e)this.ft(t,30),t.bt(Uh(e.bytesValue)),this.St(t);else if("referenceValue"in e)this.Dt(e.referenceValue,t);else if("geoPointValue"in e){const n=e.geoPointValue;this.ft(t,45),t.gt(n.latitude||0),t.gt(n.longitude||0)}else"mapValue"in e?bf(e)?this.ft(t,Number.MAX_SAFE_INTEGER):yf(e)?this.vt(e.mapValue,t):(this.Ct(e.mapValue,t),this.St(t)):"arrayValue"in e?(this.Ft(e.arrayValue,t),this.St(t)):id()}wt(e,t){this.ft(t,25),this.Mt(e,t)}Mt(e,t){t.yt(e)}Ct(e,t){const n=e.fields||{};this.ft(t,55);for(const r of Object.keys(n))this.wt(r,t),this.Rt(n[r],t)}vt(e,t){var n,r;const i=e.fields||{};this.ft(t,53);const a=tf,s=(null===(r=null===(n=i[a].arrayValue)||void 0===n?void 0:n.values)||void 0===r?void 0:r.length)||0;this.ft(t,15),t.gt(zh(s)),this.wt(a,t),this.Rt(i[a],t)}Ft(e,t){const n=e.values||[];this.ft(t,50);for(const r of n)this.Rt(r,t)}Dt(e,t){this.ft(t,37),jd.fromName(e).path.forEach((e=>{this.ft(t,60),this.Mt(e,t)}))}ft(e,t){e.gt(t)}St(e){e.gt(2)}}lg.xt=new lg;class cg{constructor(){this.Tn=new ug}addToCollectionParentIndex(e,t){return this.Tn.add(t),Hd.resolve()}getCollectionParents(e,t){return Hd.resolve(this.Tn.getEntries(t))}addFieldIndex(e,t){return Hd.resolve()}deleteFieldIndex(e,t){return Hd.resolve()}deleteAllFieldIndexes(e){return Hd.resolve()}createTargetIndexes(e,t){return Hd.resolve()}getDocumentsMatchingTarget(e,t){return Hd.resolve(null)}getIndexType(e,t){return Hd.resolve(0)}getFieldIndexes(e,t){return Hd.resolve([])}getNextCollectionGroupToUpdate(e){return Hd.resolve(null)}getMinOffset(e,t){return Hd.resolve(Ud.min())}getMinOffsetFromCollectionGroup(e,t){return Hd.resolve(Ud.min())}updateCollectionGroup(e,t,n){return Hd.resolve()}updateIndexEntries(e,t){return Hd.resolve()}}class ug{constructor(){this.index={}}add(e){const t=e.lastSegment(),n=e.popLast(),r=this.index[t]||new Rh(Rd.comparator),i=!r.has(n);return this.index[t]=r.add(n),i}has(e){const t=e.lastSegment(),n=e.popLast(),r=this.index[t];return r&&r.has(n)}getEntries(e){return(this.index[e]||new Rh(Rd.comparator)).toArray()}}new Uint8Array(0);const dg={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},hg=41943040;class fg{static withCacheSize(e){return new fg(e,fg.DEFAULT_COLLECTION_PERCENTILE,fg.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,t,n){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=n}}fg.DEFAULT_COLLECTION_PERCENTILE=10,fg.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,fg.DEFAULT=new fg(hg,fg.DEFAULT_COLLECTION_PERCENTILE,fg.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),fg.DISABLED=new fg(-1,0,0);class pg{constructor(e){this.$n=e}next(){return this.$n+=2,this.$n}static Un(){return new pg(0)}static Kn(){return new pg(-1)}}const mg="LruGarbageCollector",gg=1048576;function yg(e,t){let[n,r]=e,[i,a]=t;const s=xd(n,i);return 0===s?xd(r,a):s}class vg{constructor(e){this.Hn=e,this.buffer=new Rh(yg),this.Jn=0}Yn(){return++this.Jn}Zn(e){const t=[e,this.Yn()];if(this.buffer.size<this.Hn)this.buffer=this.buffer.add(t);else{const e=this.buffer.last();yg(t,e)<0&&(this.buffer=this.buffer.delete(e).add(t))}}get maxValue(){return this.buffer.last()[0]}}class bg{constructor(e,t,n){this.garbageCollector=e,this.asyncQueue=t,this.localStore=n,this.Xn=null}start(){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.er(6e4)}stop(){this.Xn&&(this.Xn.cancel(),this.Xn=null)}get started(){return null!==this.Xn}er(e){ed(mg,`Garbage collection scheduled in ${e}ms`),this.Xn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Xn=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(e){Qd(e)?ed(mg,"Ignoring IndexedDB error during garbage collection: ",e):await $d(e)}await this.er(3e5)}))}}class wg{constructor(e,t){this.tr=e,this.params=t}calculateTargetCount(e,t){return this.tr.nr(e).next((e=>Math.floor(t/100*e)))}nthSequenceNumber(e,t){if(0===t)return Hd.resolve(Kd.ae);const n=new vg(t);return this.tr.forEachTarget(e,(e=>n.Zn(e.sequenceNumber))).next((()=>this.tr.rr(e,(e=>n.Zn(e))))).next((()=>n.maxValue))}removeTargets(e,t,n){return this.tr.removeTargets(e,t,n)}removeOrphanedDocuments(e,t){return this.tr.removeOrphanedDocuments(e,t)}collect(e,t){return-1===this.params.cacheSizeCollectionThreshold?(ed("LruGarbageCollector","Garbage collection skipped; disabled"),Hd.resolve(dg)):this.getCacheSize(e).next((n=>n<this.params.cacheSizeCollectionThreshold?(ed("LruGarbageCollector",`Garbage collection skipped; Cache size ${n} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),dg):this.ir(e,t)))}getCacheSize(e){return this.tr.getCacheSize(e)}ir(e,t){let n,r,i,a,s,o,l;const c=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((t=>(t>this.params.maximumSequenceNumbersToCollect?(ed("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${t}`),r=this.params.maximumSequenceNumbersToCollect):r=t,a=Date.now(),this.nthSequenceNumber(e,r)))).next((r=>(n=r,s=Date.now(),this.removeTargets(e,n,t)))).next((t=>(i=t,o=Date.now(),this.removeOrphanedDocuments(e,n)))).next((e=>(l=Date.now(),Zu()<=Vt.DEBUG&&ed("LruGarbageCollector",`LRU Garbage Collection\n\tCounted targets in ${a-c}ms\n\tDetermined least recently used ${r} in `+(s-a)+"ms\n"+`\tRemoved ${i} targets in `+(o-s)+"ms\n"+`\tRemoved ${e} documents in `+(l-o)+"ms\n"+`Total Duration: ${l-c}ms`),Hd.resolve({didRun:!0,sequenceNumbersCollected:r,targetsRemoved:i,documentsRemoved:e}))))}}function xg(e,t){return new wg(e,t)}class Sg{constructor(){this.changes=new hp((e=>e.toString()),((e,t)=>e.isEqual(t))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,Sf.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const n=this.changes.get(t);return void 0!==n?Hd.resolve(n):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class Eg{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}class kg{constructor(e,t,n,r){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=n,this.indexManager=r}getDocument(e,t){let n=null;return this.documentOverlayCache.getOverlay(e,t).next((r=>(n=r,this.remoteDocumentCache.getEntry(e,t)))).next((e=>(null!==n&&Kp(n.mutation,e,Dh.empty(),Id.now()),e)))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next((t=>this.getLocalViewOfDocuments(e,t,Ep()).next((()=>t))))}getLocalViewOfDocuments(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Ep();const r=vp();return this.populateOverlays(e,r,t).next((()=>this.computeViews(e,t,r,n).next((e=>{let t=gp();return e.forEach(((e,n)=>{t=t.insert(e,n.overlayedDocument)})),t}))))}getOverlayedDocuments(e,t){const n=vp();return this.populateOverlays(e,n,t).next((()=>this.computeViews(e,t,n,Ep())))}populateOverlays(e,t,n){const r=[];return n.forEach((e=>{t.has(e)||r.push(e)})),this.documentOverlayCache.getOverlays(e,r).next((e=>{e.forEach(((e,n)=>{t.set(e,n)}))}))}computeViews(e,t,n,r){let i=pp();const a=wp(),s=wp();return t.forEach(((e,t)=>{const s=n.get(t.key);r.has(t.key)&&(void 0===s||s.mutation instanceof Jp)?i=i.insert(t.key,t):void 0!==s?(a.set(t.key,s.mutation.getFieldMask()),Kp(s.mutation,t,s.mutation.getFieldMask(),Id.now())):a.set(t.key,Dh.empty())})),this.recalculateAndSaveOverlays(e,i).next((e=>(e.forEach(((e,t)=>a.set(e,t))),t.forEach(((e,t)=>{var n;return s.set(e,new Eg(t,null!==(n=a.get(e))&&void 0!==n?n:null))})),s)))}recalculateAndSaveOverlays(e,t){const n=wp();let r=new Ah(((e,t)=>e-t)),i=Ep();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next((e=>{for(const i of e)i.keys().forEach((e=>{const a=t.get(e);if(null===a)return;let s=n.get(e)||Dh.empty();s=i.applyToLocalView(a,s),n.set(e,s);const o=(r.get(i.batchId)||Ep()).add(e);r=r.insert(i.batchId,o)}))})).next((()=>{const a=[],s=r.getReverseIterator();for(;s.hasNext();){const r=s.getNext(),o=r.key,l=r.value,c=bp();l.forEach((e=>{if(!i.has(e)){const r=Wp(t.get(e),n.get(e));null!==r&&c.set(e,r),i=i.add(e)}})),a.push(this.documentOverlayCache.saveOverlays(e,o,c))}return Hd.waitFor(a)})).next((()=>n))}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next((t=>this.recalculateAndSaveOverlays(e,t)))}getDocumentsMatchingQuery(e,t,n,r){return function(e){return jd.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):ep(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,n,r):this.getDocumentsMatchingCollectionQuery(e,t,n,r)}getNextDocuments(e,t,n,r){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,n,r).next((i=>{const a=r-i.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,n.largestBatchId,r-i.size):Hd.resolve(vp());let s=Ld,o=i;return a.next((t=>Hd.forEach(t,((t,n)=>(s<n.largestBatchId&&(s=n.largestBatchId),i.get(t)?Hd.resolve():this.remoteDocumentCache.getEntry(e,t).next((e=>{o=o.insert(t,e)}))))).next((()=>this.populateOverlays(e,t,i))).next((()=>this.computeViews(e,o,t,Ep()))).next((e=>({batchId:s,changes:yp(e)})))))}))}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new jd(t)).next((e=>{let t=gp();return e.isFoundDocument()&&(t=t.insert(e.key,e)),t}))}getDocumentsMatchingCollectionGroupQuery(e,t,n,r){const i=t.collectionGroup;let a=gp();return this.indexManager.getCollectionParents(e,i).next((s=>Hd.forEach(s,(s=>{const o=function(e,t){return new Yf(t,null,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,e.startAt,e.endAt)}(t,s.child(i));return this.getDocumentsMatchingCollectionQuery(e,o,n,r).next((e=>{e.forEach(((e,t)=>{a=a.insert(e,t)}))}))})).next((()=>a))))}getDocumentsMatchingCollectionQuery(e,t,n,r){let i;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,n.largestBatchId).next((a=>(i=a,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,n,i,r)))).next((e=>{i.forEach(((t,n)=>{const r=n.getKey();null===e.get(r)&&(e=e.insert(r,Sf.newInvalidDocument(r)))}));let n=gp();return e.forEach(((e,r)=>{const a=i.get(e);void 0!==a&&Kp(a.mutation,r,Dh.empty(),Id.now()),lp(t,r)&&(n=n.insert(e,r))})),n}))}}class _g{constructor(e){this.serializer=e,this.dr=new Map,this.Ar=new Map}getBundleMetadata(e,t){return Hd.resolve(this.dr.get(t))}saveBundleMetadata(e,t){return this.dr.set(t.id,function(e){return{id:e.id,version:e.version,createTime:jm(e.createTime)}}(t)),Hd.resolve()}getNamedQuery(e,t){return Hd.resolve(this.Ar.get(t))}saveNamedQuery(e,t){return this.Ar.set(t.name,function(e){return{name:e.name,query:og(e.bundledQuery),readTime:jm(e.readTime)}}(t)),Hd.resolve()}}class Cg{constructor(){this.overlays=new Ah(jd.comparator),this.Rr=new Map}getOverlay(e,t){return Hd.resolve(this.overlays.get(t))}getOverlays(e,t){const n=vp();return Hd.forEach(t,(t=>this.getOverlay(e,t).next((e=>{null!==e&&n.set(t,e)})))).next((()=>n))}saveOverlays(e,t,n){return n.forEach(((n,r)=>{this.Et(e,t,r)})),Hd.resolve()}removeOverlaysForBatchId(e,t,n){const r=this.Rr.get(n);return void 0!==r&&(r.forEach((e=>this.overlays=this.overlays.remove(e))),this.Rr.delete(n)),Hd.resolve()}getOverlaysForCollection(e,t,n){const r=vp(),i=t.length+1,a=new jd(t.child("")),s=this.overlays.getIteratorFrom(a);for(;s.hasNext();){const e=s.getNext().value,a=e.getKey();if(!t.isPrefixOf(a.path))break;a.path.length===i&&e.largestBatchId>n&&r.set(e.getKey(),e)}return Hd.resolve(r)}getOverlaysForCollectionGroup(e,t,n,r){let i=new Ah(((e,t)=>e-t));const a=this.overlays.getIterator();for(;a.hasNext();){const e=a.getNext().value;if(e.getKey().getCollectionGroup()===t&&e.largestBatchId>n){let t=i.get(e.largestBatchId);null===t&&(t=vp(),i=i.insert(e.largestBatchId,t)),t.set(e.getKey(),e)}}const s=vp(),o=i.getIterator();for(;o.hasNext()&&(o.getNext().value.forEach(((e,t)=>s.set(e,t))),!(s.size()>=r)););return Hd.resolve(s)}Et(e,t,n){const r=this.overlays.get(n.key);if(null!==r){const e=this.Rr.get(r.largestBatchId).delete(n.key);this.Rr.set(r.largestBatchId,e)}this.overlays=this.overlays.insert(n.key,new sm(t,n));let i=this.Rr.get(t);void 0===i&&(i=Ep(),this.Rr.set(t,i)),this.Rr.set(t,i.add(n.key))}}class Tg{constructor(){this.sessionToken=Lh.EMPTY_BYTE_STRING}getSessionToken(e){return Hd.resolve(this.sessionToken)}setSessionToken(e,t){return this.sessionToken=t,Hd.resolve()}}class Ig{constructor(){this.Vr=new Rh(Ag.mr),this.gr=new Rh(Ag.pr)}isEmpty(){return this.Vr.isEmpty()}addReference(e,t){const n=new Ag(e,t);this.Vr=this.Vr.add(n),this.gr=this.gr.add(n)}yr(e,t){e.forEach((e=>this.addReference(e,t)))}removeReference(e,t){this.wr(new Ag(e,t))}Sr(e,t){e.forEach((e=>this.removeReference(e,t)))}br(e){const t=new jd(new Rd([])),n=new Ag(t,e),r=new Ag(t,e+1),i=[];return this.gr.forEachInRange([n,r],(e=>{this.wr(e),i.push(e.key)})),i}Dr(){this.Vr.forEach((e=>this.wr(e)))}wr(e){this.Vr=this.Vr.delete(e),this.gr=this.gr.delete(e)}vr(e){const t=new jd(new Rd([])),n=new Ag(t,e),r=new Ag(t,e+1);let i=Ep();return this.gr.forEachInRange([n,r],(e=>{i=i.add(e.key)})),i}containsKey(e){const t=new Ag(e,0),n=this.Vr.firstAfterOrEqual(t);return null!==n&&e.isEqual(n.key)}}class Ag{constructor(e,t){this.key=e,this.Cr=t}static mr(e,t){return jd.comparator(e.key,t.key)||xd(e.Cr,t.Cr)}static pr(e,t){return xd(e.Cr,t.Cr)||jd.comparator(e.key,t.key)}}class Pg{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.Fr=1,this.Mr=new Rh(Ag.mr)}checkEmpty(e){return Hd.resolve(0===this.mutationQueue.length)}addMutationBatch(e,t,n,r){const i=this.Fr;this.Fr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const a=new im(i,t,n,r);this.mutationQueue.push(a);for(const s of r)this.Mr=this.Mr.add(new Ag(s.key,i)),this.indexManager.addToCollectionParentIndex(e,s.key.path.popLast());return Hd.resolve(a)}lookupMutationBatch(e,t){return Hd.resolve(this.Or(t))}getNextMutationBatchAfterBatchId(e,t){const n=t+1,r=this.Nr(n),i=r<0?0:r;return Hd.resolve(this.mutationQueue.length>i?this.mutationQueue[i]:null)}getHighestUnacknowledgedBatchId(){return Hd.resolve(0===this.mutationQueue.length?Gd:this.Fr-1)}getAllMutationBatches(e){return Hd.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const n=new Ag(t,0),r=new Ag(t,Number.POSITIVE_INFINITY),i=[];return this.Mr.forEachInRange([n,r],(e=>{const t=this.Or(e.Cr);i.push(t)})),Hd.resolve(i)}getAllMutationBatchesAffectingDocumentKeys(e,t){let n=new Rh(xd);return t.forEach((e=>{const t=new Ag(e,0),r=new Ag(e,Number.POSITIVE_INFINITY);this.Mr.forEachInRange([t,r],(e=>{n=n.add(e.Cr)}))})),Hd.resolve(this.Br(n))}getAllMutationBatchesAffectingQuery(e,t){const n=t.path,r=n.length+1;let i=n;jd.isDocumentKey(i)||(i=i.child(""));const a=new Ag(new jd(i),0);let s=new Rh(xd);return this.Mr.forEachWhile((e=>{const t=e.key.path;return!!n.isPrefixOf(t)&&(t.length===r&&(s=s.add(e.Cr)),!0)}),a),Hd.resolve(this.Br(s))}Br(e){const t=[];return e.forEach((e=>{const n=this.Or(e);null!==n&&t.push(n)})),t}removeMutationBatch(e,t){ad(0===this.Lr(t.batchId,"removed")),this.mutationQueue.shift();let n=this.Mr;return Hd.forEach(t.mutations,(r=>{const i=new Ag(r.key,t.batchId);return n=n.delete(i),this.referenceDelegate.markPotentiallyOrphaned(e,r.key)})).next((()=>{this.Mr=n}))}qn(e){}containsKey(e,t){const n=new Ag(t,0),r=this.Mr.firstAfterOrEqual(n);return Hd.resolve(t.isEqual(r&&r.key))}performConsistencyCheck(e){return this.mutationQueue.length,Hd.resolve()}Lr(e,t){return this.Nr(e)}Nr(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId}Or(e){const t=this.Nr(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}class Ng{constructor(e){this.kr=e,this.docs=new Ah(jd.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const n=t.key,r=this.docs.get(n),i=r?r.size:0,a=this.kr(t);return this.docs=this.docs.insert(n,{document:t.mutableCopy(),size:a}),this.size+=a-i,this.indexManager.addToCollectionParentIndex(e,n.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const n=this.docs.get(t);return Hd.resolve(n?n.document.mutableCopy():Sf.newInvalidDocument(t))}getEntries(e,t){let n=pp();return t.forEach((e=>{const t=this.docs.get(e);n=n.insert(e,t?t.document.mutableCopy():Sf.newInvalidDocument(e))})),Hd.resolve(n)}getDocumentsMatchingQuery(e,t,n,r){let i=pp();const a=t.path,s=new jd(a.child("__id-9223372036854775808__")),o=this.docs.getIteratorFrom(s);for(;o.hasNext();){const{key:e,value:{document:s}}=o.getNext();if(!a.isPrefixOf(e.path))break;e.path.length>a.length+1||Vd(zd(s),n)<=0||(r.has(s.key)||lp(t,s))&&(i=i.insert(s.key,s.mutableCopy()))}return Hd.resolve(i)}getAllFromCollectionGroup(e,t,n,r){id()}qr(e,t){return Hd.forEach(this.docs,(e=>t(e)))}newChangeBuffer(e){return new Rg(this)}getSize(e){return Hd.resolve(this.size)}}class Rg extends Sg{constructor(e){super(),this.Ir=e}applyChanges(e){const t=[];return this.changes.forEach(((n,r)=>{r.isValidDocument()?t.push(this.Ir.addEntry(e,r)):this.Ir.removeEntry(n)})),Hd.waitFor(t)}getFromCache(e,t){return this.Ir.getEntry(e,t)}getAllFromCache(e,t){return this.Ir.getEntries(e,t)}}class Og{constructor(e){this.persistence=e,this.Qr=new hp((e=>Qf(e)),Kf),this.lastRemoteSnapshotVersion=Ad.min(),this.highestTargetId=0,this.$r=0,this.Ur=new Ig,this.targetCount=0,this.Kr=pg.Un()}forEachTarget(e,t){return this.Qr.forEach(((e,n)=>t(n))),Hd.resolve()}getLastRemoteSnapshotVersion(e){return Hd.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return Hd.resolve(this.$r)}allocateTargetId(e){return this.highestTargetId=this.Kr.next(),Hd.resolve(this.highestTargetId)}setTargetsMetadata(e,t,n){return n&&(this.lastRemoteSnapshotVersion=n),t>this.$r&&(this.$r=t),Hd.resolve()}zn(e){this.Qr.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.Kr=new pg(t),this.highestTargetId=t),e.sequenceNumber>this.$r&&(this.$r=e.sequenceNumber)}addTargetData(e,t){return this.zn(t),this.targetCount+=1,Hd.resolve()}updateTargetData(e,t){return this.zn(t),Hd.resolve()}removeTargetData(e,t){return this.Qr.delete(t.target),this.Ur.br(t.targetId),this.targetCount-=1,Hd.resolve()}removeTargets(e,t,n){let r=0;const i=[];return this.Qr.forEach(((a,s)=>{s.sequenceNumber<=t&&null===n.get(s.targetId)&&(this.Qr.delete(a),i.push(this.removeMatchingKeysForTargetId(e,s.targetId)),r++)})),Hd.waitFor(i).next((()=>r))}getTargetCount(e){return Hd.resolve(this.targetCount)}getTargetData(e,t){const n=this.Qr.get(t)||null;return Hd.resolve(n)}addMatchingKeys(e,t,n){return this.Ur.yr(t,n),Hd.resolve()}removeMatchingKeys(e,t,n){this.Ur.Sr(t,n);const r=this.persistence.referenceDelegate,i=[];return r&&t.forEach((t=>{i.push(r.markPotentiallyOrphaned(e,t))})),Hd.waitFor(i)}removeMatchingKeysForTargetId(e,t){return this.Ur.br(t),Hd.resolve()}getMatchingKeysForTargetId(e,t){const n=this.Ur.vr(t);return Hd.resolve(n)}containsKey(e,t){return Hd.resolve(this.Ur.containsKey(t))}}class Dg{constructor(e,t){this.Wr={},this.overlays={},this.Gr=new Kd(0),this.zr=!1,this.zr=!0,this.jr=new Tg,this.referenceDelegate=e(this),this.Hr=new Og(this),this.indexManager=new cg,this.remoteDocumentCache=function(e){return new Ng(e)}((e=>this.referenceDelegate.Jr(e))),this.serializer=new sg(t),this.Yr=new _g(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.zr=!1,Promise.resolve()}get started(){return this.zr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new Cg,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let n=this.Wr[e.toKey()];return n||(n=new Pg(t,this.referenceDelegate),this.Wr[e.toKey()]=n),n}getGlobalsCache(){return this.jr}getTargetCache(){return this.Hr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Yr}runTransaction(e,t,n){ed("MemoryPersistence","Starting transaction:",e);const r=new jg(this.Gr.next());return this.referenceDelegate.Zr(),n(r).next((e=>this.referenceDelegate.Xr(r).next((()=>e)))).toPromise().then((e=>(r.raiseOnCommittedEvent(),e)))}ei(e,t){return Hd.or(Object.values(this.Wr).map((n=>()=>n.containsKey(e,t))))}}class jg extends Bd{constructor(e){super(),this.currentSequenceNumber=e}}class Lg{constructor(e){this.persistence=e,this.ti=new Ig,this.ni=null}static ri(e){return new Lg(e)}get ii(){if(this.ni)return this.ni;throw id()}addReference(e,t,n){return this.ti.addReference(n,t),this.ii.delete(n.toString()),Hd.resolve()}removeReference(e,t,n){return this.ti.removeReference(n,t),this.ii.add(n.toString()),Hd.resolve()}markPotentiallyOrphaned(e,t){return this.ii.add(t.toString()),Hd.resolve()}removeTarget(e,t){this.ti.br(t.targetId).forEach((e=>this.ii.add(e.toString())));const n=this.persistence.getTargetCache();return n.getMatchingKeysForTargetId(e,t.targetId).next((e=>{e.forEach((e=>this.ii.add(e.toString())))})).next((()=>n.removeTargetData(e,t)))}Zr(){this.ni=new Set}Xr(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Hd.forEach(this.ii,(n=>{const r=jd.fromPath(n);return this.si(e,r).next((e=>{e||t.removeEntry(r,Ad.min())}))})).next((()=>(this.ni=null,t.apply(e))))}updateLimboDocument(e,t){return this.si(e,t).next((e=>{e?this.ii.delete(t.toString()):this.ii.add(t.toString())}))}Jr(e){return 0}si(e,t){return Hd.or([()=>Hd.resolve(this.ti.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.ei(e,t)])}}class Mg{constructor(e,t){this.persistence=e,this.oi=new hp((e=>eh(e.path)),((e,t)=>e.isEqual(t))),this.garbageCollector=xg(this,t)}static ri(e,t){return new Mg(e,t)}Zr(){}Xr(e){return Hd.resolve()}forEachTarget(e,t){return this.persistence.getTargetCache().forEachTarget(e,t)}nr(e){const t=this.sr(e);return this.persistence.getTargetCache().getTargetCount(e).next((e=>t.next((t=>e+t))))}sr(e){let t=0;return this.rr(e,(e=>{t++})).next((()=>t))}rr(e,t){return Hd.forEach(this.oi,((n,r)=>this.ar(e,n,r).next((e=>e?Hd.resolve():t(r)))))}removeTargets(e,t,n){return this.persistence.getTargetCache().removeTargets(e,t,n)}removeOrphanedDocuments(e,t){let n=0;const r=this.persistence.getRemoteDocumentCache(),i=r.newChangeBuffer();return r.qr(e,(r=>this.ar(e,r,t).next((e=>{e||(n++,i.removeEntry(r,Ad.min()))})))).next((()=>i.apply(e))).next((()=>n))}markPotentiallyOrphaned(e,t){return this.oi.set(t,e.currentSequenceNumber),Hd.resolve()}removeTarget(e,t){const n=t.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,n)}addReference(e,t,n){return this.oi.set(n,e.currentSequenceNumber),Hd.resolve()}removeReference(e,t,n){return this.oi.set(n,e.currentSequenceNumber),Hd.resolve()}updateLimboDocument(e,t){return this.oi.set(t,e.currentSequenceNumber),Hd.resolve()}Jr(e){let t=e.key.toString().length;return e.isFoundDocument()&&(t+=df(e.data.value)),t}ar(e,t,n){return Hd.or([()=>this.persistence.ei(e,t),()=>this.persistence.getTargetCache().containsKey(e,t),()=>{const e=this.oi.get(t);return Hd.resolve(void 0!==e&&e>n)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}class Fg{constructor(e,t,n,r){this.targetId=e,this.fromCache=t,this.Hi=n,this.Ji=r}static Yi(e,t){let n=Ep(),r=Ep();for(const i of t.docChanges)switch(i.type){case 0:n=n.add(i.doc.key);break;case 1:r=r.add(i.doc.key)}return new Fg(e,t.fromCache,n,r)}}class zg{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}class Ug{constructor(){this.Zi=!1,this.Xi=!1,this.es=100,this.ts=xt()?8:Wd(bt())>0?6:4}initialize(e,t){this.ns=e,this.indexManager=t,this.Zi=!0}getDocumentsMatchingQuery(e,t,n,r){const i={result:null};return this.rs(e,t).next((e=>{i.result=e})).next((()=>{if(!i.result)return this.ss(e,t,r,n).next((e=>{i.result=e}))})).next((()=>{if(i.result)return;const n=new zg;return this._s(e,t,n).next((r=>{if(i.result=r,this.Xi)return this.us(e,t,n,r.size)}))})).next((()=>i.result))}us(e,t,n,r){return n.documentReadCount<this.es?(Zu()<=Vt.DEBUG&&ed("QueryEngine","SDK will not create cache indexes for query:",op(t),"since it only creates cache indexes for collection contains","more than or equal to",this.es,"documents"),Hd.resolve()):(Zu()<=Vt.DEBUG&&ed("QueryEngine","Query:",op(t),"scans",n.documentReadCount,"local documents and returns",r,"documents as results."),n.documentReadCount>this.ts*r?(Zu()<=Vt.DEBUG&&ed("QueryEngine","The SDK decides to create cache indexes for query:",op(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,np(t))):Hd.resolve())}rs(e,t){if(Zf(t))return Hd.resolve(null);let n=np(t);return this.indexManager.getIndexType(e,n).next((r=>0===r?null:(null!==t.limit&&1===r&&(t=ip(t,null,"F"),n=np(t)),this.indexManager.getDocumentsMatchingTarget(e,n).next((r=>{const i=Ep(...r);return this.ns.getDocuments(e,i).next((r=>this.indexManager.getMinOffset(e,n).next((n=>{const a=this.cs(t,r);return this.ls(t,a,i,n.readTime)?this.rs(e,ip(t,null,"F")):this.hs(e,a,t,n)}))))})))))}ss(e,t,n,r){return Zf(t)||r.isEqual(Ad.min())?Hd.resolve(null):this.ns.getDocuments(e,n).next((i=>{const a=this.cs(t,i);return this.ls(t,a,n,r)?Hd.resolve(null):(Zu()<=Vt.DEBUG&&ed("QueryEngine","Re-using previous result from %s to execute query: %s",r.toString(),op(t)),this.hs(e,a,t,Fd(r,Ld)).next((e=>e)))}))}cs(e,t){let n=new Rh(up(e));return t.forEach(((t,r)=>{lp(e,r)&&(n=n.add(r))})),n}ls(e,t,n,r){if(null===e.limit)return!1;if(n.size!==t.size)return!0;const i="F"===e.limitType?t.last():t.first();return!!i&&(i.hasPendingWrites||i.version.compareTo(r)>0)}_s(e,t,n){return Zu()<=Vt.DEBUG&&ed("QueryEngine","Using full collection scan to execute query:",op(t)),this.ns.getDocumentsMatchingQuery(e,t,Ud.min(),n)}hs(e,t,n,r){return this.ns.getDocumentsMatchingQuery(e,n,r).next((e=>(t.forEach((t=>{e=e.insert(t.key,t)})),e)))}}const Vg="LocalStore";class qg{constructor(e,t,n,r){this.persistence=e,this.Ps=t,this.serializer=r,this.Ts=new Ah(xd),this.Is=new hp((e=>Qf(e)),Kf),this.Es=new Map,this.ds=e.getRemoteDocumentCache(),this.Hr=e.getTargetCache(),this.Yr=e.getBundleCache(),this.As(n)}As(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new kg(this.ds,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.ds.setIndexManager(this.indexManager),this.Ps.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(t=>e.collect(t,this.Ts)))}}function Bg(e,t,n,r){return new qg(e,t,n,r)}async function $g(e,t){const n=sd(e);return await n.persistence.runTransaction("Handle user change","readonly",(e=>{let r;return n.mutationQueue.getAllMutationBatches(e).next((i=>(r=i,n.As(t),n.mutationQueue.getAllMutationBatches(e)))).next((t=>{const i=[],a=[];let s=Ep();for(const e of r){i.push(e.batchId);for(const t of e.mutations)s=s.add(t.key)}for(const e of t){a.push(e.batchId);for(const t of e.mutations)s=s.add(t.key)}return n.localDocuments.getDocuments(e,s).next((e=>({Rs:e,removedBatchIds:i,addedBatchIds:a})))}))}))}function Hg(e){const t=sd(e);return t.persistence.runTransaction("Get last remote snapshot version","readonly",(e=>t.Hr.getLastRemoteSnapshotVersion(e)))}function Wg(e,t,n){let r=Ep(),i=Ep();return n.forEach((e=>r=r.add(e))),t.getEntries(e,r).next((e=>{let r=pp();return n.forEach(((n,a)=>{const s=e.get(n);a.isFoundDocument()!==s.isFoundDocument()&&(i=i.add(n)),a.isNoDocument()&&a.version.isEqual(Ad.min())?(t.removeEntry(n,a.readTime),r=r.insert(n,a)):!s.isValidDocument()||a.version.compareTo(s.version)>0||0===a.version.compareTo(s.version)&&s.hasPendingWrites?(t.addEntry(a),r=r.insert(n,a)):ed(Vg,"Ignoring outdated watch update for ",n,". Current version:",s.version," Watch version:",a.version)})),{Vs:r,fs:i}}))}function Qg(e,t){const n=sd(e);return n.persistence.runTransaction("Get next mutation batch","readonly",(e=>(void 0===t&&(t=Gd),n.mutationQueue.getNextMutationBatchAfterBatchId(e,t))))}function Kg(e,t){const n=sd(e);return n.persistence.runTransaction("Allocate target","readwrite",(e=>{let r;return n.Hr.getTargetData(e,t).next((i=>i?(r=i,Hd.resolve(r)):n.Hr.allocateTargetId(e).next((i=>(r=new ag(t,i,"TargetPurposeListen",e.currentSequenceNumber),n.Hr.addTargetData(e,r).next((()=>r)))))))})).then((e=>{const r=n.Ts.get(e.targetId);return(null===r||e.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(n.Ts=n.Ts.insert(e.targetId,e),n.Is.set(t,e.targetId)),e}))}async function Gg(e,t,n){const r=sd(e),i=r.Ts.get(t),a=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",a,(e=>r.persistence.referenceDelegate.removeTarget(e,i)))}catch(e){if(!Qd(e))throw e;ed(Vg,`Failed to update sequence numbers for target ${t}: ${e}`)}r.Ts=r.Ts.remove(t),r.Is.delete(i.target)}function Yg(e,t,n){const r=sd(e);let i=Ad.min(),a=Ep();return r.persistence.runTransaction("Execute query","readwrite",(e=>function(e,t,n){const r=sd(e),i=r.Is.get(n);return void 0!==i?Hd.resolve(r.Ts.get(i)):r.Hr.getTargetData(t,n)}(r,e,np(t)).next((t=>{if(t)return i=t.lastLimboFreeSnapshotVersion,r.Hr.getMatchingKeysForTargetId(e,t.targetId).next((e=>{a=e}))})).next((()=>r.Ps.getDocumentsMatchingQuery(e,t,n?i:Ad.min(),n?a:Ep()))).next((e=>(Xg(r,cp(t),e),{documents:e,gs:a})))))}function Xg(e,t,n){let r=e.Es.get(t)||Ad.min();n.forEach(((e,t)=>{t.readTime.compareTo(r)>0&&(r=t.readTime)})),e.Es.set(t,r)}class Jg{constructor(){this.activeTargetIds=_p()}Ds(e){this.activeTargetIds=this.activeTargetIds.add(e)}vs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}bs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class Zg{constructor(){this.ho=new Jg,this.Po={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,n){}addLocalQueryTarget(e){return(!(arguments.length>1&&void 0!==arguments[1])||arguments[1])&&this.ho.Ds(e),this.Po[e]||"not-current"}updateQueryState(e,t,n){this.Po[e]=t}removeLocalQueryTarget(e){this.ho.vs(e)}isLocalQueryTarget(e){return this.ho.activeTargetIds.has(e)}clearQueryState(e){delete this.Po[e]}getAllActiveQueryTargets(){return this.ho.activeTargetIds}isActiveQueryTarget(e){return this.ho.activeTargetIds.has(e)}start(){return this.ho=new Jg,Promise.resolve()}handleUserChange(e,t,n){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class ey{To(e){}shutdown(){}}const ty="ConnectivityMonitor";class ny{constructor(){this.Io=()=>this.Eo(),this.Ao=()=>this.Ro(),this.Vo=[],this.mo()}To(e){this.Vo.push(e)}shutdown(){window.removeEventListener("online",this.Io),window.removeEventListener("offline",this.Ao)}mo(){window.addEventListener("online",this.Io),window.addEventListener("offline",this.Ao)}Eo(){ed(ty,"Network connectivity changed: AVAILABLE");for(const e of this.Vo)e(0)}Ro(){ed(ty,"Network connectivity changed: UNAVAILABLE");for(const e of this.Vo)e(1)}static D(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}let ry=null;function iy(){return null===ry?ry=268435456+Math.round(2147483648*Math.random()):ry++,"0x"+ry.toString(16)}const ay="RestConnection",sy={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class oy{get fo(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const t=e.ssl?"https":"http",n=encodeURIComponent(this.databaseId.projectId),r=encodeURIComponent(this.databaseId.database);this.po=t+"://"+e.host,this.yo=`projects/${n}/databases/${r}`,this.wo=this.databaseId.database===Gh?`project_id=${n}`:`project_id=${n}&database_id=${r}`}So(e,t,n,r,i){const a=iy(),s=this.bo(e,t.toUriEncodedString());ed(ay,`Sending RPC '${e}' ${a}:`,s,n);const o={"google-cloud-resource-prefix":this.yo,"x-goog-request-params":this.wo};return this.Do(o,r,i),this.vo(e,s,o,n).then((t=>(ed(ay,`Received RPC '${e}' ${a}: `,t),t)),(t=>{throw nd(ay,`RPC '${e}' ${a} failed with error: `,t,"url: ",s,"request:",n),t}))}Co(e,t,n,r,i,a){return this.So(e,t,n,r,i)}Do(e,t,n){e["X-Goog-Api-Client"]="gl-js/ fire/"+Xu,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach(((t,n)=>e[n]=t)),n&&n.headers.forEach(((t,n)=>e[n]=t))}bo(e,t){const n=sy[e];return`${this.po}/v1/${t}:${n}`}terminate(){}}class ly{constructor(e){this.Fo=e.Fo,this.Mo=e.Mo}xo(e){this.Oo=e}No(e){this.Bo=e}Lo(e){this.ko=e}onMessage(e){this.qo=e}close(){this.Mo()}send(e){this.Fo(e)}Qo(){this.Oo()}$o(){this.Bo()}Uo(e){this.ko(e)}Ko(e){this.qo(e)}}const cy="WebChannelConnection";class uy extends oy{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}vo(e,t,n,r){const i=iy();return new Promise(((a,s)=>{const o=new Fu;o.setWithCredentials(!0),o.listenOnce(Uu.COMPLETE,(()=>{try{switch(o.getLastErrorCode()){case Vu.NO_ERROR:const t=o.getResponseJson();ed(cy,`XHR for RPC '${e}' ${i} received:`,JSON.stringify(t)),a(t);break;case Vu.TIMEOUT:ed(cy,`RPC '${e}' ${i} timed out`),s(new ld(od.DEADLINE_EXCEEDED,"Request time out"));break;case Vu.HTTP_ERROR:const n=o.getStatus();if(ed(cy,`RPC '${e}' ${i} failed with status:`,n,"response text:",o.getResponseText()),n>0){let e=o.getResponseJson();Array.isArray(e)&&(e=e[0]);const t=null==e?void 0:e.error;if(t&&t.status&&t.message){const e=function(e){const t=e.toLowerCase().replace(/_/g,"-");return Object.values(od).indexOf(t)>=0?t:od.UNKNOWN}(t.status);s(new ld(e,t.message))}else s(new ld(od.UNKNOWN,"Server responded with status "+o.getStatus()))}else s(new ld(od.UNAVAILABLE,"Connection failed."));break;default:id()}}finally{ed(cy,`RPC '${e}' ${i} completed.`)}}));const l=JSON.stringify(r);ed(cy,`RPC '${e}' ${i} sending request:`,r),o.send(t,"POST",l,n,15)}))}Wo(e,t,n){const r=iy(),i=[this.po,"/","google.firestore.v1.Firestore","/",e,"/channel"],a=Hu(),s=$u(),o={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},l=this.longPollingOptions.timeoutSeconds;void 0!==l&&(o.longPollingTimeout=Math.round(1e3*l)),this.useFetchStreams&&(o.useFetchStreams=!0),this.Do(o.initMessageHeaders,t,n),o.encodeInitMessageHeaders=!0;const c=i.join("");ed(cy,`Creating RPC '${e}' stream ${r}: ${c}`,o);const u=a.createWebChannel(c,o);let d=!1,h=!1;const f=new ly({Fo:t=>{h?ed(cy,`Not sending because RPC '${e}' stream ${r} is closed:`,t):(d||(ed(cy,`Opening RPC '${e}' stream ${r} transport.`),u.open(),d=!0),ed(cy,`RPC '${e}' stream ${r} sending:`,t),u.send(t))},Mo:()=>u.close()}),p=(e,t,n)=>{e.listen(t,(e=>{try{n(e)}catch(e){setTimeout((()=>{throw e}),0)}}))};return p(u,zu.EventType.OPEN,(()=>{h||(ed(cy,`RPC '${e}' stream ${r} transport opened.`),f.Qo())})),p(u,zu.EventType.CLOSE,(()=>{h||(h=!0,ed(cy,`RPC '${e}' stream ${r} transport closed`),f.Uo())})),p(u,zu.EventType.ERROR,(t=>{h||(h=!0,nd(cy,`RPC '${e}' stream ${r} transport errored:`,t),f.Uo(new ld(od.UNAVAILABLE,"The operation could not be completed")))})),p(u,zu.EventType.MESSAGE,(t=>{var n;if(!h){const i=t.data[0];ad(!!i);const a=i,s=(null==a?void 0:a.error)||(null===(n=a[0])||void 0===n?void 0:n.error);if(s){ed(cy,`RPC '${e}' stream ${r} received error:`,s);const t=s.status;let n=function(e){const t=lm[e];if(void 0!==t)return dm(t)}(t),i=s.message;void 0===n&&(n=od.INTERNAL,i="Unknown error status: "+t+" with message "+s.message),h=!0,f.Uo(new ld(n,i)),u.close()}else ed(cy,`RPC '${e}' stream ${r} received:`,i),f.Ko(i)}})),p(s,Bu.STAT_EVENT,(t=>{t.stat===qu.PROXY?ed(cy,`RPC '${e}' stream ${r} detected buffering proxy`):t.stat===qu.NOPROXY&&ed(cy,`RPC '${e}' stream ${r} detected no buffering proxy`)})),setTimeout((()=>{f.$o()}),0),f}}function dy(){return"undefined"!=typeof document?document:null}function hy(e){return new Pm(e,!0)}class fy{constructor(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1e3,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1.5,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:6e4;this.Ti=e,this.timerId=t,this.Go=n,this.zo=r,this.jo=i,this.Ho=0,this.Jo=null,this.Yo=Date.now(),this.reset()}reset(){this.Ho=0}Zo(){this.Ho=this.jo}Xo(e){this.cancel();const t=Math.floor(this.Ho+this.e_()),n=Math.max(0,Date.now()-this.Yo),r=Math.max(0,t-n);r>0&&ed("ExponentialBackoff",`Backing off for ${r} ms (base delay: ${this.Ho} ms, delay with jitter: ${t} ms, last attempt: ${n} ms ago)`),this.Jo=this.Ti.enqueueAfterDelay(this.timerId,r,(()=>(this.Yo=Date.now(),e()))),this.Ho*=this.zo,this.Ho<this.Go&&(this.Ho=this.Go),this.Ho>this.jo&&(this.Ho=this.jo)}t_(){null!==this.Jo&&(this.Jo.skipDelay(),this.Jo=null)}cancel(){null!==this.Jo&&(this.Jo.cancel(),this.Jo=null)}e_(){return(Math.random()-.5)*this.Ho}}const py="PersistentStream";class my{constructor(e,t,n,r,i,a,s,o){this.Ti=e,this.n_=n,this.r_=r,this.connection=i,this.authCredentialsProvider=a,this.appCheckCredentialsProvider=s,this.listener=o,this.state=0,this.i_=0,this.s_=null,this.o_=null,this.stream=null,this.__=0,this.a_=new fy(e,t)}u_(){return 1===this.state||5===this.state||this.c_()}c_(){return 2===this.state||3===this.state}start(){this.__=0,4!==this.state?this.auth():this.l_()}async stop(){this.u_()&&await this.close(0)}h_(){this.state=0,this.a_.reset()}P_(){this.c_()&&null===this.s_&&(this.s_=this.Ti.enqueueAfterDelay(this.n_,6e4,(()=>this.T_())))}I_(e){this.E_(),this.stream.send(e)}async T_(){if(this.c_())return this.close(0)}E_(){this.s_&&(this.s_.cancel(),this.s_=null)}d_(){this.o_&&(this.o_.cancel(),this.o_=null)}async close(e,t){this.E_(),this.d_(),this.a_.cancel(),this.i_++,4!==e?this.a_.reset():t&&t.code===od.RESOURCE_EXHAUSTED?(td(t.toString()),td("Using maximum backoff delay to prevent overloading the backend."),this.a_.Zo()):t&&t.code===od.UNAUTHENTICATED&&3!==this.state&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),null!==this.stream&&(this.A_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.Lo(t)}A_(){}auth(){this.state=1;const e=this.R_(this.i_),t=this.i_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((e=>{let[n,r]=e;this.i_===t&&this.V_(n,r)}),(t=>{e((()=>{const e=new ld(od.UNKNOWN,"Fetching auth token failed: "+t.message);return this.m_(e)}))}))}V_(e,t){const n=this.R_(this.i_);this.stream=this.f_(e,t),this.stream.xo((()=>{n((()=>this.listener.xo()))})),this.stream.No((()=>{n((()=>(this.state=2,this.o_=this.Ti.enqueueAfterDelay(this.r_,1e4,(()=>(this.c_()&&(this.state=3),Promise.resolve()))),this.listener.No())))})),this.stream.Lo((e=>{n((()=>this.m_(e)))})),this.stream.onMessage((e=>{n((()=>1==++this.__?this.g_(e):this.onNext(e)))}))}l_(){this.state=5,this.a_.Xo((async()=>{this.state=0,this.start()}))}m_(e){return ed(py,`close with error: ${e}`),this.stream=null,this.close(4,e)}R_(e){return t=>{this.Ti.enqueueAndForget((()=>this.i_===e?t():(ed(py,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class gy extends my{constructor(e,t,n,r,i,a){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,n,r,a),this.serializer=i}f_(e,t){return this.connection.Wo("Listen",e,t)}g_(e){return this.onNext(e)}onNext(e){this.a_.reset();const t=function(e,t){let n;if("targetChange"in t){t.targetChange;const r=function(e){return"NO_CHANGE"===e?0:"ADD"===e?1:"REMOVE"===e?2:"CURRENT"===e?3:"RESET"===e?4:id()}(t.targetChange.targetChangeType||"NO_CHANGE"),i=t.targetChange.targetIds||[],a=function(e,t){return e.useProto3Json?(ad(void 0===t||"string"==typeof t),Lh.fromBase64String(t||"")):(ad(void 0===t||t instanceof Buffer||t instanceof Uint8Array),Lh.fromUint8Array(t||new Uint8Array))}(e,t.targetChange.resumeToken),s=t.targetChange.cause,o=s&&function(e){const t=void 0===e.code?od.UNKNOWN:dm(e.code);return new ld(t,e.message||"")}(s);n=new Sm(r,i,a,o||null)}else if("documentChange"in t){t.documentChange;const r=t.documentChange;r.document,r.document.name,r.document.updateTime;const i=Um(e,r.document.name),a=jm(r.document.updateTime),s=r.document.createTime?jm(r.document.createTime):Ad.min(),o=new wf({mapValue:{fields:r.document.fields}}),l=Sf.newFoundDocument(i,a,s,o),c=r.targetIds||[],u=r.removedTargetIds||[];n=new wm(c,u,l.key,l)}else if("documentDelete"in t){t.documentDelete;const r=t.documentDelete;r.document;const i=Um(e,r.document),a=r.readTime?jm(r.readTime):Ad.min(),s=Sf.newNoDocument(i,a),o=r.removedTargetIds||[];n=new wm([],o,s.key,s)}else if("documentRemove"in t){t.documentRemove;const r=t.documentRemove;r.document;const i=Um(e,r.document),a=r.removedTargetIds||[];n=new wm([],a,i,null)}else{if(!("filter"in t))return id();{t.filter;const e=t.filter;e.targetId;const{count:r=0,unchangedNames:i}=e,a=new om(r,i),s=e.targetId;n=new xm(s,a)}}return n}(this.serializer,e),n=function(e){if(!("targetChange"in e))return Ad.min();const t=e.targetChange;return t.targetIds&&t.targetIds.length?Ad.min():t.readTime?jm(t.readTime):Ad.min()}(e);return this.listener.p_(t,n)}y_(e){const t={};t.database=Bm(this.serializer),t.addTarget=function(e,t){let n;const r=t.target;if(n=Gf(r)?{documents:Qm(e,r)}:{query:Km(e,r).ht},n.targetId=t.targetId,t.resumeToken.approximateByteSize()>0){n.resumeToken=Om(e,t.resumeToken);const r=Nm(e,t.expectedCount);null!==r&&(n.expectedCount=r)}else if(t.snapshotVersion.compareTo(Ad.min())>0){n.readTime=Rm(e,t.snapshotVersion.toTimestamp());const r=Nm(e,t.expectedCount);null!==r&&(n.expectedCount=r)}return n}(this.serializer,e);const n=function(e,t){const n=function(e){switch(e){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return id()}}(t.purpose);return null==n?null:{"goog-listen-tags":n}}(this.serializer,e);n&&(t.labels=n),this.I_(t)}w_(e){const t={};t.database=Bm(this.serializer),t.removeTarget=e,this.I_(t)}}class yy extends my{constructor(e,t,n,r,i,a){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,n,r,a),this.serializer=i}get S_(){return this.__>0}start(){this.lastStreamToken=void 0,super.start()}A_(){this.S_&&this.b_([])}f_(e,t){return this.connection.Wo("Write",e,t)}g_(e){return ad(!!e.streamToken),this.lastStreamToken=e.streamToken,ad(!e.writeResults||0===e.writeResults.length),this.listener.D_()}onNext(e){ad(!!e.streamToken),this.lastStreamToken=e.streamToken,this.a_.reset();const t=function(e,t){return e&&e.length>0?(ad(void 0!==t),e.map((e=>function(e,t){let n=e.updateTime?jm(e.updateTime):jm(t);return n.isEqual(Ad.min())&&(n=jm(t)),new qp(n,e.transformResults||[])}(e,t)))):[]}(e.writeResults,e.commitTime),n=jm(e.commitTime);return this.listener.v_(n,t)}C_(){const e={};e.database=Bm(this.serializer),this.I_(e)}b_(e){const t={streamToken:this.lastStreamToken,writes:e.map((e=>Wm(this.serializer,e)))};this.I_(t)}}class vy{}class by extends vy{constructor(e,t,n,r){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=n,this.serializer=r,this.F_=!1}M_(){if(this.F_)throw new ld(od.FAILED_PRECONDITION,"The client has already been terminated.")}So(e,t,n,r){return this.M_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((i=>{let[a,s]=i;return this.connection.So(e,Mm(t,n),r,a,s)})).catch((e=>{throw"FirebaseError"===e.name?(e.code===od.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),e):new ld(od.UNKNOWN,e.toString())}))}Co(e,t,n,r,i){return this.M_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((a=>{let[s,o]=a;return this.connection.Co(e,Mm(t,n),r,s,o,i)})).catch((e=>{throw"FirebaseError"===e.name?(e.code===od.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),e):new ld(od.UNKNOWN,e.toString())}))}terminate(){this.F_=!0,this.connection.terminate()}}class wy{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.x_=0,this.O_=null,this.N_=!0}B_(){0===this.x_&&(this.L_("Unknown"),this.O_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this.O_=null,this.k_("Backend didn't respond within 10 seconds."),this.L_("Offline"),Promise.resolve()))))}q_(e){"Online"===this.state?this.L_("Unknown"):(this.x_++,this.x_>=1&&(this.Q_(),this.k_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.L_("Offline")))}set(e){this.Q_(),this.x_=0,"Online"===e&&(this.N_=!1),this.L_(e)}L_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}k_(e){const t=`Could not reach Cloud Firestore backend. ${e}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.N_?(td(t),this.N_=!1):ed("OnlineStateTracker",t)}Q_(){null!==this.O_&&(this.O_.cancel(),this.O_=null)}}const xy="RemoteStore";class Sy{constructor(e,t,n,r,i){this.localStore=e,this.datastore=t,this.asyncQueue=n,this.remoteSyncer={},this.U_=[],this.K_=new Map,this.W_=new Set,this.G_=[],this.z_=i,this.z_.To((e=>{n.enqueueAndForget((async()=>{Ny(this)&&(ed(xy,"Restarting streams for network reachability change."),await async function(e){const t=sd(e);t.W_.add(4),await ky(t),t.j_.set("Unknown"),t.W_.delete(4),await Ey(t)}(this))}))})),this.j_=new wy(n,r)}}async function Ey(e){if(Ny(e))for(const t of e.G_)await t(!0)}async function ky(e){for(const t of e.G_)await t(!1)}function _y(e,t){const n=sd(e);n.K_.has(t.targetId)||(n.K_.set(t.targetId,t),Py(n)?Ay(n):Yy(n).c_()&&Ty(n,t))}function Cy(e,t){const n=sd(e),r=Yy(n);n.K_.delete(t),r.c_()&&Iy(n,t),0===n.K_.size&&(r.c_()?r.P_():Ny(n)&&n.j_.set("Unknown"))}function Ty(e,t){if(e.H_.Ne(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(Ad.min())>0){const n=e.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(n)}Yy(e).y_(t)}function Iy(e,t){e.H_.Ne(t),Yy(e).w_(t)}function Ay(e){e.H_=new km({getRemoteKeysForTarget:t=>e.remoteSyncer.getRemoteKeysForTarget(t),lt:t=>e.K_.get(t)||null,it:()=>e.datastore.serializer.databaseId}),Yy(e).start(),e.j_.B_()}function Py(e){return Ny(e)&&!Yy(e).u_()&&e.K_.size>0}function Ny(e){return 0===sd(e).W_.size}function Ry(e){e.H_=void 0}async function Oy(e){e.j_.set("Online")}async function Dy(e){e.K_.forEach(((t,n)=>{Ty(e,t)}))}async function jy(e,t){Ry(e),Py(e)?(e.j_.q_(t),Ay(e)):e.j_.set("Unknown")}async function Ly(e,t,n){if(e.j_.set("Online"),t instanceof Sm&&2===t.state&&t.cause)try{await async function(e,t){const n=t.cause;for(const r of t.targetIds)e.K_.has(r)&&(await e.remoteSyncer.rejectListen(r,n),e.K_.delete(r),e.H_.removeTarget(r))}(e,t)}catch(n){ed(xy,"Failed to remove targets %s: %s ",t.targetIds.join(","),n),await My(e,n)}else if(t instanceof wm?e.H_.We(t):t instanceof xm?e.H_.Ze(t):e.H_.je(t),!n.isEqual(Ad.min()))try{const t=await Hg(e.localStore);n.compareTo(t)>=0&&await function(e,t){const n=e.H_.ot(t);return n.targetChanges.forEach(((n,r)=>{if(n.resumeToken.approximateByteSize()>0){const i=e.K_.get(r);i&&e.K_.set(r,i.withResumeToken(n.resumeToken,t))}})),n.targetMismatches.forEach(((t,n)=>{const r=e.K_.get(t);if(!r)return;e.K_.set(t,r.withResumeToken(Lh.EMPTY_BYTE_STRING,r.snapshotVersion)),Iy(e,t);const i=new ag(r.target,t,n,r.sequenceNumber);Ty(e,i)})),e.remoteSyncer.applyRemoteEvent(n)}(e,n)}catch(t){ed(xy,"Failed to raise snapshot:",t),await My(e,t)}}async function My(e,t,n){if(!Qd(t))throw t;e.W_.add(1),await ky(e),e.j_.set("Offline"),n||(n=()=>Hg(e.localStore)),e.asyncQueue.enqueueRetryable((async()=>{ed(xy,"Retrying IndexedDB access"),await n(),e.W_.delete(1),await Ey(e)}))}function Fy(e,t){return t().catch((n=>My(e,n,t)))}async function zy(e){const t=sd(e),n=Xy(t);let r=t.U_.length>0?t.U_[t.U_.length-1].batchId:Gd;for(;Uy(t);)try{const e=await Qg(t.localStore,r);if(null===e){0===t.U_.length&&n.P_();break}r=e.batchId,Vy(t,e)}catch(e){await My(t,e)}qy(t)&&By(t)}function Uy(e){return Ny(e)&&e.U_.length<10}function Vy(e,t){e.U_.push(t);const n=Xy(e);n.c_()&&n.S_&&n.b_(t.mutations)}function qy(e){return Ny(e)&&!Xy(e).u_()&&e.U_.length>0}function By(e){Xy(e).start()}async function $y(e){Xy(e).C_()}async function Hy(e){const t=Xy(e);for(const n of e.U_)t.b_(n.mutations)}async function Wy(e,t,n){const r=e.U_.shift(),i=am.from(r,t,n);await Fy(e,(()=>e.remoteSyncer.applySuccessfulWrite(i))),await zy(e)}async function Qy(e,t){t&&Xy(e).S_&&await async function(e,t){if(function(e){return um(e)&&e!==od.ABORTED}(t.code)){const n=e.U_.shift();Xy(e).h_(),await Fy(e,(()=>e.remoteSyncer.rejectFailedWrite(n.batchId,t))),await zy(e)}}(e,t),qy(e)&&By(e)}async function Ky(e,t){const n=sd(e);n.asyncQueue.verifyOperationInProgress(),ed(xy,"RemoteStore received new credentials");const r=Ny(n);n.W_.add(3),await ky(n),r&&n.j_.set("Unknown"),await n.remoteSyncer.handleCredentialChange(t),n.W_.delete(3),await Ey(n)}async function Gy(e,t){const n=sd(e);t?(n.W_.delete(2),await Ey(n)):t||(n.W_.add(2),await ky(n),n.j_.set("Unknown"))}function Yy(e){return e.J_||(e.J_=function(e,t,n){const r=sd(e);return r.M_(),new gy(t,r.connection,r.authCredentials,r.appCheckCredentials,r.serializer,n)}(e.datastore,e.asyncQueue,{xo:Oy.bind(null,e),No:Dy.bind(null,e),Lo:jy.bind(null,e),p_:Ly.bind(null,e)}),e.G_.push((async t=>{t?(e.J_.h_(),Py(e)?Ay(e):e.j_.set("Unknown")):(await e.J_.stop(),Ry(e))}))),e.J_}function Xy(e){return e.Y_||(e.Y_=function(e,t,n){const r=sd(e);return r.M_(),new yy(t,r.connection,r.authCredentials,r.appCheckCredentials,r.serializer,n)}(e.datastore,e.asyncQueue,{xo:()=>Promise.resolve(),No:$y.bind(null,e),Lo:Qy.bind(null,e),D_:Hy.bind(null,e),v_:Wy.bind(null,e)}),e.G_.push((async t=>{t?(e.Y_.h_(),await zy(e)):(await e.Y_.stop(),e.U_.length>0&&(ed(xy,`Stopping write stream with ${e.U_.length} pending writes`),e.U_=[]))}))),e.Y_}class Jy{constructor(e,t,n,r,i){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=n,this.op=r,this.removalCallback=i,this.deferred=new cd,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((e=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,t,n,r,i){const a=Date.now()+n,s=new Jy(e,t,a,r,i);return s.start(n),s}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new ld(od.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Zy(e,t){if(td("AsyncQueue",`${t}: ${e}`),Qd(e))return new ld(od.UNAVAILABLE,`${t}: ${e}`);throw e}class ev{static emptySet(e){return new ev(e.comparator)}constructor(e){this.comparator=e?(t,n)=>e(t,n)||jd.comparator(t.key,n.key):(e,t)=>jd.comparator(e.key,t.key),this.keyedMap=gp(),this.sortedSet=new Ah(this.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((t,n)=>(e(t),!1)))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof ev))return!1;if(this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),n=e.sortedSet.getIterator();for(;t.hasNext();){const e=t.getNext().key,r=n.getNext().key;if(!e.isEqual(r))return!1}return!0}toString(){const e=[];return this.forEach((t=>{e.push(t.toString())})),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,t){const n=new ev;return n.comparator=this.comparator,n.keyedMap=e,n.sortedSet=t,n}}class tv{constructor(){this.Z_=new Ah(jd.comparator)}track(e){const t=e.doc.key,n=this.Z_.get(t);n?0!==e.type&&3===n.type?this.Z_=this.Z_.insert(t,e):3===e.type&&1!==n.type?this.Z_=this.Z_.insert(t,{type:n.type,doc:e.doc}):2===e.type&&2===n.type?this.Z_=this.Z_.insert(t,{type:2,doc:e.doc}):2===e.type&&0===n.type?this.Z_=this.Z_.insert(t,{type:0,doc:e.doc}):1===e.type&&0===n.type?this.Z_=this.Z_.remove(t):1===e.type&&2===n.type?this.Z_=this.Z_.insert(t,{type:1,doc:n.doc}):0===e.type&&1===n.type?this.Z_=this.Z_.insert(t,{type:2,doc:e.doc}):id():this.Z_=this.Z_.insert(t,e)}X_(){const e=[];return this.Z_.inorderTraversal(((t,n)=>{e.push(n)})),e}}class nv{constructor(e,t,n,r,i,a,s,o,l){this.query=e,this.docs=t,this.oldDocs=n,this.docChanges=r,this.mutatedKeys=i,this.fromCache=a,this.syncStateChanged=s,this.excludesMetadataChanges=o,this.hasCachedResults=l}static fromInitialDocuments(e,t,n,r,i){const a=[];return t.forEach((e=>{a.push({type:0,doc:e})})),new nv(e,t,ev.emptySet(t),a,n,r,!0,!1,i)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&ap(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,n=e.docChanges;if(t.length!==n.length)return!1;for(let r=0;r<t.length;r++)if(t[r].type!==n[r].type||!t[r].doc.isEqual(n[r].doc))return!1;return!0}}class rv{constructor(){this.ea=void 0,this.ta=[]}na(){return this.ta.some((e=>e.ra()))}}class iv{constructor(){this.queries=av(),this.onlineState="Unknown",this.ia=new Set}terminate(){!function(e,t){const n=sd(e),r=n.queries;n.queries=av(),r.forEach(((e,n)=>{for(const r of n.ta)r.onError(t)}))}(this,new ld(od.ABORTED,"Firestore shutting down"))}}function av(){return new hp((e=>sp(e)),ap)}async function sv(e,t){const n=sd(e);let r=3;const i=t.query;let a=n.queries.get(i);a?!a.na()&&t.ra()&&(r=2):(a=new rv,r=t.ra()?0:1);try{switch(r){case 0:a.ea=await n.onListen(i,!0);break;case 1:a.ea=await n.onListen(i,!1);break;case 2:await n.onFirstRemoteStoreListen(i)}}catch(e){const n=Zy(e,`Initialization of query '${op(t.query)}' failed`);return void t.onError(n)}n.queries.set(i,a),a.ta.push(t),t.sa(n.onlineState),a.ea&&t.oa(a.ea)&&uv(n)}async function ov(e,t){const n=sd(e),r=t.query;let i=3;const a=n.queries.get(r);if(a){const e=a.ta.indexOf(t);e>=0&&(a.ta.splice(e,1),0===a.ta.length?i=t.ra()?0:1:!a.na()&&t.ra()&&(i=2))}switch(i){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function lv(e,t){const n=sd(e);let r=!1;for(const i of t){const e=i.query,t=n.queries.get(e);if(t){for(const e of t.ta)e.oa(i)&&(r=!0);t.ea=i}}r&&uv(n)}function cv(e,t,n){const r=sd(e),i=r.queries.get(t);if(i)for(const a of i.ta)a.onError(n);r.queries.delete(t)}function uv(e){e.ia.forEach((e=>{e.next()}))}var dv,hv;(hv=dv||(dv={}))._a="default",hv.Cache="cache";class fv{constructor(e,t,n){this.query=e,this.aa=t,this.ua=!1,this.ca=null,this.onlineState="Unknown",this.options=n||{}}oa(e){if(!this.options.includeMetadataChanges){const t=[];for(const n of e.docChanges)3!==n.type&&t.push(n);e=new nv(e.query,e.docs,e.oldDocs,t,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.ua?this.la(e)&&(this.aa.next(e),t=!0):this.ha(e,this.onlineState)&&(this.Pa(e),t=!0),this.ca=e,t}onError(e){this.aa.error(e)}sa(e){this.onlineState=e;let t=!1;return this.ca&&!this.ua&&this.ha(this.ca,e)&&(this.Pa(this.ca),t=!0),t}ha(e,t){if(!e.fromCache)return!0;if(!this.ra())return!0;const n="Offline"!==t;return(!this.options.Ta||!n)&&(!e.docs.isEmpty()||e.hasCachedResults||"Offline"===t)}la(e){if(e.docChanges.length>0)return!0;const t=this.ca&&this.ca.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&!0===this.options.includeMetadataChanges}Pa(e){e=nv.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.ua=!0,this.aa.next(e)}ra(){return this.options.source!==dv.Cache}}class pv{constructor(e){this.key=e}}class mv{constructor(e){this.key=e}}class gv{constructor(e,t){this.query=e,this.fa=t,this.ga=null,this.hasCachedResults=!1,this.current=!1,this.pa=Ep(),this.mutatedKeys=Ep(),this.ya=up(e),this.wa=new ev(this.ya)}get Sa(){return this.fa}ba(e,t){const n=t?t.Da:new tv,r=t?t.wa:this.wa;let i=t?t.mutatedKeys:this.mutatedKeys,a=r,s=!1;const o="F"===this.query.limitType&&r.size===this.query.limit?r.last():null,l="L"===this.query.limitType&&r.size===this.query.limit?r.first():null;if(e.inorderTraversal(((e,t)=>{const c=r.get(e),u=lp(this.query,t)?t:null,d=!!c&&this.mutatedKeys.has(c.key),h=!!u&&(u.hasLocalMutations||this.mutatedKeys.has(u.key)&&u.hasCommittedMutations);let f=!1;c&&u?c.data.isEqual(u.data)?d!==h&&(n.track({type:3,doc:u}),f=!0):this.va(c,u)||(n.track({type:2,doc:u}),f=!0,(o&&this.ya(u,o)>0||l&&this.ya(u,l)<0)&&(s=!0)):!c&&u?(n.track({type:0,doc:u}),f=!0):c&&!u&&(n.track({type:1,doc:c}),f=!0,(o||l)&&(s=!0)),f&&(u?(a=a.add(u),i=h?i.add(e):i.delete(e)):(a=a.delete(e),i=i.delete(e)))})),null!==this.query.limit)for(;a.size>this.query.limit;){const e="F"===this.query.limitType?a.last():a.first();a=a.delete(e.key),i=i.delete(e.key),n.track({type:1,doc:e})}return{wa:a,Da:n,ls:s,mutatedKeys:i}}va(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,n,r){const i=this.wa;this.wa=e.wa,this.mutatedKeys=e.mutatedKeys;const a=e.Da.X_();a.sort(((e,t)=>function(e,t){const n=e=>{switch(e){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return id()}};return n(e)-n(t)}(e.type,t.type)||this.ya(e.doc,t.doc))),this.Ca(n),r=null!=r&&r;const s=t&&!r?this.Fa():[],o=0===this.pa.size&&this.current&&!r?1:0,l=o!==this.ga;return this.ga=o,0!==a.length||l?{snapshot:new nv(this.query,e.wa,i,a,e.mutatedKeys,0===o,l,!1,!!n&&n.resumeToken.approximateByteSize()>0),Ma:s}:{Ma:s}}sa(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({wa:this.wa,Da:new tv,mutatedKeys:this.mutatedKeys,ls:!1},!1)):{Ma:[]}}xa(e){return!this.fa.has(e)&&!!this.wa.has(e)&&!this.wa.get(e).hasLocalMutations}Ca(e){e&&(e.addedDocuments.forEach((e=>this.fa=this.fa.add(e))),e.modifiedDocuments.forEach((e=>{})),e.removedDocuments.forEach((e=>this.fa=this.fa.delete(e))),this.current=e.current)}Fa(){if(!this.current)return[];const e=this.pa;this.pa=Ep(),this.wa.forEach((e=>{this.xa(e.key)&&(this.pa=this.pa.add(e.key))}));const t=[];return e.forEach((e=>{this.pa.has(e)||t.push(new mv(e))})),this.pa.forEach((n=>{e.has(n)||t.push(new pv(n))})),t}Oa(e){this.fa=e.gs,this.pa=Ep();const t=this.ba(e.documents);return this.applyChanges(t,!0)}Na(){return nv.fromInitialDocuments(this.query,this.wa,this.mutatedKeys,0===this.ga,this.hasCachedResults)}}const yv="SyncEngine";class vv{constructor(e,t,n){this.query=e,this.targetId=t,this.view=n}}class bv{constructor(e){this.key=e,this.Ba=!1}}class wv{constructor(e,t,n,r,i,a){this.localStore=e,this.remoteStore=t,this.eventManager=n,this.sharedClientState=r,this.currentUser=i,this.maxConcurrentLimboResolutions=a,this.La={},this.ka=new hp((e=>sp(e)),ap),this.qa=new Map,this.Qa=new Set,this.$a=new Ah(jd.comparator),this.Ua=new Map,this.Ka=new Ig,this.Wa={},this.Ga=new Map,this.za=pg.Kn(),this.onlineState="Unknown",this.ja=void 0}get isPrimaryClient(){return!0===this.ja}}async function xv(e,t){let n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];const r=qv(e);let i;const a=r.ka.get(t);return a?(r.sharedClientState.addLocalQueryTarget(a.targetId),i=a.view.Na()):i=await Ev(r,t,n,!0),i}async function Sv(e,t){const n=qv(e);await Ev(n,t,!0,!1)}async function Ev(e,t,n,r){const i=await Kg(e.localStore,np(t)),a=i.targetId,s=e.sharedClientState.addLocalQueryTarget(a,n);let o;return r&&(o=await kv(e,t,a,"current"===s,i.resumeToken)),e.isPrimaryClient&&n&&_y(e.remoteStore,i),o}async function kv(e,t,n,r,i){e.Ha=(t,n,r)=>async function(e,t,n,r){let i=t.view.ba(n);i.ls&&(i=await Yg(e.localStore,t.query,!1).then((e=>{let{documents:n}=e;return t.view.ba(n,i)})));const a=r&&r.targetChanges.get(t.targetId),s=r&&null!=r.targetMismatches.get(t.targetId),o=t.view.applyChanges(i,e.isPrimaryClient,a,s);return Lv(e,t.targetId,o.Ma),o.snapshot}(e,t,n,r);const a=await Yg(e.localStore,t,!0),s=new gv(t,a.gs),o=s.ba(a.documents),l=bm.createSynthesizedTargetChangeForCurrentChange(n,r&&"Offline"!==e.onlineState,i),c=s.applyChanges(o,e.isPrimaryClient,l);Lv(e,n,c.Ma);const u=new vv(t,n,s);return e.ka.set(t,u),e.qa.has(n)?e.qa.get(n).push(t):e.qa.set(n,[t]),c.snapshot}async function _v(e,t,n){const r=sd(e),i=r.ka.get(t),a=r.qa.get(i.targetId);if(a.length>1)return r.qa.set(i.targetId,a.filter((e=>!ap(e,t)))),void r.ka.delete(t);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||await Gg(r.localStore,i.targetId,!1).then((()=>{r.sharedClientState.clearQueryState(i.targetId),n&&Cy(r.remoteStore,i.targetId),Dv(r,i.targetId)})).catch($d)):(Dv(r,i.targetId),await Gg(r.localStore,i.targetId,!0))}async function Cv(e,t){const n=sd(e),r=n.ka.get(t),i=n.qa.get(r.targetId);n.isPrimaryClient&&1===i.length&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),Cy(n.remoteStore,r.targetId))}async function Tv(e,t){const n=sd(e);try{const e=await function(e,t){const n=sd(e),r=t.snapshotVersion;let i=n.Ts;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(e=>{const a=n.ds.newChangeBuffer({trackRemovals:!0});i=n.Ts;const s=[];t.targetChanges.forEach(((a,o)=>{const l=i.get(o);if(!l)return;s.push(n.Hr.removeMatchingKeys(e,a.removedDocuments,o).next((()=>n.Hr.addMatchingKeys(e,a.addedDocuments,o))));let c=l.withSequenceNumber(e.currentSequenceNumber);null!==t.targetMismatches.get(o)?c=c.withResumeToken(Lh.EMPTY_BYTE_STRING,Ad.min()).withLastLimboFreeSnapshotVersion(Ad.min()):a.resumeToken.approximateByteSize()>0&&(c=c.withResumeToken(a.resumeToken,r)),i=i.insert(o,c),function(e,t,n){return 0===e.resumeToken.approximateByteSize()||(t.snapshotVersion.toMicroseconds()-e.snapshotVersion.toMicroseconds()>=3e8||n.addedDocuments.size+n.modifiedDocuments.size+n.removedDocuments.size>0)}(l,c,a)&&s.push(n.Hr.updateTargetData(e,c))}));let o=pp(),l=Ep();if(t.documentUpdates.forEach((r=>{t.resolvedLimboDocuments.has(r)&&s.push(n.persistence.referenceDelegate.updateLimboDocument(e,r))})),s.push(Wg(e,a,t.documentUpdates).next((e=>{o=e.Vs,l=e.fs}))),!r.isEqual(Ad.min())){const t=n.Hr.getLastRemoteSnapshotVersion(e).next((t=>n.Hr.setTargetsMetadata(e,e.currentSequenceNumber,r)));s.push(t)}return Hd.waitFor(s).next((()=>a.apply(e))).next((()=>n.localDocuments.getLocalViewOfDocuments(e,o,l))).next((()=>o))})).then((e=>(n.Ts=i,e)))}(n.localStore,t);t.targetChanges.forEach(((e,t)=>{const r=n.Ua.get(t);r&&(ad(e.addedDocuments.size+e.modifiedDocuments.size+e.removedDocuments.size<=1),e.addedDocuments.size>0?r.Ba=!0:e.modifiedDocuments.size>0?ad(r.Ba):e.removedDocuments.size>0&&(ad(r.Ba),r.Ba=!1))})),await zv(n,e,t)}catch(e){await $d(e)}}function Iv(e,t,n){const r=sd(e);if(r.isPrimaryClient&&0===n||!r.isPrimaryClient&&1===n){const e=[];r.ka.forEach(((n,r)=>{const i=r.view.sa(t);i.snapshot&&e.push(i.snapshot)})),function(e,t){const n=sd(e);n.onlineState=t;let r=!1;n.queries.forEach(((e,n)=>{for(const i of n.ta)i.sa(t)&&(r=!0)})),r&&uv(n)}(r.eventManager,t),e.length&&r.La.p_(e),r.onlineState=t,r.isPrimaryClient&&r.sharedClientState.setOnlineState(t)}}async function Av(e,t,n){const r=sd(e);r.sharedClientState.updateQueryState(t,"rejected",n);const i=r.Ua.get(t),a=i&&i.key;if(a){let e=new Ah(jd.comparator);e=e.insert(a,Sf.newNoDocument(a,Ad.min()));const n=Ep().add(a),i=new vm(Ad.min(),new Map,new Ah(xd),e,n);await Tv(r,i),r.$a=r.$a.remove(a),r.Ua.delete(t),Fv(r)}else await Gg(r.localStore,t,!1).then((()=>Dv(r,t,n))).catch($d)}async function Pv(e,t){const n=sd(e),r=t.batch.batchId;try{const e=await function(e,t){const n=sd(e);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(e=>{const r=t.batch.keys(),i=n.ds.newChangeBuffer({trackRemovals:!0});return function(e,t,n,r){const i=n.batch,a=i.keys();let s=Hd.resolve();return a.forEach((e=>{s=s.next((()=>r.getEntry(t,e))).next((t=>{const a=n.docVersions.get(e);ad(null!==a),t.version.compareTo(a)<0&&(i.applyToRemoteDocument(t,n),t.isValidDocument()&&(t.setReadTime(n.commitVersion),r.addEntry(t)))}))})),s.next((()=>e.mutationQueue.removeMutationBatch(t,i)))}(n,e,t,i).next((()=>i.apply(e))).next((()=>n.mutationQueue.performConsistencyCheck(e))).next((()=>n.documentOverlayCache.removeOverlaysForBatchId(e,r,t.batch.batchId))).next((()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(e,function(e){let t=Ep();for(let n=0;n<e.mutationResults.length;++n)e.mutationResults[n].transformResults.length>0&&(t=t.add(e.batch.mutations[n].key));return t}(t)))).next((()=>n.localDocuments.getDocuments(e,r)))}))}(n.localStore,t);Ov(n,r,null),Rv(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await zv(n,e)}catch(e){await $d(e)}}async function Nv(e,t,n){const r=sd(e);try{const e=await function(e,t){const n=sd(e);return n.persistence.runTransaction("Reject batch","readwrite-primary",(e=>{let r;return n.mutationQueue.lookupMutationBatch(e,t).next((t=>(ad(null!==t),r=t.keys(),n.mutationQueue.removeMutationBatch(e,t)))).next((()=>n.mutationQueue.performConsistencyCheck(e))).next((()=>n.documentOverlayCache.removeOverlaysForBatchId(e,r,t))).next((()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(e,r))).next((()=>n.localDocuments.getDocuments(e,r)))}))}(r.localStore,t);Ov(r,t,n),Rv(r,t),r.sharedClientState.updateMutationState(t,"rejected",n),await zv(r,e)}catch(n){await $d(n)}}function Rv(e,t){(e.Ga.get(t)||[]).forEach((e=>{e.resolve()})),e.Ga.delete(t)}function Ov(e,t,n){const r=sd(e);let i=r.Wa[r.currentUser.toKey()];if(i){const e=i.get(t);e&&(n?e.reject(n):e.resolve(),i=i.remove(t)),r.Wa[r.currentUser.toKey()]=i}}function Dv(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;e.sharedClientState.removeLocalQueryTarget(t);for(const r of e.qa.get(t))e.ka.delete(r),n&&e.La.Ja(r,n);e.qa.delete(t),e.isPrimaryClient&&e.Ka.br(t).forEach((t=>{e.Ka.containsKey(t)||jv(e,t)}))}function jv(e,t){e.Qa.delete(t.path.canonicalString());const n=e.$a.get(t);null!==n&&(Cy(e.remoteStore,n),e.$a=e.$a.remove(t),e.Ua.delete(n),Fv(e))}function Lv(e,t,n){for(const r of n)r instanceof pv?(e.Ka.addReference(r.key,t),Mv(e,r)):r instanceof mv?(ed(yv,"Document no longer in limbo: "+r.key),e.Ka.removeReference(r.key,t),e.Ka.containsKey(r.key)||jv(e,r.key)):id()}function Mv(e,t){const n=t.key,r=n.path.canonicalString();e.$a.get(n)||e.Qa.has(r)||(ed(yv,"New document in limbo: "+n),e.Qa.add(r),Fv(e))}function Fv(e){for(;e.Qa.size>0&&e.$a.size<e.maxConcurrentLimboResolutions;){const t=e.Qa.values().next().value;e.Qa.delete(t);const n=new jd(Rd.fromString(t)),r=e.za.next();e.Ua.set(r,new bv(n)),e.$a=e.$a.insert(n,r),_y(e.remoteStore,new ag(np(Jf(n.path)),r,"TargetPurposeLimboResolution",Kd.ae))}}async function zv(e,t,n){const r=sd(e),i=[],a=[],s=[];r.ka.isEmpty()||(r.ka.forEach(((e,o)=>{s.push(r.Ha(o,t,n).then((e=>{var t;if((e||n)&&r.isPrimaryClient){const i=e?!e.fromCache:null===(t=null==n?void 0:n.targetChanges.get(o.targetId))||void 0===t?void 0:t.current;r.sharedClientState.updateQueryState(o.targetId,i?"current":"not-current")}if(e){i.push(e);const t=Fg.Yi(o.targetId,e);a.push(t)}})))})),await Promise.all(s),r.La.p_(i),await async function(e,t){const n=sd(e);try{await n.persistence.runTransaction("notifyLocalViewChanges","readwrite",(e=>Hd.forEach(t,(t=>Hd.forEach(t.Hi,(r=>n.persistence.referenceDelegate.addReference(e,t.targetId,r))).next((()=>Hd.forEach(t.Ji,(r=>n.persistence.referenceDelegate.removeReference(e,t.targetId,r)))))))))}catch(e){if(!Qd(e))throw e;ed(Vg,"Failed to update sequence numbers: "+e)}for(const r of t){const e=r.targetId;if(!r.fromCache){const t=n.Ts.get(e),r=t.snapshotVersion,i=t.withLastLimboFreeSnapshotVersion(r);n.Ts=n.Ts.insert(e,i)}}}(r.localStore,a))}async function Uv(e,t){const n=sd(e);if(!n.currentUser.isEqual(t)){ed(yv,"User change. New user:",t.toKey());const e=await $g(n.localStore,t);n.currentUser=t,function(e,t){e.Ga.forEach((e=>{e.forEach((e=>{e.reject(new ld(od.CANCELLED,t))}))})),e.Ga.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(t,e.removedBatchIds,e.addedBatchIds),await zv(n,e.Rs)}}function Vv(e,t){const n=sd(e),r=n.Ua.get(t);if(r&&r.Ba)return Ep().add(r.key);{let e=Ep();const r=n.qa.get(t);if(!r)return e;for(const t of r){const r=n.ka.get(t);e=e.unionWith(r.view.Sa)}return e}}function qv(e){const t=sd(e);return t.remoteStore.remoteSyncer.applyRemoteEvent=Tv.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=Vv.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=Av.bind(null,t),t.La.p_=lv.bind(null,t.eventManager),t.La.Ja=cv.bind(null,t.eventManager),t}function Bv(e){const t=sd(e);return t.remoteStore.remoteSyncer.applySuccessfulWrite=Pv.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=Nv.bind(null,t),t}class $v{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=hy(e.databaseInfo.databaseId),this.sharedClientState=this.Za(e),this.persistence=this.Xa(e),await this.persistence.start(),this.localStore=this.eu(e),this.gcScheduler=this.tu(e,this.localStore),this.indexBackfillerScheduler=this.nu(e,this.localStore)}tu(e,t){return null}nu(e,t){return null}eu(e){return Bg(this.persistence,new Ug,e.initialUser,this.serializer)}Xa(e){return new Dg(Lg.ri,this.serializer)}Za(e){return new Zg}async terminate(){var e,t;null===(e=this.gcScheduler)||void 0===e||e.stop(),null===(t=this.indexBackfillerScheduler)||void 0===t||t.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}$v.provider={build:()=>new $v};class Hv extends $v{constructor(e){super(),this.cacheSizeBytes=e}tu(e,t){ad(this.persistence.referenceDelegate instanceof Mg);const n=this.persistence.referenceDelegate.garbageCollector;return new bg(n,e.asyncQueue,t)}Xa(e){const t=void 0!==this.cacheSizeBytes?fg.withCacheSize(this.cacheSizeBytes):fg.DEFAULT;return new Dg((e=>Mg.ri(e,t)),this.serializer)}}class Wv{async initialize(e,t){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=e=>Iv(this.syncEngine,e,1),this.remoteStore.remoteSyncer.handleCredentialChange=Uv.bind(null,this.syncEngine),await Gy(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return new iv}createDatastore(e){const t=hy(e.databaseInfo.databaseId),n=function(e){return new uy(e)}(e.databaseInfo);return function(e,t,n,r){return new by(e,t,n,r)}(e.authCredentials,e.appCheckCredentials,n,t)}createRemoteStore(e){return function(e,t,n,r,i){return new Sy(e,t,n,r,i)}(this.localStore,this.datastore,e.asyncQueue,(e=>Iv(this.syncEngine,e,0)),ny.D()?new ny:new ey)}createSyncEngine(e,t){return function(e,t,n,r,i,a,s){const o=new wv(e,t,n,r,i,a);return s&&(o.ja=!0),o}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}async terminate(){var e,t;await async function(e){const t=sd(e);ed(xy,"RemoteStore shutting down."),t.W_.add(5),await ky(t),t.z_.shutdown(),t.j_.set("Unknown")}(this.remoteStore),null===(e=this.datastore)||void 0===e||e.terminate(),null===(t=this.eventManager)||void 0===t||t.terminate()}}Wv.provider={build:()=>new Wv};class Qv{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.iu(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.iu(this.observer.error,e):td("Uncaught Error in snapshot listener:",e.toString()))}su(){this.muted=!0}iu(e,t){setTimeout((()=>{this.muted||e(t)}),0)}}const Kv="FirestoreClient";class Gv{constructor(e,t,n,r,i){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=n,this.databaseInfo=r,this.user=Yu.UNAUTHENTICATED,this.clientId=wd.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=i,this.authCredentials.start(n,(async e=>{ed(Kv,"Received user=",e.uid),await this.authCredentialListener(e),this.user=e})),this.appCheckCredentials.start(n,(e=>(ed(Kv,"Received new app check token=",e),this.appCheckCredentialListener(e,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new cd;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(to){const n=Zy(to,"Failed to shutdown persistence");e.reject(n)}})),e.promise}}async function Yv(e,t){e.asyncQueue.verifyOperationInProgress(),ed(Kv,"Initializing OfflineComponentProvider");const n=e.configuration;await t.initialize(n);let r=n.initialUser;e.setCredentialChangeListener((async e=>{r.isEqual(e)||(await $g(t.localStore,e),r=e)})),t.persistence.setDatabaseDeletedListener((()=>e.terminate())),e._offlineComponents=t}async function Xv(e,t){e.asyncQueue.verifyOperationInProgress();const n=await Jv(e);ed(Kv,"Initializing OnlineComponentProvider"),await t.initialize(n,e.configuration),e.setCredentialChangeListener((e=>Ky(t.remoteStore,e))),e.setAppCheckTokenChangeListener(((e,n)=>Ky(t.remoteStore,n))),e._onlineComponents=t}async function Jv(e){if(!e._offlineComponents)if(e._uninitializedComponentsProvider){ed(Kv,"Using user provided OfflineComponentProvider");try{await Yv(e,e._uninitializedComponentsProvider._offline)}catch(to){const n=to;if(!function(e){return"FirebaseError"===e.name?e.code===od.FAILED_PRECONDITION||e.code===od.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&e instanceof DOMException)||22===e.code||20===e.code||11===e.code}(n))throw n;nd("Error using user provided cache. Falling back to memory cache: "+n),await Yv(e,new $v)}}else ed(Kv,"Using default OfflineComponentProvider"),await Yv(e,new Hv(void 0));return e._offlineComponents}async function Zv(e){return e._onlineComponents||(e._uninitializedComponentsProvider?(ed(Kv,"Using user provided OnlineComponentProvider"),await Xv(e,e._uninitializedComponentsProvider._online)):(ed(Kv,"Using default OnlineComponentProvider"),await Xv(e,new Wv))),e._onlineComponents}function eb(e){return Zv(e).then((e=>e.syncEngine))}async function tb(e){const t=await Zv(e),n=t.eventManager;return n.onListen=xv.bind(null,t.syncEngine),n.onUnlisten=_v.bind(null,t.syncEngine),n.onFirstRemoteStoreListen=Sv.bind(null,t.syncEngine),n.onLastRemoteStoreUnlisten=Cv.bind(null,t.syncEngine),n}function nb(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const r=new cd;return e.asyncQueue.enqueueAndForget((async()=>function(e,t,n,r,i){const a=new Qv({next:o=>{a.su(),t.enqueueAndForget((()=>ov(e,s)));const l=o.docs.has(n);!l&&o.fromCache?i.reject(new ld(od.UNAVAILABLE,"Failed to get document because the client is offline.")):l&&o.fromCache&&r&&"server"===r.source?i.reject(new ld(od.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):i.resolve(o)},error:e=>i.reject(e)}),s=new fv(Jf(n.path),a,{includeMetadataChanges:!0,Ta:!0});return sv(e,s)}(await tb(e),e.asyncQueue,t,n,r))),r.promise}function rb(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const r=new cd;return e.asyncQueue.enqueueAndForget((async()=>function(e,t,n,r,i){const a=new Qv({next:n=>{a.su(),t.enqueueAndForget((()=>ov(e,s))),n.fromCache&&"server"===r.source?i.reject(new ld(od.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):i.resolve(n)},error:e=>i.reject(e)}),s=new fv(n,a,{includeMetadataChanges:!0,Ta:!0});return sv(e,s)}(await tb(e),e.asyncQueue,t,n,r))),r.promise}function ib(e){const t={};return void 0!==e.timeoutSeconds&&(t.timeoutSeconds=e.timeoutSeconds),t}const ab=new Map;function sb(e,t,n){if(!n)throw new ld(od.INVALID_ARGUMENT,`Function ${e}() cannot be called with an empty ${t}.`)}function ob(e){if(!jd.isDocumentKey(e))throw new ld(od.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${e} has ${e.length}.`)}function lb(e){if(jd.isDocumentKey(e))throw new ld(od.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${e} has ${e.length}.`)}function cb(e){if(void 0===e)return"undefined";if(null===e)return"null";if("string"==typeof e)return e.length>20&&(e=`${e.substring(0,20)}...`),JSON.stringify(e);if("number"==typeof e||"boolean"==typeof e)return""+e;if("object"==typeof e){if(e instanceof Array)return"an array";{const t=function(e){return e.constructor?e.constructor.name:null}(e);return t?`a custom ${t} object`:"an object"}}return"function"==typeof e?"a function":id()}function ub(e,t){if("_delegate"in e&&(e=e._delegate),!(e instanceof t)){if(t.name===e.constructor.name)throw new ld(od.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=cb(e);throw new ld(od.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${n}`)}}return e}const db="firestore.googleapis.com",hb=!0;class fb{constructor(e){var t,n;if(void 0===e.host){if(void 0!==e.ssl)throw new ld(od.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=db,this.ssl=hb}else this.host=e.host,this.ssl=null!==(t=e.ssl)&&void 0!==t?t:hb;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,void 0===e.cacheSizeBytes)this.cacheSizeBytes=hg;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<gg)throw new ld(od.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}(function(e,t,n,r){if(!0===t&&!0===r)throw new ld(od.INVALID_ARGUMENT,`${e} and ${n} cannot be used together.`)})("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:void 0===e.experimentalAutoDetectLongPolling?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=ib(null!==(n=e.experimentalLongPollingOptions)&&void 0!==n?n:{}),function(e){if(void 0!==e.timeoutSeconds){if(isNaN(e.timeoutSeconds))throw new ld(od.INVALID_ARGUMENT,`invalid long polling timeout: ${e.timeoutSeconds} (must not be NaN)`);if(e.timeoutSeconds<5)throw new ld(od.INVALID_ARGUMENT,`invalid long polling timeout: ${e.timeoutSeconds} (minimum allowed value is 5)`);if(e.timeoutSeconds>30)throw new ld(od.INVALID_ARGUMENT,`invalid long polling timeout: ${e.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(e,t){return e.timeoutSeconds===t.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class pb{constructor(e,t,n,r){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=n,this._app=r,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new fb({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new ld(od.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return"notTerminated"!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new ld(od.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new fb(e),this._emulatorOptions=e.emulatorOptions||{},void 0!==e.credentials&&(this._authCredentials=function(e){if(!e)return new dd;switch(e.type){case"firstParty":return new md(e.sessionIndex||"0",e.iamToken||null,e.authTokenFactory||null);case"provider":return e.client;default:throw new ld(od.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return"notTerminated"===this._terminateTask&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){"notTerminated"===this._terminateTask?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const t=ab.get(e);t&&(ed("ComponentProvider","Removing Datastore"),ab.delete(e),t.terminate())}(this),Promise.resolve()}}function mb(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};var i;const a=(e=ub(e,pb))._getSettings(),s=Object.assign(Object.assign({},a),{emulatorOptions:e._getEmulatorOptions()}),o=`${t}:${n}`;a.host!==db&&a.host!==o&&nd("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const l=Object.assign(Object.assign({},a),{host:o,ssl:!1,emulatorOptions:r});if(!Tt(l,s)&&(e._setSettings(l),r.mockUserToken)){let t,n;if("string"==typeof r.mockUserToken)t=r.mockUserToken,n=Yu.MOCK_USER;else{t=function(e,t){if(e.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n=t||"demo-project",r=e.iat||0,i=e.sub||e.user_id;if(!i)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const a=Object.assign({iss:`https://securetoken.google.com/${n}`,aud:n,iat:r,exp:r+3600,auth_time:r,sub:i,user_id:i,firebase:{sign_in_provider:"custom",identities:{}}},e);return[dt(JSON.stringify({alg:"none",type:"JWT"})),dt(JSON.stringify(a)),""].join(".")}(r.mockUserToken,null===(i=e._app)||void 0===i?void 0:i.options.projectId);const a=r.mockUserToken.sub||r.mockUserToken.user_id;if(!a)throw new ld(od.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");n=new Yu(a)}e._authCredentials=new hd(new ud(t,n))}}class gb{constructor(e,t,n){this.converter=t,this._query=n,this.type="query",this.firestore=e}withConverter(e){return new gb(this.firestore,e,this._query)}}class yb{constructor(e,t,n){this.converter=t,this._key=n,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new vb(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new yb(this.firestore,e,this._key)}}class vb extends gb{constructor(e,t,n){super(e,t,Jf(n)),this._path=n,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new yb(this.firestore,null,new jd(e))}withConverter(e){return new vb(this.firestore,e,this._path)}}function bb(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];if(e=jt(e),sb("collection","path",t),e instanceof pb){const n=Rd.fromString(t,...r);return lb(n),new vb(e,null,n)}{if(!(e instanceof yb||e instanceof vb))throw new ld(od.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const n=e._path.child(Rd.fromString(t,...r));return lb(n),new vb(e.firestore,null,n)}}function wb(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];if(e=jt(e),1===arguments.length&&(t=wd.newId()),sb("doc","path",t),e instanceof pb){const n=Rd.fromString(t,...r);return ob(n),new yb(e,null,new jd(n))}{if(!(e instanceof yb||e instanceof vb))throw new ld(od.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const n=e._path.child(Rd.fromString(t,...r));return ob(n),new yb(e.firestore,e instanceof vb?e.converter:null,new jd(n))}}const xb="AsyncQueue";class Sb{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Promise.resolve();this.Vu=[],this.mu=!1,this.fu=[],this.gu=null,this.pu=!1,this.yu=!1,this.wu=[],this.a_=new fy(this,"async_queue_retry"),this.Su=()=>{const e=dy();e&&ed(xb,"Visibility state changed to "+e.visibilityState),this.a_.t_()},this.bu=e;const t=dy();t&&"function"==typeof t.addEventListener&&t.addEventListener("visibilitychange",this.Su)}get isShuttingDown(){return this.mu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Du(),this.vu(e)}enterRestrictedMode(e){if(!this.mu){this.mu=!0,this.yu=e||!1;const t=dy();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.Su)}}enqueue(e){if(this.Du(),this.mu)return new Promise((()=>{}));const t=new cd;return this.vu((()=>this.mu&&this.yu?Promise.resolve():(e().then(t.resolve,t.reject),t.promise))).then((()=>t.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Vu.push(e),this.Cu())))}async Cu(){if(0!==this.Vu.length){try{await this.Vu[0](),this.Vu.shift(),this.a_.reset()}catch(NS){if(!Qd(NS))throw NS;ed(xb,"Operation failed with retryable error: "+NS)}this.Vu.length>0&&this.a_.Xo((()=>this.Cu()))}}vu(e){const t=this.bu.then((()=>(this.pu=!0,e().catch((e=>{this.gu=e,this.pu=!1;const t=function(e){let t=e.message||"";return e.stack&&(t=e.stack.includes(e.message)?e.stack:e.message+"\n"+e.stack),t}(e);throw td("INTERNAL UNHANDLED ERROR: ",t),e})).then((e=>(this.pu=!1,e))))));return this.bu=t,t}enqueueAfterDelay(e,t,n){this.Du(),this.wu.indexOf(e)>-1&&(t=0);const r=Jy.createAndSchedule(this,e,t,n,(e=>this.Fu(e)));return this.fu.push(r),r}Du(){this.gu&&id()}verifyOperationInProgress(){}async Mu(){let e;do{e=this.bu,await e}while(e!==this.bu)}xu(e){for(const t of this.fu)if(t.timerId===e)return!0;return!1}Ou(e){return this.Mu().then((()=>{this.fu.sort(((e,t)=>e.targetTimeMs-t.targetTimeMs));for(const t of this.fu)if(t.skipDelay(),"all"!==e&&t.timerId===e)break;return this.Mu()}))}Nu(e){this.wu.push(e)}Fu(e){const t=this.fu.indexOf(e);this.fu.splice(t,1)}}class Eb extends pb{constructor(e,t,n,r){super(e,t,n,r),this.type="firestore",this._queue=new Sb,this._persistenceKey=(null==r?void 0:r.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new Sb(e),this._firestoreClient=void 0,await e}}}function kb(e){if(e._terminated)throw new ld(od.FAILED_PRECONDITION,"The client has already been terminated.");return e._firestoreClient||_b(e),e._firestoreClient}function _b(e){var t,n,r;const i=e._freezeSettings(),a=function(e,t,n,r){return new Kh(e,t,n,r.host,r.ssl,r.experimentalForceLongPolling,r.experimentalAutoDetectLongPolling,ib(r.experimentalLongPollingOptions),r.useFetchStreams)}(e._databaseId,(null===(t=e._app)||void 0===t?void 0:t.options.appId)||"",e._persistenceKey,i);e._componentsProvider||(null===(n=i.localCache)||void 0===n?void 0:n._offlineComponentProvider)&&(null===(r=i.localCache)||void 0===r?void 0:r._onlineComponentProvider)&&(e._componentsProvider={_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider}),e._firestoreClient=new Gv(e._authCredentials,e._appCheckCredentials,e._queue,a,e._componentsProvider&&function(e){const t=null==e?void 0:e._online.build();return{_offline:null==e?void 0:e._offline.build(t),_online:t}}(e._componentsProvider))}class Cb{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Cb(Lh.fromBase64String(e))}catch(e){throw new ld(od.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+e)}}static fromUint8Array(e){return new Cb(Lh.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}class Tb{constructor(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];for(let r=0;r<t.length;++r)if(0===t[r].length)throw new ld(od.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Dd(t)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class Ib{constructor(e){this._methodName=e}}class Ab{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new ld(od.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new ld(od.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return xd(this._lat,e._lat)||xd(this._long,e._long)}}class Pb{constructor(e){this._values=(e||[]).map((e=>e))}toArray(){return this._values.map((e=>e))}isEqual(e){return function(e,t){if(e.length!==t.length)return!1;for(let n=0;n<e.length;++n)if(e[n]!==t[n])return!1;return!0}(this._values,e._values)}}const Nb=/^__.*__$/;class Rb{constructor(e,t,n){this.data=e,this.fieldMask=t,this.fieldTransforms=n}toMutation(e,t){return null!==this.fieldMask?new Jp(e,this.data,this.fieldMask,t,this.fieldTransforms):new Xp(e,this.data,t,this.fieldTransforms)}}class Ob{constructor(e,t,n){this.data=e,this.fieldMask=t,this.fieldTransforms=n}toMutation(e,t){return new Jp(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function Db(e){switch(e){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw id()}}class jb{constructor(e,t,n,r,i,a){this.settings=e,this.databaseId=t,this.serializer=n,this.ignoreUndefinedProperties=r,void 0===i&&this.Bu(),this.fieldTransforms=i||[],this.fieldMask=a||[]}get path(){return this.settings.path}get Lu(){return this.settings.Lu}ku(e){return new jb(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}qu(e){var t;const n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.ku({path:n,Qu:!1});return r.$u(e),r}Uu(e){var t;const n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.ku({path:n,Qu:!1});return r.Bu(),r}Ku(e){return this.ku({path:void 0,Qu:!0})}Wu(e){return Xb(e,this.settings.methodName,this.settings.Gu||!1,this.path,this.settings.zu)}contains(e){return void 0!==this.fieldMask.find((t=>e.isPrefixOf(t)))||void 0!==this.fieldTransforms.find((t=>e.isPrefixOf(t.field)))}Bu(){if(this.path)for(let e=0;e<this.path.length;e++)this.$u(this.path.get(e))}$u(e){if(0===e.length)throw this.Wu("Document fields must not be empty");if(Db(this.Lu)&&Nb.test(e))throw this.Wu('Document fields cannot begin and end with "__"')}}class Lb{constructor(e,t,n){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=n||hy(e)}ju(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return new jb({Lu:e,methodName:t,zu:n,path:Dd.emptyPath(),Qu:!1,Gu:r},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Mb(e){const t=e._freezeSettings(),n=hy(e._databaseId);return new Lb(e._databaseId,!!t.ignoreUndefinedProperties,n)}function Fb(e,t,n,r,i){let a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{};const s=e.ju(a.merge||a.mergeFields?2:0,t,n,i);Qb("Data must be an object, but it was:",s,r);const o=Hb(r,s);let l,c;if(a.merge)l=new Dh(s.fieldMask),c=s.fieldTransforms;else if(a.mergeFields){const e=[];for(const r of a.mergeFields){const i=Kb(t,r,n);if(!s.contains(i))throw new ld(od.INVALID_ARGUMENT,`Field '${i}' is specified in your field mask but missing from your input data.`);Jb(e,i)||e.push(i)}l=new Dh(e),c=s.fieldTransforms.filter((e=>l.covers(e.field)))}else l=null,c=s.fieldTransforms;return new Rb(new wf(o),l,c)}class zb extends Ib{_toFieldTransform(e){if(2!==e.Lu)throw 1===e.Lu?e.Wu(`${this._methodName}() can only appear at the top level of your update data`):e.Wu(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof zb}}function Ub(e,t,n){return new jb({Lu:3,zu:t.settings.zu,methodName:e._methodName,Qu:n},t.databaseId,t.serializer,t.ignoreUndefinedProperties)}class Vb extends Ib{constructor(e,t){super(e),this.Hu=t}_toFieldTransform(e){const t=Ub(this,e,!0),n=this.Hu.map((e=>$b(e,t))),r=new Dp(n);return new Vp(e.path,r)}isEqual(e){return e instanceof Vb&&Tt(this.Hu,e.Hu)}}function qb(e,t,n,r){const i=e.ju(1,t,n);Qb("Data must be an object, but it was:",i,r);const a=[],s=wf.empty();Th(r,((e,r)=>{const o=Yb(t,e,n);r=jt(r);const l=i.Uu(o);if(r instanceof zb)a.push(o);else{const e=$b(r,l);null!=e&&(a.push(o),s.set(o,e))}}));const o=new Dh(a);return new Ob(s,o,i.fieldTransforms)}function Bb(e,t,n,r,i,a){const s=e.ju(1,t,n),o=[Kb(t,r,n)],l=[i];if(a.length%2!=0)throw new ld(od.INVALID_ARGUMENT,`Function ${t}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let h=0;h<a.length;h+=2)o.push(Kb(t,a[h])),l.push(a[h+1]);const c=[],u=wf.empty();for(let h=o.length-1;h>=0;--h)if(!Jb(c,o[h])){const e=o[h];let t=l[h];t=jt(t);const n=s.Uu(e);if(t instanceof zb)c.push(e);else{const r=$b(t,n);null!=r&&(c.push(e),u.set(e,r))}}const d=new Dh(c);return new Ob(u,d,s.fieldTransforms)}function $b(e,t){if(Wb(e=jt(e)))return Qb("Unsupported field value:",t,e),Hb(e,t);if(e instanceof Ib)return function(e,t){if(!Db(t.Lu))throw t.Wu(`${e._methodName}() can only be used with update() and set()`);if(!t.path)throw t.Wu(`${e._methodName}() is not currently supported inside arrays`);const n=e._toFieldTransform(t);n&&t.fieldTransforms.push(n)}(e,t),null;if(void 0===e&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),e instanceof Array){if(t.settings.Qu&&4!==t.Lu)throw t.Wu("Nested arrays are not supported");return function(e,t){const n=[];let r=0;for(const i of e){let e=$b(i,t.Ku(r));null==e&&(e={nullValue:"NULL_VALUE"}),n.push(e),r++}return{arrayValue:{values:n}}}(e,t)}return function(e,t){if(null===(e=jt(e)))return{nullValue:"NULL_VALUE"};if("number"==typeof e)return Ip(t.serializer,e);if("boolean"==typeof e)return{booleanValue:e};if("string"==typeof e)return{stringValue:e};if(e instanceof Date){const n=Id.fromDate(e);return{timestampValue:Rm(t.serializer,n)}}if(e instanceof Id){const n=new Id(e.seconds,1e3*Math.floor(e.nanoseconds/1e3));return{timestampValue:Rm(t.serializer,n)}}if(e instanceof Ab)return{geoPointValue:{latitude:e.latitude,longitude:e.longitude}};if(e instanceof Cb)return{bytesValue:Om(t.serializer,e._byteString)};if(e instanceof yb){const n=t.databaseId,r=e.firestore._databaseId;if(!r.isEqual(n))throw t.Wu(`Document reference is for database ${r.projectId}/${r.database} but should be for database ${n.projectId}/${n.database}`);return{referenceValue:Lm(e.firestore._databaseId||t.databaseId,e._key.path)}}if(e instanceof Pb)return function(e,t){return{mapValue:{fields:{[Xh]:{stringValue:ef},[tf]:{arrayValue:{values:e.toArray().map((e=>{if("number"!=typeof e)throw t.Wu("VectorValues must only contain numeric values.");return Cp(t.serializer,e)}))}}}}}}(e,t);throw t.Wu(`Unsupported field value: ${cb(e)}`)}(e,t)}function Hb(e,t){const n={};return Ih(e)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):Th(e,((e,r)=>{const i=$b(r,t.qu(e));null!=i&&(n[e]=i)})),{mapValue:{fields:n}}}function Wb(e){return!("object"!=typeof e||null===e||e instanceof Array||e instanceof Date||e instanceof Id||e instanceof Ab||e instanceof Cb||e instanceof yb||e instanceof Ib||e instanceof Pb)}function Qb(e,t,n){if(!Wb(n)||!function(e){return"object"==typeof e&&null!==e&&(Object.getPrototypeOf(e)===Object.prototype||null===Object.getPrototypeOf(e))}(n)){const r=cb(n);throw"an object"===r?t.Wu(e+" a custom object"):t.Wu(e+" "+r)}}function Kb(e,t,n){if((t=jt(t))instanceof Tb)return t._internalPath;if("string"==typeof t)return Yb(e,t);throw Xb("Field path arguments must be of type string or ",e,!1,void 0,n)}const Gb=new RegExp("[~\\*/\\[\\]]");function Yb(e,t,n){if(t.search(Gb)>=0)throw Xb(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,e,!1,void 0,n);try{return new Tb(...t.split("."))._internalPath}catch(r){throw Xb(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,e,!1,void 0,n)}}function Xb(e,t,n,r,i){const a=r&&!r.isEmpty(),s=void 0!==i;let o=`Function ${t}() called with invalid data`;n&&(o+=" (via `toFirestore()`)"),o+=". ";let l="";return(a||s)&&(l+=" (found",a&&(l+=` in field ${r}`),s&&(l+=` in document ${i}`),l+=")"),new ld(od.INVALID_ARGUMENT,o+e+l)}function Jb(e,t){return e.some((e=>e.isEqual(t)))}class Zb{constructor(e,t,n,r,i){this._firestore=e,this._userDataWriter=t,this._key=n,this._document=r,this._converter=i}get id(){return this._key.path.lastSegment()}get ref(){return new yb(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new ew(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(tw("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}}class ew extends Zb{data(){return super.data()}}function tw(e,t){return"string"==typeof t?Yb(e,t):t instanceof Tb?t._internalPath:t._delegate._internalPath}function nw(e){if("L"===e.limitType&&0===e.explicitOrderBy.length)throw new ld(od.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class rw{convertValue(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"none";switch(nf(e)){case 0:return null;case 1:return e.booleanValue;case 2:return zh(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(Uh(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 11:return this.convertObject(e.mapValue,t);case 10:return this.convertVectorValue(e.mapValue);default:throw id()}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"none";const n={};return Th(e,((e,r)=>{n[e]=this.convertValue(r,t)})),n}convertVectorValue(e){var t,n,r;const i=null===(r=null===(n=null===(t=e.fields)||void 0===t?void 0:t[tf].arrayValue)||void 0===n?void 0:n.values)||void 0===r?void 0:r.map((e=>zh(e.doubleValue)));return new Pb(i)}convertGeoPoint(e){return new Ab(zh(e.latitude),zh(e.longitude))}convertArray(e,t){return(e.values||[]).map((e=>this.convertValue(e,t)))}convertServerTimestamp(e,t){switch(t){case"previous":const n=Wh(e);return null==n?null:this.convertValue(n,t);case"estimate":return this.convertTimestamp(Qh(e));default:return null}}convertTimestamp(e){const t=Fh(e);return new Id(t.seconds,t.nanos)}convertDocumentKey(e,t){const n=Rd.fromString(e);ad(ig(n));const r=new Yh(n.get(1),n.get(3)),i=new jd(n.popFirst(5));return r.isEqual(t)||td(`Document ${i} contains a document reference within a different database (${r.projectId}/${r.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),i}}function iw(e,t,n){let r;return r=e?n&&(n.merge||n.mergeFields)?e.toFirestore(t,n):e.toFirestore(t):t,r}class aw{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class sw extends Zb{constructor(e,t,n,r,i,a){super(e,t,n,r,a),this._firestore=e,this._firestoreImpl=e,this.metadata=i}exists(){return super.exists()}data(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(this._document){if(this._converter){const t=new ow(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(this._document){const n=this._document.data.field(tw("DocumentSnapshot.get",e));if(null!==n)return this._userDataWriter.convertValue(n,t.serverTimestamps)}}}class ow extends sw{data(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return super.data(e)}}class lw{constructor(e,t,n,r){this._firestore=e,this._userDataWriter=t,this._snapshot=r,this.metadata=new aw(r.hasPendingWrites,r.fromCache),this.query=n}get docs(){const e=[];return this.forEach((t=>e.push(t))),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,t){this._snapshot.docs.forEach((n=>{e.call(t,new ow(this._firestore,this._userDataWriter,n.key,n,new aw(this._snapshot.mutatedKeys.has(n.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(){const e=!!(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).includeMetadataChanges;if(e&&this._snapshot.excludesMetadataChanges)throw new ld(od.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===e||(this._cachedChanges=function(e,t){if(e._snapshot.oldDocs.isEmpty()){let t=0;return e._snapshot.docChanges.map((n=>{const r=new ow(e._firestore,e._userDataWriter,n.doc.key,n.doc,new aw(e._snapshot.mutatedKeys.has(n.doc.key),e._snapshot.fromCache),e.query.converter);return n.doc,{type:"added",doc:r,oldIndex:-1,newIndex:t++}}))}{let n=e._snapshot.oldDocs;return e._snapshot.docChanges.filter((e=>t||3!==e.type)).map((t=>{const r=new ow(e._firestore,e._userDataWriter,t.doc.key,t.doc,new aw(e._snapshot.mutatedKeys.has(t.doc.key),e._snapshot.fromCache),e.query.converter);let i=-1,a=-1;return 0!==t.type&&(i=n.indexOf(t.doc.key),n=n.delete(t.doc.key)),1!==t.type&&(n=n.add(t.doc),a=n.indexOf(t.doc.key)),{type:cw(t.type),doc:r,oldIndex:i,newIndex:a}}))}}(this,e),this._cachedChangesIncludeMetadataChanges=e),this._cachedChanges}}function cw(e){switch(e){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return id()}}function uw(e){e=ub(e,yb);const t=ub(e.firestore,Eb);return nb(kb(t),e._key).then((n=>gw(t,e,n)))}class dw extends rw{constructor(e){super(),this.firestore=e}convertBytes(e){return new Cb(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new yb(this.firestore,null,t)}}function hw(e){e=ub(e,gb);const t=ub(e.firestore,Eb),n=kb(t),r=new dw(t);return nw(e._query),rb(n,e._query).then((n=>new lw(t,r,e,n)))}function fw(e,t,n){e=ub(e,yb);const r=ub(e.firestore,Eb),i=iw(e.converter,t,n);return mw(r,[Fb(Mb(r),"setDoc",e._key,i,null!==e.converter,n).toMutation(e._key,Bp.none())])}function pw(e,t,n){e=ub(e,yb);const r=ub(e.firestore,Eb),i=Mb(r);let a;for(var s=arguments.length,o=new Array(s>3?s-3:0),l=3;l<s;l++)o[l-3]=arguments[l];return a="string"==typeof(t=jt(t))||t instanceof Tb?Bb(i,"updateDoc",e._key,t,n,o):qb(i,"updateDoc",e._key,t),mw(r,[a.toMutation(e._key,Bp.exists(!0))])}function mw(e,t){return function(e,t){const n=new cd;return e.asyncQueue.enqueueAndForget((async()=>async function(e,t,n){const r=Bv(e);try{const e=await function(e,t){const n=sd(e),r=Id.now(),i=t.reduce(((e,t)=>e.add(t.key)),Ep());let a,s;return n.persistence.runTransaction("Locally write mutations","readwrite",(e=>{let o=pp(),l=Ep();return n.ds.getEntries(e,i).next((e=>{o=e,o.forEach(((e,t)=>{t.isValidDocument()||(l=l.add(e))}))})).next((()=>n.localDocuments.getOverlayedDocuments(e,o))).next((i=>{a=i;const s=[];for(const e of t){const t=Gp(e,a.get(e.key).overlayedDocument);null!=t&&s.push(new Jp(e.key,t,xf(t.value.mapValue),Bp.exists(!0)))}return n.mutationQueue.addMutationBatch(e,r,s,t)})).next((t=>{s=t;const r=t.applyToLocalDocumentSet(a,l);return n.documentOverlayCache.saveOverlays(e,t.batchId,r)}))})).then((()=>({batchId:s.batchId,changes:yp(a)})))}(r.localStore,t);r.sharedClientState.addPendingMutation(e.batchId),function(e,t,n){let r=e.Wa[e.currentUser.toKey()];r||(r=new Ah(xd)),r=r.insert(t,n),e.Wa[e.currentUser.toKey()]=r}(r,e.batchId,n),await zv(r,e.changes),await zy(r.remoteStore)}catch(e){const t=Zy(e,"Failed to persist write");n.reject(t)}}(await eb(e),t,n))),n.promise}(kb(e),t)}function gw(e,t,n){const r=n.docs.get(t._key),i=new dw(e);return new sw(e,i,t._key,r,new aw(n.hasPendingWrites,n.fromCache),t.converter)}function yw(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return new Vb("arrayUnion",t)}new WeakMap;!function(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];!function(e){Xu=e}(Jn),Qn(new Lt("firestore",((e,n)=>{let{instanceIdentifier:r,options:i}=n;const a=e.getProvider("app").getImmediate(),s=new Eb(new fd(e.getProvider("auth-internal")),new yd(a,e.getProvider("app-check-internal")),function(e,t){if(!Object.prototype.hasOwnProperty.apply(e.options,["projectId"]))throw new ld(od.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Yh(e.options.projectId,t)}(a,r),a);return i=Object.assign({useFetchStreams:t},i),s._setSettings(i),s}),"PUBLIC").setMultipleInstances(!0)),tr(Ku,Gu,e),tr(Ku,Gu,"esm2017")}();const vw="@firebase/installations",bw="0.6.13",ww=1e4,xw=`w:${bw}`,Sw="FIS_v2",Ew=36e5,kw=new _t("installations","Installations",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."});function _w(e){return e instanceof kt&&e.code.includes("request-failed")}function Cw(e){let{projectId:t}=e;return`https://firebaseinstallations.googleapis.com/v1/projects/${t}/installations`}function Tw(e){return{token:e.token,requestStatus:2,expiresIn:(t=e.expiresIn,Number(t.replace("s","000"))),creationTime:Date.now()};var t}async function Iw(e,t){const n=(await t.json()).error;return kw.create("request-failed",{requestName:e,serverCode:n.code,serverMessage:n.message,serverStatus:n.status})}function Aw(e){let{apiKey:t}=e;return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":t})}function Pw(e,t){let{refreshToken:n}=t;const r=Aw(e);return r.append("Authorization",function(e){return`${Sw} ${e}`}(n)),r}async function Nw(e){const t=await e();return t.status>=500&&t.status<600?e():t}function Rw(e){return new Promise((t=>{setTimeout(t,e)}))}const Ow=/^[cdef][\w-]{21}$/;function Dw(){try{const e=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(e),e[0]=112+e[0]%16;const t=function(e){const t=(n=e,btoa(String.fromCharCode(...n)).replace(/\+/g,"-").replace(/\//g,"_"));var n;return t.substr(0,22)}(e);return Ow.test(t)?t:""}catch(e){return""}}function jw(e){return`${e.appName}!${e.appId}`}const Lw=new Map;function Mw(e,t){const n=jw(e);Fw(n,t),function(e,t){const n=Uw();n&&n.postMessage({key:e,fid:t});Vw()}(n,t)}function Fw(e,t){const n=Lw.get(e);if(n)for(const r of n)r(t)}let zw=null;function Uw(){return!zw&&"BroadcastChannel"in self&&(zw=new BroadcastChannel("[Firebase] FID Change"),zw.onmessage=e=>{Fw(e.data.key,e.data.fid)}),zw}function Vw(){0===Lw.size&&zw&&(zw.close(),zw=null)}const qw="firebase-installations-store";let Bw=null;function $w(){return Bw||(Bw=sn("firebase-installations-database",1,{upgrade:(e,t)=>{if(0===t)e.createObjectStore(qw)}})),Bw}async function Hw(e,t){const n=jw(e),r=(await $w()).transaction(qw,"readwrite"),i=r.objectStore(qw),a=await i.get(n);return await i.put(t,n),await r.done,a&&a.fid===t.fid||Mw(e,t.fid),t}async function Ww(e){const t=jw(e),n=(await $w()).transaction(qw,"readwrite");await n.objectStore(qw).delete(t),await n.done}async function Qw(e,t){const n=jw(e),r=(await $w()).transaction(qw,"readwrite"),i=r.objectStore(qw),a=await i.get(n),s=t(a);return void 0===s?await i.delete(n):await i.put(s,n),await r.done,!s||a&&a.fid===s.fid||Mw(e,s.fid),s}async function Kw(e){let t;const n=await Qw(e.appConfig,(n=>{const r=function(e){const t=e||{fid:Dw(),registrationStatus:0};return Xw(t)}(n),i=function(e,t){if(0===t.registrationStatus){if(!navigator.onLine){return{installationEntry:t,registrationPromise:Promise.reject(kw.create("app-offline"))}}const n={fid:t.fid,registrationStatus:1,registrationTime:Date.now()},r=async function(e,t){try{const n=await async function(e,t){let{appConfig:n,heartbeatServiceProvider:r}=e,{fid:i}=t;const a=Cw(n),s=Aw(n),o=r.getImmediate({optional:!0});if(o){const e=await o.getHeartbeatsHeader();e&&s.append("x-firebase-client",e)}const l={fid:i,authVersion:Sw,appId:n.appId,sdkVersion:xw},c={method:"POST",headers:s,body:JSON.stringify(l)},u=await Nw((()=>fetch(a,c)));if(u.ok){const e=await u.json();return{fid:e.fid||i,registrationStatus:2,refreshToken:e.refreshToken,authToken:Tw(e.authToken)}}throw await Iw("Create Installation",u)}(e,t);return Hw(e.appConfig,n)}catch(NS){throw _w(NS)&&409===NS.customData.serverCode?await Ww(e.appConfig):await Hw(e.appConfig,{fid:t.fid,registrationStatus:0}),NS}}(e,n);return{installationEntry:n,registrationPromise:r}}return 1===t.registrationStatus?{installationEntry:t,registrationPromise:Gw(e)}:{installationEntry:t}}(e,r);return t=i.registrationPromise,i.installationEntry}));return""===n.fid?{installationEntry:await t}:{installationEntry:n,registrationPromise:t}}async function Gw(e){let t=await Yw(e.appConfig);for(;1===t.registrationStatus;)await Rw(100),t=await Yw(e.appConfig);if(0===t.registrationStatus){const{installationEntry:t,registrationPromise:n}=await Kw(e);return n||t}return t}function Yw(e){return Qw(e,(e=>{if(!e)throw kw.create("installation-not-found");return Xw(e)}))}function Xw(e){return 1===(t=e).registrationStatus&&t.registrationTime+ww<Date.now()?{fid:e.fid,registrationStatus:0}:e;var t}async function Jw(e,t){let{appConfig:n,heartbeatServiceProvider:r}=e;const i=function(e,t){let{fid:n}=t;return`${Cw(e)}/${n}/authTokens:generate`}(n,t),a=Pw(n,t),s=r.getImmediate({optional:!0});if(s){const e=await s.getHeartbeatsHeader();e&&a.append("x-firebase-client",e)}const o={installation:{sdkVersion:xw,appId:n.appId}},l={method:"POST",headers:a,body:JSON.stringify(o)},c=await Nw((()=>fetch(i,l)));if(c.ok){return Tw(await c.json())}throw await Iw("Generate Auth Token",c)}async function Zw(e){let t,n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const r=await Qw(e.appConfig,(r=>{if(!tx(r))throw kw.create("not-registered");const i=r.authToken;if(!n&&function(e){return 2===e.requestStatus&&!function(e){const t=Date.now();return t<e.creationTime||e.creationTime+e.expiresIn<t+Ew}(e)}(i))return r;if(1===i.requestStatus)return t=async function(e,t){let n=await ex(e.appConfig);for(;1===n.authToken.requestStatus;)await Rw(100),n=await ex(e.appConfig);const r=n.authToken;return 0===r.requestStatus?Zw(e,t):r}(e,n),r;{if(!navigator.onLine)throw kw.create("app-offline");const n=function(e){const t={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},e),{authToken:t})}(r);return t=async function(e,t){try{const n=await Jw(e,t),r=Object.assign(Object.assign({},t),{authToken:n});return await Hw(e.appConfig,r),n}catch(NS){if(!_w(NS)||401!==NS.customData.serverCode&&404!==NS.customData.serverCode){const n=Object.assign(Object.assign({},t),{authToken:{requestStatus:0}});await Hw(e.appConfig,n)}else await Ww(e.appConfig);throw NS}}(e,n),n}}));return t?await t:r.authToken}function ex(e){return Qw(e,(e=>{if(!tx(e))throw kw.create("not-registered");const t=e.authToken;return 1===(n=t).requestStatus&&n.requestTime+ww<Date.now()?Object.assign(Object.assign({},e),{authToken:{requestStatus:0}}):e;var n}))}function tx(e){return void 0!==e&&2===e.registrationStatus}async function nx(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const n=e;await async function(e){const{registrationPromise:t}=await Kw(e);t&&await t}(n);return(await Zw(n,t)).token}function rx(e){return kw.create("missing-app-config-values",{valueName:e})}const ix="installations",ax=e=>{const t=e.getProvider("app").getImmediate(),n=function(e){if(!e||!e.options)throw rx("App Configuration");if(!e.name)throw rx("App Name");const t=["projectId","apiKey","appId"];for(const n of t)if(!e.options[n])throw rx(n);return{appName:e.name,projectId:e.options.projectId,apiKey:e.options.apiKey,appId:e.options.appId}}(t);return{app:t,appConfig:n,heartbeatServiceProvider:Kn(t,"heartbeat"),_delete:()=>Promise.resolve()}},sx=e=>{const t=Kn(e.getProvider("app").getImmediate(),ix).getImmediate();return{getId:()=>async function(e){const t=e,{installationEntry:n,registrationPromise:r}=await Kw(t);return r?r.catch(console.error):Zw(t).catch(console.error),n.fid}(t),getToken:e=>nx(t,e)}};Qn(new Lt(ix,ax,"PUBLIC")),Qn(new Lt("installations-internal",sx,"PRIVATE")),tr(vw,bw),tr(vw,bw,"esm2017");const ox="analytics",lx="https://www.googletagmanager.com/gtag/js",cx=new Wt("@firebase/analytics"),ux=new _t("analytics","Analytics",{"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-initialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."});function dx(e){if(!e.startsWith(lx)){const t=ux.create("invalid-gtag-resource",{gtagURL:e});return cx.warn(t.message),""}return e}function hx(e){return Promise.all(e.map((e=>e.catch((e=>e)))))}function fx(e,t){const n=function(e,t){let n;return window.trustedTypes&&(n=window.trustedTypes.createPolicy(e,t)),n}("firebase-js-sdk-policy",{createScriptURL:dx}),r=document.createElement("script"),i=`${lx}?l=${e}&id=${t}`;r.src=n?null===n||void 0===n?void 0:n.createScriptURL(i):i,r.async=!0,document.head.appendChild(r)}function px(e,t,n,r){return async function(i){try{for(var a=arguments.length,s=new Array(a>1?a-1:0),o=1;o<a;o++)s[o-1]=arguments[o];if("event"===i){const[r,i]=s;await async function(e,t,n,r,i){try{let a=[];if(i&&i.send_to){let e=i.send_to;Array.isArray(e)||(e=[e]);const r=await hx(n);for(const n of e){const e=r.find((e=>e.measurementId===n)),i=e&&t[e.appId];if(!i){a=[];break}a.push(i)}}0===a.length&&(a=Object.values(t)),await Promise.all(a),e("event",r,i||{})}catch(NS){cx.error(NS)}}(e,t,n,r,i)}else if("config"===i){const[i,a]=s;await async function(e,t,n,r,i,a){const s=r[i];try{if(s)await t[s];else{const e=(await hx(n)).find((e=>e.measurementId===i));e&&await t[e.appId]}}catch(NS){cx.error(NS)}e("config",i,a)}(e,t,n,r,i,a)}else if("consent"===i){const[t,n]=s;e("consent",t,n)}else if("get"===i){const[t,n,r]=s;e("get",t,n,r)}else if("set"===i){const[t]=s;e("set",t)}else e(i,...s)}catch(NS){cx.error(NS)}}}const mx=new class{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1e3;this.throttleMetadata=e,this.intervalMillis=t}getThrottleMetadata(e){return this.throttleMetadata[e]}setThrottleMetadata(e,t){this.throttleMetadata[e]=t}deleteThrottleMetadata(e){delete this.throttleMetadata[e]}};function gx(e){return new Headers({Accept:"application/json","x-goog-api-key":e})}async function yx(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:mx,n=arguments.length>2?arguments[2]:void 0;const{appId:r,apiKey:i,measurementId:a}=e.options;if(!r)throw ux.create("no-app-id");if(!i){if(a)return{measurementId:a,appId:r};throw ux.create("no-api-key")}const s=t.getThrottleMetadata(r)||{backoffCount:0,throttleEndTimeMillis:Date.now()},o=new bx;return setTimeout((async()=>{o.abort()}),void 0!==n?n:6e4),vx({appId:r,apiKey:i,measurementId:a},s,o,t)}async function vx(e,t,n){let{throttleEndTimeMillis:r,backoffCount:i}=t,a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:mx;var s;const{appId:o,measurementId:l}=e;try{await function(e,t){return new Promise(((n,r)=>{const i=Math.max(t-Date.now(),0),a=setTimeout(n,i);e.addEventListener((()=>{clearTimeout(a),r(ux.create("fetch-throttle",{throttleEndTimeMillis:t}))}))}))}(n,r)}catch(NS){if(l)return cx.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${l} provided in the "measurementId" field in the local Firebase config. [${null===NS||void 0===NS?void 0:NS.message}]`),{appId:o,measurementId:l};throw NS}try{const t=await async function(e){var t;const{appId:n,apiKey:r}=e,i={method:"GET",headers:gx(r)},a="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig".replace("{app-id}",n),s=await fetch(a,i);if(200!==s.status&&304!==s.status){let e="";try{const n=await s.json();(null===(t=n.error)||void 0===t?void 0:t.message)&&(e=n.error.message)}catch(o){}throw ux.create("config-fetch-failed",{httpStatus:s.status,responseMessage:e})}return s.json()}(e);return a.deleteThrottleMetadata(o),t}catch(NS){const r=NS;if(!function(e){if(!(e instanceof kt)||!e.customData)return!1;const t=Number(e.customData.httpStatus);return 429===t||500===t||503===t||504===t}(r)){if(a.deleteThrottleMetadata(o),l)return cx.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${l} provided in the "measurementId" field in the local Firebase config. [${null===r||void 0===r?void 0:r.message}]`),{appId:o,measurementId:l};throw NS}const c=503===Number(null===(s=null===r||void 0===r?void 0:r.customData)||void 0===s?void 0:s.httpStatus)?Dt(i,a.intervalMillis,30):Dt(i,a.intervalMillis),u={throttleEndTimeMillis:Date.now()+c,backoffCount:i+1};return a.setThrottleMetadata(o,u),cx.debug(`Calling attemptFetch again in ${c} millis`),vx(e,u,n,a)}}class bx{constructor(){this.listeners=[]}addEventListener(e){this.listeners.push(e)}abort(){this.listeners.forEach((e=>e()))}}let wx,xx;function Sx(e){xx=e}function Ex(e){wx=e}async function kx(e,t,n,r,i,a,s){var o;const l=yx(e);l.then((t=>{n[t.measurementId]=t.appId,e.options.measurementId&&t.measurementId!==e.options.measurementId&&cx.warn(`The measurement ID in the local Firebase config (${e.options.measurementId}) does not match the measurement ID fetched from the server (${t.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)})).catch((e=>cx.error(e))),t.push(l);const c=async function(){if(!St())return cx.warn(ux.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;try{await Et()}catch(NS){return cx.warn(ux.create("indexeddb-unavailable",{errorInfo:null===NS||void 0===NS?void 0:NS.toString()}).message),!1}return!0}().then((e=>e?r.getId():void 0)),[u,d]=await Promise.all([l,c]);(function(e){const t=window.document.getElementsByTagName("script");for(const n of Object.values(t))if(n.src&&n.src.includes(lx)&&n.src.includes(e))return n;return null})(a)||fx(a,u.measurementId),xx&&(i("consent","default",xx),Sx(void 0)),i("js",new Date);const h=null!==(o=null===s||void 0===s?void 0:s.config)&&void 0!==o?o:{};return h.origin="firebase",h.update=!0,null!=d&&(h.firebase_id=d),i("config",u.measurementId,h),wx&&(i("set",wx),Ex(void 0)),u.measurementId}class _x{constructor(e){this.app=e}_delete(){return delete Cx[this.app.options.appId],Promise.resolve()}}let Cx={},Tx=[];const Ix={};let Ax,Px,Nx="dataLayer",Rx="gtag",Ox=!1;function Dx(){const e=[];if(wt()&&e.push("This is a browser extension environment."),"undefined"!==typeof navigator&&navigator.cookieEnabled||e.push("Cookies are not available."),e.length>0){const t=e.map(((e,t)=>`(${t+1}) ${e}`)).join(" "),n=ux.create("invalid-analytics-context",{errorInfo:t});cx.warn(n.message)}}function jx(e,t,n){Dx();const r=e.options.appId;if(!r)throw ux.create("no-app-id");if(!e.options.apiKey){if(!e.options.measurementId)throw ux.create("no-api-key");cx.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${e.options.measurementId} provided in the "measurementId" field in the local Firebase config.`)}if(null!=Cx[r])throw ux.create("already-exists",{id:r});if(!Ox){!function(e){let t=[];Array.isArray(window[e])?t=window[e]:window[e]=t}(Nx);const{wrappedGtag:e,gtagCore:t}=function(e,t,n,r,i){let a=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];window[r].push(arguments)};return window[i]&&"function"===typeof window[i]&&(a=window[i]),window[i]=px(a,e,t,n),{gtagCore:a,wrappedGtag:window[i]}}(Cx,Tx,Ix,Nx,Rx);Px=e,Ax=t,Ox=!0}Cx[r]=kx(e,Tx,Ix,t,Ax,Nx,n);return new _x(e)}function Lx(e,t,n,r){e=jt(e),async function(e,t,n,r,i){if(i&&i.global)e("event",n,r);else{const i=await t;e("event",n,Object.assign(Object.assign({},r),{send_to:i}))}}(Px,Cx[e.app.options.appId],t,n,r).catch((e=>cx.error(e)))}const Mx="@firebase/analytics",Fx="0.10.12";Qn(new Lt(ox,((e,t)=>{let{options:n}=t;return jx(e.getProvider("app").getImmediate(),e.getProvider("installations-internal").getImmediate(),n)}),"PUBLIC")),Qn(new Lt("analytics-internal",(function(e){try{const t=e.getProvider(ox).getImmediate();return{logEvent:(e,n,r)=>Lx(t,e,n,r)}}catch(NS){throw ux.create("interop-component-reg-failed",{reason:NS})}}),"PRIVATE")),tr(Mx,Fx),tr(Mx,Fx,"esm2017");const zx=Zn({apiKey:"AIzaSyB_geIGOagn2h6blPgMmYV00N-oqXYOI0Q",authDomain:"quirkle-db.firebaseapp.com",projectId:"quirkle-db",storageBucket:"quirkle-db.firebasestorage.app",messagingSenderId:"953361912983",appId:"1:953361912983:web:2d4cbe9fb86e9b9d22c5d2",measurementId:"G-8PPFC7BPZL"}),Ux=(function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:er();e=jt(e);const t=Kn(e,ox);t.isInitialized()?t.getImmediate():function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const n=Kn(e,ox);if(n.isInitialized()){const e=n.getImmediate();if(Tt(t,n.getOptions()))return e;throw ux.create("already-initialized")}const r=n.initialize({options:t})}(e)}(zx),function(e,t){const n="object"==typeof e?e:er(),r="string"==typeof e?e:t||Gh,i=Kn(n,"firestore").getImmediate({identifier:r});if(!i._initialized){const e=(e=>{const t=mt(e);if(!t)return;const n=t.lastIndexOf(":");if(n<=0||n+1===t.length)throw new Error(`Invalid host ${t} with no separate hostname and port!`);const r=parseInt(t.substring(n+1),10);return"["===t[0]?[t.substring(1,n-1),r]:[t.substring(0,n),r]})("firestore");e&&mb(i,...e)}return i}(zx));({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_FIREBASE_API_KEY:"AIzaSyB_geIGOagn2h6blPgMmYV00N-oqXYOI0Q",REACT_APP_FIREBASE_AUTH_DOMAIN:"quirkle-db.firebaseapp.com",REACT_APP_FIREBASE_PROJECT_ID:"quirkle-db",REACT_APP_FIREBASE_STORAGE_BUCKET:"quirkle-db.firebasestorage.app",REACT_APP_FIREBASE_MESSAGING_SENDER_ID:"953361912983",REACT_APP_FIREBASE_APP_ID:"1:953361912983:web:2d4cbe9fb86e9b9d22c5d2",REACT_APP_FIREBASE_MEASUREMENT_ID:"G-8PPFC7BPZL"}).LOCAL_TESTING&&(console.log("Connecting to Firestore Emulator..."),mb(Ux,"localhost",9e3));const Vx=async(e,t)=>{console.log(`docpath ${e} data ${JSON.stringify(t)}`);try{const n=wb(Ux,e);await pw(n,t)}catch(n){throw console.error(`Error updating document at ${JSON.stringify(e)}:`,n),n}},qx=async function(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];try{const r=wb(Ux,e);await fw(r,t,{merge:n}),console.log(`Document at ${e} set successfully.`)}catch(r){throw console.error(`Error setting document at ${e}:`,r),r}},Bx=async e=>{try{const t=wb(Ux,e),n=await uw(t);return n.exists()?n.data():(console.warn(`Document at ${e} does not exist.`),null)}catch(t){throw console.error(`Error fetching document at ${e}:`,t),t}},$x=async e=>{try{const t=bb(Ux,e),n=await hw(t);return n||(console.warn(`Document at ${e} does not exist.`),null)}catch(t){throw console.error(`Error fetching document at ${e}:`,t),t}},Hx=async e=>{try{const t=await $x(e);return t&&t.docs?t.docs.map((e=>({id:e.id,data:e.data(),ref:e.ref}))):[]}catch(t){throw console.error(`Error fetching documents from collection ${e}:`,t),t}},Wx=async function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{dryRun:!1,overwrite:!1};try{const r=await Bx(e);if(!r)throw new Error(`Document at ${e} does not exist.`);if(!(t in r))throw new Error(`Field '${t}' does not exist in document at ${e}.`);const i=r[t];if(!Array.isArray(i))throw new Error(`Field '${t}' is not an array. Current type: ${typeof i}.`);const a={};i.forEach(((e,t)=>{a[String(t)]=e}));const s={[t]:a};if(n.dryRun)return{success:!0,docPath:e,arrayFieldName:t,originalValue:i,newValue:a,itemCount:i.length,dryRun:!0};const o=wb(Ux,e);return n.overwrite?await pw(o,s):await fw(o,s,{merge:!0}),{success:!0,docPath:e,arrayFieldName:t,originalCount:i.length,newCount:Object.keys(a).length,migrated:!0}}catch(r){return console.error(`Error migrating array to map at ${e}:`,r),{success:!1,docPath:e,arrayFieldName:t,error:r.message}}},Qx=async function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{dryRun:!1,overwrite:!1,onProgress:null};const r={total:e.length,successful:0,failed:0,skipped:0,details:[]};for(let a=0;a<e.length;a++){const s=e[a];try{const i=await Wx(s,t,n);i.success?i.migrated||i.dryRun?r.successful++:r.skipped++:r.failed++,r.details.push(i),n.onProgress&&n.onProgress({current:a+1,total:e.length,docPath:s,result:i})}catch(i){r.failed++,r.details.push({success:!1,docPath:s,arrayFieldName:t,error:i.message}),n.onProgress&&n.onProgress({current:a+1,total:e.length,docPath:s,result:{success:!1,error:i.message}})}}return r};var Kx=n(579);const Gx=t=>{let{email:n}=t;const[r,i]=(0,e.useState)(""),[a,s]=(0,e.useState)([]),[o,l]=(0,e.useState)([]),[c,u]=(0,e.useState)([]);console.log("Current User Email:",n),(0,e.useEffect)((()=>{(async()=>{try{const e=(await $x("users")).docs.map((e=>e.id));console.log("User Names:",e),s(e),l(e)}catch(e){console.error("Error fetching users:",e)}})()}),[]),(0,e.useEffect)((()=>{const e=a.filter((e=>e.toLowerCase().includes(r.toLowerCase())));l(e)}),[r,a]);return(0,Kx.jsxs)("div",{className:"user-search",children:[(0,Kx.jsx)("h2",{children:"User Search"}),(0,Kx.jsx)("input",{type:"text",placeholder:"Search for a user...",value:r,onChange:e=>i(e.target.value),className:"search-input"}),(0,Kx.jsx)("ul",{className:"user-list",children:o.length>0?o.map(((e,t)=>(0,Kx.jsxs)("li",{className:"user-item",children:[e,e!==n&&(0,Kx.jsx)("button",{onClick:()=>(async e=>{console.log("Current User Emai outsidel:",n),console.log("Sending friend request to:",e);try{console.log("Recipient Email:",e),await qx(`users/${e}/friendCollection/requests`,{[n]:{response:!1,responded:!1,timestamp:new Date}},{merge:!0}),u((t=>[...t,e])),console.log(`Friend request sent to ${e}`)}catch(t){console.error("Error sending friend request:",t)}})(e),disabled:c.includes(e),style:{marginLeft:"1em",padding:"0.5em",backgroundColor:c.includes(e)?"#ccc":"#4CAF50",color:"white",border:"none",borderRadius:"4px",cursor:c.includes(e)?"not-allowed":"pointer"},children:c.includes(e)?"Request Sent":"Add Friend"})]},t))):(0,Kx.jsx)("li",{className:"no-results",children:"No users found"})})]})},Yx=t=>{let{email:n}=t;const[r,i]=(0,e.useState)(null),[a,s]=(0,e.useState)(!0),[o,l]=(0,e.useState)(null);return(0,e.useEffect)((()=>{(async()=>{try{const e=await Bx(`users/${n}/pointSystem/points`);e?i(e.value||0):(await qx(`users/${n}/pointSystem/points`,{value:0}),i(0))}catch(e){console.error("Error fetching points:",e),l("Failed to fetch points.")}finally{s(!1)}})()}),[n]),a?(0,Kx.jsx)("div",{children:"Loading points..."}):o?(0,Kx.jsx)("div",{style:{color:"red"},children:o}):(0,Kx.jsxs)("div",{className:"show-points",children:[(0,Kx.jsx)("h2",{children:"Your Points"}),(0,Kx.jsxs)("p",{children:[r," points"]})]})},Xx="settings",Jx="subscription status",Zx="stripe",eS="revenuecat";class tS{constructor(){this.publishableKey={NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_FIREBASE_API_KEY:"AIzaSyB_geIGOagn2h6blPgMmYV00N-oqXYOI0Q",REACT_APP_FIREBASE_AUTH_DOMAIN:"quirkle-db.firebaseapp.com",REACT_APP_FIREBASE_PROJECT_ID:"quirkle-db",REACT_APP_FIREBASE_STORAGE_BUCKET:"quirkle-db.firebasestorage.app",REACT_APP_FIREBASE_MESSAGING_SENDER_ID:"953361912983",REACT_APP_FIREBASE_APP_ID:"1:953361912983:web:2d4cbe9fb86e9b9d22c5d2",REACT_APP_FIREBASE_MEASUREMENT_ID:"G-8PPFC7BPZL"}.REACT_APP_STRIPE_PUBLISHABLE_KEY||"pk_test_pseudo_key_replace_with_real",this.stripe=null,this.init()}async init(){if("undefined"!==typeof window)try{const{loadStripe:e}=await n.e(972).then(n.bind(n,972));this.stripe=await e(this.publishableKey)}catch(NS){if(!window.Stripe)return new Promise(((e,t)=>{const n=document.createElement("script");n.src="https://js.stripe.com/v3/",n.async=!0,n.onload=()=>{window.Stripe?(this.stripe=window.Stripe(this.publishableKey),e()):t(new Error("Failed to load Stripe"))},n.onerror=()=>t(new Error("Failed to load Stripe script")),document.head.appendChild(n)}));this.stripe=window.Stripe(this.publishableKey)}}async createCheckoutSession(e,t,n,r){try{const i=await fetch(`${{NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_FIREBASE_API_KEY:"AIzaSyB_geIGOagn2h6blPgMmYV00N-oqXYOI0Q",REACT_APP_FIREBASE_AUTH_DOMAIN:"quirkle-db.firebaseapp.com",REACT_APP_FIREBASE_PROJECT_ID:"quirkle-db",REACT_APP_FIREBASE_STORAGE_BUCKET:"quirkle-db.firebasestorage.app",REACT_APP_FIREBASE_MESSAGING_SENDER_ID:"953361912983",REACT_APP_FIREBASE_APP_ID:"1:953361912983:web:2d4cbe9fb86e9b9d22c5d2",REACT_APP_FIREBASE_MEASUREMENT_ID:"G-8PPFC7BPZL"}.REACT_APP_CLOUD_FUNCTIONS_URL||"http://localhost:5001/quirkle-db/us-central1"}/createCheckoutSession`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:e,priceId:t,successUrl:n,cancelUrl:r})});if(!i.ok){const e=await i.json();throw new Error(e.message||"Failed to create checkout session")}const{sessionId:a}=await i.json();return a}catch(i){throw console.error("Error creating checkout session:",i),i}}async checkout(e,t){try{await this.init();const n=`${window.location.origin}/subscription-success?session_id={CHECKOUT_SESSION_ID}`,r=`${window.location.origin}/subscription-cancel`,i=await this.createCheckoutSession(e,t,n,r);if(!this.stripe)throw new Error("Stripe not initialized");{const{error:e}=await this.stripe.redirectToCheckout({sessionId:i});if(e)throw e}}catch(n){throw console.error("Checkout error:",n),n}}async createPortalSession(e,t){try{const n=await fetch(`${{NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_FIREBASE_API_KEY:"AIzaSyB_geIGOagn2h6blPgMmYV00N-oqXYOI0Q",REACT_APP_FIREBASE_AUTH_DOMAIN:"quirkle-db.firebaseapp.com",REACT_APP_FIREBASE_PROJECT_ID:"quirkle-db",REACT_APP_FIREBASE_STORAGE_BUCKET:"quirkle-db.firebasestorage.app",REACT_APP_FIREBASE_MESSAGING_SENDER_ID:"953361912983",REACT_APP_FIREBASE_APP_ID:"1:953361912983:web:2d4cbe9fb86e9b9d22c5d2",REACT_APP_FIREBASE_MEASUREMENT_ID:"G-8PPFC7BPZL"}.REACT_APP_CLOUD_FUNCTIONS_URL||"http://localhost:5001/quirkle-db/us-central1"}/createPortalSession`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:e,returnUrl:t})});if(!n.ok){const e=await n.json();throw new Error(e.message||"Failed to create portal session")}const{url:r}=await n.json();return r}catch(n){throw console.error("Error creating portal session:",n),n}}async manageSubscription(e){try{const t=`${window.location.origin}/profile`,n=await this.createPortalSession(e,t);window.location.href=n}catch(t){throw console.error("Error managing subscription:",t),t}}}class nS{constructor(){this.apiKey={NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_FIREBASE_API_KEY:"AIzaSyB_geIGOagn2h6blPgMmYV00N-oqXYOI0Q",REACT_APP_FIREBASE_AUTH_DOMAIN:"quirkle-db.firebaseapp.com",REACT_APP_FIREBASE_PROJECT_ID:"quirkle-db",REACT_APP_FIREBASE_STORAGE_BUCKET:"quirkle-db.firebasestorage.app",REACT_APP_FIREBASE_MESSAGING_SENDER_ID:"953361912983",REACT_APP_FIREBASE_APP_ID:"1:953361912983:web:2d4cbe9fb86e9b9d22c5d2",REACT_APP_FIREBASE_MEASUREMENT_ID:"G-8PPFC7BPZL"}.REACT_APP_REVENUECAT_API_KEY||"rc_pseudo_key_replace_with_real"}async checkout(e,t){throw new Error("RevenueCat provider not yet implemented")}async manageSubscription(e){throw new Error("RevenueCat provider not yet implemented")}}const rS=new class{constructor(){this.provider=Zx,this.stripeProvider=new tS,this.revenueCatProvider=new nS}async getSubscriptionStatus(e){try{const t=wb(Ux,"users",e,"userSetting",Xx),n=await uw(t);return(n.exists()?n.data():{})[Jx]||"free"}catch(t){return console.error("Error getting subscription status:",t),"free"}}async updateSubscriptionStatus(e,t){try{const n=wb(Ux,"users",e,"userSetting",Xx);await fw(n,{[Jx]:t},{merge:!0})}catch(n){throw console.error("Error updating subscription status:",n),n}}async checkout(e,t){const r=Ds().currentUser;if(!r||r.email!==e)throw new Error("User not authenticated");if(this.provider===Zx){const{SUBSCRIPTION_PLANS:r}=await Promise.resolve().then(n.bind(n,240)),i=r[t];if(!i||!i.priceId)throw new Error(`Invalid plan: ${t}`);return await this.stripeProvider.checkout(e,i.priceId)}if(this.provider===eS)return await this.revenueCatProvider.checkout(e,t);throw new Error(`Unknown provider: ${this.provider}`)}async manageSubscription(e){const t=Ds().currentUser;if(!t||t.email!==e)throw new Error("User not authenticated");if(this.provider===Zx)return await this.stripeProvider.manageSubscription(e);if(this.provider===eS)return await this.revenueCatProvider.manageSubscription(e);throw new Error(`Unknown provider: ${this.provider}`)}async hasActiveSubscription(e){return"free"!==await this.getSubscriptionStatus(e)}},iS=rS;"undefined"!==typeof window&&window.Cypress&&(window.__subscriptionService=rS);var aS=n(240);const sS=t=>{let{isOpen:n,onClose:r,userInfo:i}=t;const a=J(),[s,o]=(0,e.useState)(null),[l,c]=(0,e.useState)(!1),[u,d]=(0,e.useState)(null),[h,f]=(0,e.useState)(!1);if((0,e.useEffect)((()=>{if(!n||null===i||void 0===i||!i.email)return void o(null);(async()=>{try{var e;const t=wb(Ux,"users",i.email,"userSetting","settings"),n=await uw(t),r=n.exists()?n.data():{};o(null!==(e=r["subscription status"])&&void 0!==e?e:"free")}catch(t){console.error("Error loading subscription:",t),o("free")}})()}),[n,null===i||void 0===i?void 0:i.email]),!n)return null;const p=s?aS.SUBSCRIPTION_PLANS[s]:null,m=(0,aS.D)(),g=s&&"free"!==s;return(0,Kx.jsx)("div",{className:"overlay",children:(0,Kx.jsxs)("div",{className:"popup",style:{maxWidth:"600px",maxHeight:"90vh",overflowY:"auto"},children:[(0,Kx.jsx)("button",{className:"close-button",onClick:r,children:"\xd7 "}),(0,Kx.jsx)("h2",{children:"Profile Information"}),(0,Kx.jsxs)("div",{className:"profile-content",children:[(0,Kx.jsxs)("p",{children:[(0,Kx.jsx)("strong",{children:"Email:"})," ",i.email]}),(0,Kx.jsxs)("div",{style:{marginTop:"20px",marginBottom:"20px"},children:[(0,Kx.jsx)("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"10px"},children:(0,Kx.jsxs)("div",{children:[(0,Kx.jsxs)("p",{style:{margin:"5px 0"},children:[(0,Kx.jsx)("strong",{children:"Current Plan:"})," ",(null===p||void 0===p?void 0:p.name)||"\u2026"]}),p&&(0,Kx.jsx)("div",{style:{fontSize:"0.9rem",color:"#666",marginTop:"5px"},children:p.features.map(((e,t)=>(0,Kx.jsxs)("div",{style:{margin:"2px 0"},children:["\u2022 ",e]},t)))})]})}),u&&(0,Kx.jsx)("div",{style:{padding:"10px",background:"#fee",color:"#c33",borderRadius:"5px",marginBottom:"10px",fontSize:"0.9rem"},children:u}),g?(0,Kx.jsx)("button",{onClick:async()=>{if(null!==i&&void 0!==i&&i.email){c(!0),d(null);try{await iS.manageSubscription(i.email)}catch(e){console.error("Error managing subscription:",e),d(e.message||"Failed to open subscription management. Please try again."),c(!1)}}},disabled:l,style:{padding:"10px 20px",background:"#4a5568",color:"white",border:"none",borderRadius:"8px",cursor:l?"not-allowed":"pointer",fontSize:"0.95rem",fontWeight:600,width:"100%",marginTop:"10px"},children:l?"Loading...":"Manage Subscription"}):(0,Kx.jsxs)("div",{children:[(0,Kx.jsx)("button",{onClick:()=>f(!h),style:{padding:"10px 20px",background:"#667eea",color:"white",border:"none",borderRadius:"8px",cursor:"pointer",fontSize:"0.95rem",fontWeight:600,width:"100%",marginTop:"10px"},children:h?"Hide Plans":"View Upgrade Options"}),h&&(0,Kx.jsxs)("div",{style:{marginTop:"20px"},children:[(0,Kx.jsx)("h3",{style:{fontSize:"1.1rem",marginBottom:"15px"},children:"Available Plans"}),m.map((e=>(0,Kx.jsxs)("div",{style:{border:"2px solid #e2e8f0",borderRadius:"12px",padding:"15px",marginBottom:"15px",background:"#f7fafc"},children:[(0,Kx.jsx)("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"10px"},children:(0,Kx.jsxs)("div",{children:[(0,Kx.jsx)("h4",{style:{margin:"0 0 5px 0",fontSize:"1.1rem"},children:e.name}),(0,Kx.jsxs)("p",{style:{margin:"0",fontSize:"1.2rem",fontWeight:"bold",color:"#667eea"},children:["$",e.price,"/month"]})]})}),(0,Kx.jsx)("ul",{style:{margin:"10px 0",paddingLeft:"20px",fontSize:"0.9rem"},children:e.features.map(((e,t)=>(0,Kx.jsx)("li",{style:{margin:"5px 0"},children:e},t)))}),(0,Kx.jsx)("button",{onClick:()=>(async e=>{if(null!==i&&void 0!==i&&i.email){c(!0),d(null);try{await iS.checkout(i.email,e)}catch(t){console.error("Error starting checkout:",t),d(t.message||"Failed to start checkout. Please try again."),c(!1)}}})(e.id),disabled:l,style:{padding:"10px 20px",background:"#667eea",color:"white",border:"none",borderRadius:"8px",cursor:l?"not-allowed":"pointer",fontSize:"0.95rem",fontWeight:600,width:"100%",marginTop:"10px"},children:l?"Processing...":`Upgrade to ${e.name}`})]},e.id)))]})]})]}),(0,Kx.jsx)("button",{onClick:async()=>{const e=Ds();try{await function(e){return jt(e).signOut()}(e),console.log("User logged out successfully"),r()}catch(u){console.error("Error logging out:",u),r()}a("/login")},className:"logout-button",style:{marginTop:"20px"},children:"Logout"})]}),(0,Kx.jsx)("hr",{}),(0,Kx.jsx)(Yx,{email:i.email})," ",(0,Kx.jsx)(Gx,{email:i.email})," "]})})},oS=(0,e.createContext)(),lS=e=>{let{children:t}=e;return(0,Kx.jsx)(oS.Provider,{value:{apiKey:"your-api-key",apiUrl:"https://api.example.com",environment:"production",name:"Quirkle"},children:t})},cS=t=>{let{user:n}=t;const r=(0,e.useContext)(oS),[i,a]=(0,e.useState)(!1),s=J();return(0,Kx.jsxs)("header",{className:"header",children:[(0,Kx.jsxs)("div",{className:"header-content",children:[(0,Kx.jsx)("nav",{children:(0,Kx.jsxs)("h1",{onClick:()=>s("/"),className:"header-title",style:{cursor:"pointer"},children:[(0,Kx.jsx)(pu,{icon:bu,style:{width:"1.5rem",height:"1.5rem",color:"#FFFFFF"}}),r.name]})}),(0,Kx.jsx)("nav",{children:(0,Kx.jsx)("a",{href:"/#/home",className:"home-icon",children:(0,Kx.jsx)(pu,{icon:_u,size:"lg"})})}),n&&(0,Kx.jsx)("div",{className:"header-user",children:(0,Kx.jsxs)("p",{className:"logged-in-as",onClick:()=>a(!0),style:{cursor:"pointer",textDecoration:"underline"},children:["Logged in as: ",n.email]})})]}),(0,Kx.jsx)(sS,{isOpen:i,onClose:()=>a(!1),userInfo:{email:(null===n||void 0===n?void 0:n.email)||"No Email"}})]})},uS=t=>{let{user:n}=t;const r=J(),[i,a]=(0,e.useState)(null),s=e=>{a(i===e?null:e)},o={container:{minHeight:"100vh",background:"salmon"},header:{padding:"1.5rem",display:"flex",justifyContent:"space-between",alignItems:"center"},headerTitle:{display:"flex",alignItems:"center",gap:"0.5rem"},headerText:{fontSize:"1.5rem",fontWeight:"600",color:"#1F2937",margin:0},headerEmail:{fontSize:"0.875rem",color:"#4B5563"},main:{maxWidth:"56rem",margin:"0 auto",padding:"1.5rem 1.5rem 3rem 1.5rem"},welcomeSection:{textAlign:"center",marginBottom:"3rem"},welcomeBadge:{display:"inline-flex",alignItems:"center",gap:"0.5rem",backgroundColor:"#FFF4E6",color:"#C2410C",padding:"0.5rem 1rem",borderRadius:"9999px",fontSize:"0.875rem",fontWeight:"500",marginBottom:"1.5rem"},welcomeHeading:{fontSize:"2.25rem",fontWeight:"bold",color:"#FFFFFF",marginBottom:"1rem",margin:"0 0 1rem 0"},welcomeText:{fontSize:"1.125rem",color:"#FFFFFF",marginBottom:"2rem",maxWidth:"32rem",margin:"0 auto 2rem auto"},dashboardButton:{background:"linear-gradient(to right, #FB923C, #F472B6, #FB7185)",color:"white",border:"none",borderRadius:"9999px",padding:"1.5rem 2rem",fontSize:"1.125rem",fontWeight:"500",cursor:"pointer",boxShadow:"0 10px 15px -3px rgba(0, 0, 0, 0.1)",transition:"all 0.3s ease"},featuresGrid:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(250px, 1fr))",gap:"1.5rem",marginBottom:"3rem"},featureCard:{backgroundColor:"rgba(255, 255, 255, 0.8)",backdropFilter:"blur(4px)",borderRadius:"1.5rem",padding:"1.5rem",boxShadow:"0 1px 3px 0 rgba(0, 0, 0, 0.1)",transition:"box-shadow 0.3s ease",border:"1px solid rgba(255, 192, 203, 0.5)"},featureIconContainer:{width:"3rem",height:"3rem",background:"linear-gradient(to bottom right, #FB923C, #EC4899)",borderRadius:"1rem",display:"flex",alignItems:"center",justifyContent:"center",marginBottom:"1rem"},featureIcon:{width:"1.5rem",height:"1.5rem",color:"white"},featureTitle:{fontWeight:"600",color:"#111827",marginBottom:"0.5rem",fontSize:"1rem"},featureDescription:{fontSize:"0.875rem",color:"#4B5563",margin:0},quickStartCard:{backgroundColor:"rgba(255, 255, 255, 0.6)",backdropFilter:"blur(4px)",borderRadius:"1.5rem",padding:"2rem",border:"1px solid rgba(255, 192, 203, 0.5)"},quickStartTitle:{fontSize:"1.25rem",fontWeight:"600",color:"#111827",marginBottom:"1.5rem",textAlign:"center"},quickStartGrid:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(200px, 1fr))",gap:"1rem"},quickStartItem:{backgroundColor:"white",borderRadius:"1rem",padding:"1.5rem",textAlign:"center",cursor:"pointer",border:"1px solid #F3F4F6",boxShadow:"0 1px 3px 0 rgba(0, 0, 0, 0.1)",transition:"transform 0.2s ease, box-shadow 0.2s ease",position:"relative"},quickStartItemHover:{transform:"scale(1.05)",boxShadow:"0 4px 6px -1px rgba(0, 0, 0, 0.1)"},quickStartEmoji:{fontSize:"1.875rem",marginBottom:"0.5rem"},quickStartQuestion:{fontWeight:"500",color:"#111827",marginBottom:"0.5rem",fontSize:"1rem"},expandedContent:{fontSize:"0.875rem",color:"#4B5563",marginTop:"0.75rem",paddingTop:"0.75rem",borderTop:"1px solid #E5E7EB"},footer:{textAlign:"center",padding:"2rem",fontSize:"0.875rem",color:"#FFFFFF"}};return(0,Kx.jsxs)("div",{style:o.container,children:[(0,Kx.jsx)("header",{style:o.header,children:(0,Kx.jsx)("div",{style:o.headerTitle})}),(0,Kx.jsxs)("main",{style:o.main,children:[(0,Kx.jsxs)("div",{style:o.welcomeSection,children:[n?(0,Kx.jsxs)(Kx.Fragment,{children:[(0,Kx.jsx)("h2",{style:o.welcomeHeading,children:"Welcome back! Ready to learn something new?"}),(0,Kx.jsx)("p",{style:o.welcomeText,children:"Your learning journey continues. Stay consistent, stay curious! \ud83c\udf1f"})]}):(0,Kx.jsxs)(Kx.Fragment,{children:[(0,Kx.jsx)("h2",{style:o.welcomeHeading,children:"Welcome! Start your learning journey today"}),(0,Kx.jsx)("p",{style:o.welcomeText,children:"Sign in to access personalized flashcards, track your progress, and master new concepts! \ud83d\ude80"})]}),(0,Kx.jsx)("button",{onClick:()=>{r(n?"/home":"/login")},style:o.dashboardButton,onMouseEnter:e=>{e.target.style.background="linear-gradient(to right, #F97316, #EC4899, #F43F5E)",e.target.style.boxShadow="0 20px 25px -5px rgba(0, 0, 0, 0.1)"},onMouseLeave:e=>{e.target.style.background="linear-gradient(to right, #FB923C, #F472B6, #FB7185)",e.target.style.boxShadow="0 10px 15px -3px rgba(0, 0, 0, 0.1)"},children:n?"Go to Dashboard \u2192":"Get Started \u2192"})]}),(0,Kx.jsxs)("div",{style:o.featuresGrid,children:[(0,Kx.jsxs)("div",{style:o.featureCard,onMouseEnter:e=>e.currentTarget.style.boxShadow="0 4px 6px -1px rgba(0, 0, 0, 0.1)",onMouseLeave:e=>e.currentTarget.style.boxShadow="0 1px 3px 0 rgba(0, 0, 0, 0.1)",children:[(0,Kx.jsx)("div",{style:o.featureIconContainer,children:(0,Kx.jsx)(pu,{icon:Ou,style:o.featureIcon})}),(0,Kx.jsx)("h3",{style:o.featureTitle,children:"Interactive Flashcards"}),(0,Kx.jsx)("p",{style:o.featureDescription,children:"Master concepts with smart flashcards"})]}),(0,Kx.jsxs)("div",{style:{...o.featureCard,border:"1px solid rgba(244, 114, 182, 0.5)"},onMouseEnter:e=>e.currentTarget.style.boxShadow="0 4px 6px -1px rgba(0, 0, 0, 0.1)",onMouseLeave:e=>e.currentTarget.style.boxShadow="0 1px 3px 0 rgba(0, 0, 0, 0.1)",children:[(0,Kx.jsx)("div",{style:{...o.featureIconContainer,background:"linear-gradient(to bottom right, #EC4899, #F43F5E)"},children:(0,Kx.jsx)(pu,{icon:xu,style:o.featureIcon})}),(0,Kx.jsx)("h3",{style:o.featureTitle,children:"Track Progress"}),(0,Kx.jsx)("p",{style:o.featureDescription,children:"Stay motivated with visual insights"})]}),(0,Kx.jsxs)("div",{style:{...o.featureCard,border:"1px solid rgba(167, 139, 250, 0.5)"},onMouseEnter:e=>e.currentTarget.style.boxShadow="0 4px 6px -1px rgba(0, 0, 0, 0.1)",onMouseLeave:e=>e.currentTarget.style.boxShadow="0 1px 3px 0 rgba(0, 0, 0, 0.1)",children:[(0,Kx.jsx)("div",{style:{...o.featureIconContainer,background:"linear-gradient(to bottom right, #F43F5E, #A78BFA)"},children:(0,Kx.jsx)(pu,{icon:bu,style:o.featureIcon})}),(0,Kx.jsx)("h3",{style:o.featureTitle,children:"Personalized Learning"}),(0,Kx.jsx)("p",{style:o.featureDescription,children:"Study tools adapted to your pace"})]})]}),(0,Kx.jsxs)("div",{style:o.quickStartCard,children:[(0,Kx.jsx)("h3",{style:o.quickStartTitle,children:"Quick Start"}),(0,Kx.jsxs)("div",{style:o.quickStartGrid,children:[(0,Kx.jsxs)("div",{onClick:()=>s(0),style:{...o.quickStartItem,...0===i?o.quickStartItemHover:{}},onMouseEnter:e=>{0!==i&&(e.currentTarget.style.transform="scale(1.05)",e.currentTarget.style.boxShadow="0 4px 6px -1px rgba(0, 0, 0, 0.1)")},onMouseLeave:e=>{0!==i&&(e.currentTarget.style.transform="scale(1)",e.currentTarget.style.boxShadow="0 1px 3px 0 rgba(0, 0, 0, 0.1)")},children:[(0,Kx.jsx)("div",{style:o.quickStartEmoji,children:"\u269b\ufe0f"}),(0,Kx.jsx)("p",{style:o.quickStartQuestion,children:"What is React?"}),0===i&&(0,Kx.jsx)("div",{style:{...o.expandedContent,animation:"fadeIn 0.3s ease-in"},children:(0,Kx.jsx)("p",{children:"React is a JavaScript library for building user interfaces, particularly single-page applications with reusable components."})})]}),(0,Kx.jsxs)("div",{onClick:()=>s(1),style:{...o.quickStartItem,...1===i?o.quickStartItemHover:{}},onMouseEnter:e=>{1!==i&&(e.currentTarget.style.transform="scale(1.05)",e.currentTarget.style.boxShadow="0 4px 6px -1px rgba(0, 0, 0, 0.1)")},onMouseLeave:e=>{1!==i&&(e.currentTarget.style.transform="scale(1)",e.currentTarget.style.boxShadow="0 1px 3px 0 rgba(0, 0, 0, 0.1)")},children:[(0,Kx.jsx)("div",{style:o.quickStartEmoji,children:"\ud83e\udde9"}),(0,Kx.jsx)("p",{style:o.quickStartQuestion,children:"What is a component?"}),1===i&&(0,Kx.jsx)("div",{style:{...o.expandedContent,animation:"fadeIn 0.3s ease-in"},children:(0,Kx.jsx)("p",{children:"A component is a reusable, self-contained piece of code that returns HTML elements. It's the building block of React apps."})})]}),(0,Kx.jsxs)("div",{onClick:()=>s(2),style:{...o.quickStartItem,...2===i?o.quickStartItemHover:{}},onMouseEnter:e=>{2!==i&&(e.currentTarget.style.transform="scale(1.05)",e.currentTarget.style.boxShadow="0 4px 6px -1px rgba(0, 0, 0, 0.1)")},onMouseLeave:e=>{2!==i&&(e.currentTarget.style.transform="scale(1)",e.currentTarget.style.boxShadow="0 1px 3px 0 rgba(0, 0, 0, 0.1)")},children:[(0,Kx.jsx)("div",{style:o.quickStartEmoji,children:"\ud83d\udce6"}),(0,Kx.jsx)("p",{style:o.quickStartQuestion,children:"What is JSX?"}),2===i&&(0,Kx.jsx)("div",{style:{...o.expandedContent,animation:"fadeIn 0.3s ease-in"},children:(0,Kx.jsx)("p",{children:"JSX is a syntax extension for JavaScript that lets you write HTML-like code in your JavaScript files. React transforms it to regular JavaScript."})})]})]})]})]}),(0,Kx.jsx)("footer",{style:o.footer,children:(0,Kx.jsx)("p",{children:"Consistency is key. Let's make today count! \ud83d\udcaa"})})]})},dS=t=>{let{setUser:n,user:r}=t;const[i,a]=(0,e.useState)(""),[s,o]=(0,e.useState)(""),[l,c]=(0,e.useState)(""),u=J();return r?u("/home"):console.log(`User state in login: ${JSON.stringify(r)}`),(0,Kx.jsxs)("div",{style:{textAlign:"center",maxWidth:"400px",margin:"0 auto",padding:"20px"},children:[(0,Kx.jsx)("h2",{children:"Login"}),(0,Kx.jsx)("p",{children:"Welcome to the Quiz App! Please log in to continue."}),(0,Kx.jsxs)("form",{onSubmit:async e=>{e.preventDefault();const t=Ds();try{const e=await function(e,t,n){return Gn(e.app)?Promise.reject(xr(e)):ha(jt(e),Ji.credential(t,n)).catch((async t=>{throw"auth/password-does-not-meet-requirements"===t.code&&fa(e),t}))}(t,i,s);n(e.user),u("/home")}catch(r){c(r.message)}},style:{marginBottom:"2em"},children:[(0,Kx.jsx)("div",{style:{marginBottom:"1em"},children:(0,Kx.jsx)("input",{type:"email",placeholder:"Email",value:i,onChange:e=>a(e.target.value),required:!0,style:{width:"100%",padding:"10px",fontSize:"1rem",borderRadius:"8px",border:"1px solid #ccc",boxSizing:"border-box"}})}),(0,Kx.jsx)("div",{style:{marginBottom:"1em"},children:(0,Kx.jsx)("input",{type:"password",placeholder:"Password",value:s,onChange:e=>o(e.target.value),required:!0,style:{width:"100%",padding:"10px",fontSize:"1rem",borderRadius:"8px",border:"1px solid #ccc",boxSizing:"border-box"}})}),(0,Kx.jsx)("button",{type:"submit",style:{width:"100%",padding:"12px",fontSize:"1rem",backgroundColor:"#667eea",color:"white",border:"none",borderRadius:"8px",cursor:"pointer",fontWeight:600,marginBottom:"1em"},children:"Sign In"})]}),(0,Kx.jsxs)("div",{style:{margin:"1.5em 0",display:"flex",alignItems:"center",justifyContent:"center"},children:[(0,Kx.jsx)("div",{style:{flex:1,height:"1px",backgroundColor:"#ccc"}}),(0,Kx.jsx)("span",{style:{margin:"0 1em",color:"#666"},children:"OR"}),(0,Kx.jsx)("div",{style:{flex:1,height:"1px",backgroundColor:"#ccc"}})]}),(0,Kx.jsxs)("div",{style:{marginBottom:"1em"},children:[(0,Kx.jsx)("img",{src:"/red_panda.jpg",alt:"Red Panda",style:{width:"200px",height:"auto",marginBottom:"0.5em"}}),(0,Kx.jsx)("button",{onClick:async()=>{const e=Ds(),t=new na;try{const r=await async function(e,t,n){if(Gn(e.app))return Promise.reject(br(e,"operation-not-supported-in-this-environment"));const r=Ti(e);Sr(e,t,Zi);const i=$a(r,n);return new Xa(r,"signInViaPopup",t,i).executeNotNull()}(e,t);n(r.user),u("/home")}catch(r){c(r.message)}},style:{display:"block",margin:"0 auto",marginTop:"0.5em",padding:"12px 24px",fontSize:"1rem",backgroundColor:"#4285f4",color:"white",border:"none",borderRadius:"8px",cursor:"pointer",fontWeight:600},children:"Sign in with Google"})]}),l&&(0,Kx.jsx)("p",{style:{color:"red",marginTop:"1em"},children:l})]})},hS=e=>{const t=new Date;t.setHours(23,59,59,59);let n=[];return(Array.isArray(e.questions)?e.questions:Object.values(e.questions||{})).forEach((e=>{e.activeTime?new Date(e.activeTime)<=t&&n.push(e):n.push(e)})),n},fS=t=>{let{quizzes:n,setSelectedQuiz:r,setSelectedTitle:i,spacedLearning:a="all",isFreePlan:s=!1,maxReachedFree:o=!1,freePlanMax:l=10}=t;const c=J(),[u,d]=(0,e.useState)(null),[h,f]=(0,e.useState)(null),p=e=>{const t=new Date(e),n=new Date-t;return Math.floor(n/864e5)},m=e=>{const t=Array.isArray(e.questions)?e.questions:Object.values(e.questions||{}),n={};t.forEach((e=>{const t=parseInt(e.level,10)||1;n[t]=(n[t]||0)+1}));const r=Object.entries(n).sort(((e,t)=>{let[n]=e,[r]=t;return parseInt(n)-parseInt(r)})).map((e=>{let[t,n]=e;return`L${t}:T${n}`})).join(", ");return r||"No questions"},g=e=>{const t=Array.isArray(e.questions)?e.questions:Object.values(e.questions||{}),n={};t.forEach((e=>{const t=parseInt(e.level,10)||1;n[t]=(n[t]||0)+1}));const r=Object.entries(n).sort(((e,t)=>{let[n]=e,[r]=t;return parseInt(n)-parseInt(r)})).map((e=>{let[t,n]=e;return`Level ${t}: ${n} questions`})).join(", ");return r||"No questions"},y="spacedLearning"===a||!0===a,{totalQuizzes:v,totalQuestions:b}=(()=>{let e=0,t=0;return Object.keys(n).forEach((r=>{const i=n[r];e++;const a=Array.isArray(i.questions)?i.questions:Object.values(i.questions||{});t+=a.length})),{totalQuizzes:e,totalQuestions:t}})(),[w,x]=(0,e.useState)(!1);return(0,Kx.jsxs)("div",{className:"quiz-boxes-container",children:[!y&&(0,Kx.jsxs)("div",{className:"quiz-option",style:{cursor:"default",border:"2px solid #4CAF50"},children:[(0,Kx.jsx)("h3",{style:{color:"#4CAF50",marginBottom:"12px",fontSize:"1.2em",textAlign:"center",width:"100%",margin:"0 0 12px 0"},children:"\ud83d\udcca Quiz Tracker"}),0===v||0===b?(0,Kx.jsx)("p",{style:{color:"#666",fontSize:"0.95em",textAlign:"center",margin:0,width:"100%"},children:"Let's start adding some quizzes!!"}):(0,Kx.jsxs)("div",{style:{textAlign:"center",color:"#333",width:"100%"},children:[(0,Kx.jsxs)("p",{style:{margin:"0",fontSize:"1em",textAlign:"center",width:"100%"},children:[(0,Kx.jsx)("strong",{children:"Total Quizzes:"})," ",v]}),(0,Kx.jsxs)("p",{style:{margin:"8px 0 0 0",fontSize:"1em",textAlign:"center",width:"100%"},children:[(0,Kx.jsx)("strong",{children:"Total Questions:"})," ",b]})]})]}),y&&(0,Kx.jsxs)(Kx.Fragment,{children:[(0,Kx.jsxs)("div",{className:"quiz-option",onClick:()=>x(!0),style:{backgroundColor:"#E3F2FD",border:"2px solid #2196F3",cursor:"pointer",flexDirection:"column",alignItems:"flex-start",padding:"20px"},onMouseEnter:e=>{e.currentTarget.style.backgroundColor="#BBDEFB"},onMouseLeave:e=>{e.currentTarget.style.backgroundColor="#E3F2FD"},children:[(0,Kx.jsx)("h3",{style:{color:"#2196F3",marginBottom:"8px",fontSize:"1.2em",textAlign:"left",width:"100%",margin:"0 0 8px 0"},children:"\u2139\ufe0f Learn about Spaced Learning"}),(0,Kx.jsx)("p",{style:{color:"#1976D2",fontSize:"0.9em",margin:0,textAlign:"left",width:"100%"},children:"Click to learn how spaced learning works"})]}),w&&(0,Kx.jsx)("div",{style:{position:"fixed",top:0,left:0,right:0,bottom:0,backgroundColor:"rgba(0, 0, 0, 0.5)",display:"flex",justifyContent:"center",alignItems:"center",zIndex:1e3},onClick:()=>x(!1),children:(0,Kx.jsxs)("div",{style:{backgroundColor:"white",borderRadius:"12px",padding:"30px",maxWidth:"600px",maxHeight:"80vh",overflow:"auto",boxShadow:"0 4px 20px rgba(0, 0, 0, 0.3)",position:"relative"},onClick:e=>e.stopPropagation(),children:[(0,Kx.jsx)("button",{onClick:()=>x(!1),style:{position:"absolute",top:"10px",right:"10px",background:"none",border:"none",fontSize:"24px",cursor:"pointer",color:"#666",padding:"0",width:"30px",height:"30px",display:"flex",alignItems:"center",justifyContent:"center"},children:"\xd7"}),(0,Kx.jsx)("h2",{style:{color:"#2196F3",marginTop:0,marginBottom:"20px"},children:"What is Spaced Learning?"}),(0,Kx.jsxs)("div",{style:{color:"#333",lineHeight:"1.6"},children:[(0,Kx.jsx)("p",{style:{marginBottom:"15px"},children:"Spaced Learning is a scientifically-proven learning technique that helps you retain information more effectively by reviewing material at increasing intervals."}),(0,Kx.jsx)("h3",{style:{color:"#1976D2",marginTop:"20px",marginBottom:"10px"},children:"How It Works:"}),(0,Kx.jsxs)("ul",{style:{marginLeft:"20px",marginBottom:"15px"},children:[(0,Kx.jsxs)("li",{style:{marginBottom:"10px"},children:[(0,Kx.jsx)("strong",{children:"Level 1:"})," Questions you answer correctly move to Level 2, and you'll see them again soon."]}),(0,Kx.jsxs)("li",{style:{marginBottom:"10px"},children:[(0,Kx.jsx)("strong",{children:"Level 2:"})," Correct answers advance to Level 3, with longer intervals between reviews."]}),(0,Kx.jsxs)("li",{style:{marginBottom:"10px"},children:[(0,Kx.jsx)("strong",{children:"Level 3:"})," Questions here are reviewed less frequently, helping solidify your memory."]}),(0,Kx.jsxs)("li",{style:{marginBottom:"10px"},children:[(0,Kx.jsx)("strong",{children:"Level 4:"})," Mastered questions! These are reviewed very infrequently, as you've demonstrated strong retention."]})]}),(0,Kx.jsx)("p",{style:{marginTop:"20px",fontStyle:"italic",color:"#666"},children:"The system automatically schedules questions based on your performance, ensuring you review material at optimal intervals for long-term retention."})]})]})})]}),y&&(()=>{const e=(()=>{const e=[];return Object.keys(n).forEach((t=>{const r=n[t];if(r.spacedLearning){const n=Array.isArray(r.questions)?r.questions:Object.values(r.questions||{}),i=hS(r);if(i.length>0){const a=i.map((e=>{const t=n.findIndex((t=>t===e));return{...e,originalIndex:void 0!==e.originalIndex?e.originalIndex:String(t>=0?t:n.indexOf(e))}}));e.push({title:t,questions:a,lastAccessed:r.lastAccessed,spacedLearning:r.spacedLearning})}}})),e})();e.reduce(((e,t)=>e+t.questions.length),0)})(),Object.keys(n).map(((e,t)=>(0,Kx.jsxs)("div",{className:"quiz-option",onClick:()=>{const t=n[e].questions;let a;a=Array.isArray(t)?t.map(((e,t)=>({...e,originalIndex:void 0!==e.originalIndex?e.originalIndex:String(t)}))):Object.entries(t||{}).map((e=>{let[t,n]=e;return{...n,originalIndex:void 0!==n.originalIndex?n.originalIndex:String(t)}})),r({questions:a,lastAccessed:n[e].lastAccessed,spacedLearning:n[e].spacedLearning,...Object.fromEntries(Object.entries(n[e]).filter((e=>{let[t]=e;return"questions"!==t})))}),i(e)},style:{position:"relative",cursor:"pointer",transition:"all 0.3s ease"},onMouseEnter:e=>{e.currentTarget.style.transform="translateY(-2px)",e.currentTarget.style.boxShadow="0 4px 8px rgba(0, 0, 0, 0.15)"},onMouseLeave:e=>{e.currentTarget.style.transform="translateY(0)",e.currentTarget.style.boxShadow="none"},children:[(0,Kx.jsxs)("div",{className:"quiz-header",children:[(0,Kx.jsxs)("div",{className:"quiz-stats",style:{position:"absolute",top:"8px",left:"8px",fontSize:"0.75em",zIndex:10,display:"flex",flexDirection:"column",gap:"4px",lineHeight:"1.2"},children:[(0,Kx.jsxs)("span",{className:"stat-item",style:{position:"relative",cursor:"pointer"},onMouseEnter:()=>f(`${e}-daysAgo`),onMouseLeave:()=>f(null),onClick:t=>{t.stopPropagation(),f((t=>t===`${e}-daysAgo`?null:`${e}-daysAgo`))},children:[n[e].lastAccessed?`${p(n[e].lastAccessed)} days ago`:"Never Accessed",h===`${e}-daysAgo`&&(0,Kx.jsx)("div",{className:"tooltip",children:n[e].lastAccessed?(()=>{const t=new Date(n[e].lastAccessed);return`Time Last Accessed: ${t.toLocaleTimeString("en-US",{hour:"2-digit",minute:"2-digit"})} - ${t.toLocaleDateString("en-US",{weekday:"long",year:"numeric",month:"long",day:"numeric"})}`})():"No access date available"})]}),(0,Kx.jsxs)("span",{className:"stat-item",style:{position:"relative",cursor:"pointer"},onMouseEnter:()=>f(`${e}-progress`),onMouseLeave:()=>f(null),onClick:t=>{t.stopPropagation(),f((t=>t===`${e}-progress`?null:`${e}-progress`))},children:[`Progress: ${m(n[e])}`,h===`${e}-progress`&&(0,Kx.jsxs)("div",{className:"tooltip",children:[(0,Kx.jsx)("strong",{children:"Question Distribution by Level:"}),(0,Kx.jsx)("br",{}),g(n[e])]})]}),(0,Kx.jsxs)("span",{className:"stat-item",style:{position:"relative",cursor:"pointer"},onMouseEnter:()=>f(`${e}-active`),onMouseLeave:()=>f(null),onClick:t=>{t.stopPropagation(),f((t=>t===`${e}-active`?null:`${e}-active`))},children:[`Status: ${hS(n[e]).length}/${Array.isArray(n[e].questions)?n[e].questions.length:Object.keys(n[e].questions||{}).length}`,h===`${e}-active`&&(0,Kx.jsxs)("div",{className:"tooltip",children:[(0,Kx.jsx)("strong",{children:"Active Questions Breakdown:"}),(0,Kx.jsx)("br",{}),"Unanswered: ",hS(n[e]).length,(0,Kx.jsx)("br",{}),"Total:"," ",Array.isArray(n[e].questions)?n[e].questions.length:Object.keys(n[e].questions||{}).length,(0,Kx.jsx)("br",{}),"Answered:"," ",(Array.isArray(n[e].questions)?n[e].questions.length:Object.keys(n[e].questions||{}).length)-hS(n[e]).length]})]})]}),(0,Kx.jsx)("h3",{style:{marginTop:"40px",textAlign:"center",width:"100%"},children:e})]}),u===e&&(0,Kx.jsxs)("div",{className:"click-options",children:[(0,Kx.jsx)("button",{onClick:()=>{const t=n[e].questions;let a;a=Array.isArray(t)?t.map(((e,t)=>({...e,originalIndex:void 0!==e.originalIndex?e.originalIndex:String(t)}))):Object.entries(t||{}).map((e=>{let[t,n]=e;return{...n,originalIndex:void 0!==n.originalIndex?n.originalIndex:String(t)}})),r({questions:a,lastAccessed:n[e].lastAccessed,spacedLearning:n[e].spacedLearning,...Object.fromEntries(Object.entries(n[e]).filter((e=>{let[t]=e;return"questions"!==t})))}),i(e)},className:"click-button",children:"Take Quiz"}),(0,Kx.jsx)("button",{onClick:()=>{const t=n[e].questions;let r;r=Array.isArray(t)?t.map(((e,t)=>({...e,originalIndex:void 0!==e.originalIndex?e.originalIndex:String(t)}))):Object.entries(t||{}).map((e=>{let[t,n]=e;return{...n,originalIndex:void 0!==n.originalIndex?n.originalIndex:String(t)}})),c("/quiz-view",{state:{title:e,questions:r,lastAccessed:n[e].lastAccessed}})},className:"click-button",children:"Add Questions"})]})]},t))),(0,Kx.jsxs)("div",{className:"quiz-box add-quiz-box",onClick:()=>{o||c("/add-questions")},role:"button",tabIndex:o?-1:0,onKeyDown:e=>{o||"Enter"!==e.key&&" "!==e.key||(e.preventDefault(),c("/add-questions"))},style:{cursor:o?"not-allowed":"pointer",backgroundColor:o?"#e8e8e8":"#f0f0f0",border:"2px dashed #ccc",display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center",fontFamily:"Caveat",transition:"all 0.3s ease",opacity:o?.8:1},onMouseEnter:e=>{o||(e.currentTarget.style.backgroundColor="#e8e8e8",e.currentTarget.style.transform="translateY(-2px)",e.currentTarget.style.boxShadow="0 4px 8px rgba(0, 0, 0, 0.15)")},onMouseLeave:e=>{e.currentTarget.style.backgroundColor=o?"#e8e8e8":"#f0f0f0",e.currentTarget.style.transform="translateY(0)",e.currentTarget.style.boxShadow="none"},children:[(0,Kx.jsx)("h3",{style:{color:"#888"},children:"+ Add Quiz"}),s&&(0,Kx.jsxs)("p",{style:{fontSize:"0.75rem",color:"#888",margin:"4px 0 0",fontFamily:"Arial, sans-serif"},children:["Max ",l," quizzes on the free plan"]})]})]})},pS=t=>{let{selectedQuiz:n,selectedTitle:r,currentQuestionIndex:i,setCurrentQuestionIndex:a,setSelectedQuiz:s,handlePrevQuestion:o,handleNextQuestion:l,toggleAnswerVisibility:c,showAnswer:u,email:d,skipFilterChoice:h=!1,onEditQuiz:f}=t;const p=J(),[m,g]=(0,e.useState)(h?"all":null),[y,v]=(0,e.useState)(!1),[b,w]=(0,e.useState)(!1),x=function(){if(arguments.length>0&&void 0!==arguments[0]&&arguments[0])return s(null),g(null),void(window.location.href="#/home");const e=Array.isArray(n)?n:null!==n&&void 0!==n&&n.questions?n.questions:Object.values(n||{});i+1<e.length?v(!0):(s(null),g(null))},S=e=>{const t=(null===n||void 0===n?void 0:n.isCumulativeTest)||"Cumulative Test"===r||!1,i=Array.isArray(n)?n:null!==n&&void 0!==n&&n.questions?n.questions:Object.values(n||{});let a;a=Array.isArray(i)?i.map(((e,t)=>({...e,originalIndex:void 0!==e.originalIndex?e.originalIndex:String(t)}))):Object.entries(i||{}).map((e=>{let[t,n]=e;return{...n,originalIndex:void 0!==n.originalIndex?n.originalIndex:String(t)}}));const o=Array.isArray(n)?{}:{...n};if(delete o.questions,"passed"===e){const e=a.filter((e=>!0===e.passed));s({...o,questions:e})}else if("notPassed"===e){const e=a.filter((e=>!0!==e.passed));s({...o,questions:e})}else s({...o,questions:a});if(g(e),!t&&r&&"Cumulative Test"!==r)try{const t=(new Date).toISOString();(async(e,t,n)=>{try{const r=wb(Ux,e);await pw(r,{[t]:yw(n)})}catch(r){throw console.error(`Error appending data to map field ${t} in document at ${e}:`,r),r}})(`users/${d}/quizCollection/${r}`,"quizStats",{start:t,filterChoice:e,complete:!1}).catch((e=>{console.error("Error appending quiz stats:",e)}))}catch(l){console.error("Error in quiz stats append:",l)}else console.log("Skipping quizStats update for cumulative test")},E=async e=>{console.log("handleAnswerChoice",e);let t;t=(await Bx("configs/levelTypes")).standard;try{const o=Array.isArray(n)?n:null!==n&&void 0!==n&&n.questions?n.questions:Object.values(n||{}),h=o[i],f=void 0!==(null===h||void 0===h?void 0:h.originalIndex)?String(h.originalIndex):String(i),p="right"===e,m=(new Date).toISOString();let g,y;if("right"===e){g=h.level?Math.min(h.level+1,4):2;const e=t[Math.min(g,4)],n=new Date;n.setDate(n.getDate()+e),y=n.toISOString(),console.log("Answered right, setting level to",g,"next active time to",y)}else{g=h.level&&h.level-1>0?h.level-1:1;const e=t[Math.max(g,1)],n=new Date;n.setDate(n.getDate()+e),y=n.toISOString(),console.log("Answered wrong, setting level to",g,"next active time to",y)}const v=f,b={[`questions.${v}.passed`]:p,[`questions.${v}.lastAnswered`]:m,[`questions.${v}.level`]:g,[`questions.${v}.activeTime`]:y};console.log("selectedTitle",r),await Vx(`users/${d}/quizCollection/${r}`,b);const w=Array.isArray(n)?{}:{...n,questions:void 0};delete w.questions;const x=[...o];x[i]={...h,passed:p,lastAnswered:m,level:g,activeTime:y},s({...w,questions:x});i+1>=o.length?(u&&c(),a&&a(o.length)):(u&&c(),l?l():a&&a(i+1))}catch(o){console.error("Error updating question in Firestore:",o)}},k=Array.isArray(n)?n:null!==n&&void 0!==n&&n.questions?n.questions:Object.values(n||{}),_=k[i],C=(null===n||void 0===n?void 0:n.isCumulativeTest)||!1,T=Boolean(null===n||void 0===n?void 0:n.spacedLearning)&&"all"!==n.spacedLearning,I=C?n.currentQuizTitle:r,A=C?n.quizList:null,P=C?n.currentQuizIndex:0;(0,e.useEffect)((()=>{T||null!==m||g("all")}),[T,m]),(0,e.useEffect)((()=>{C&&A&&i===k.length&&k.length>0&&w(!0)}),[i,k.length,C,A]);const N=()=>{if(C&&A&&a){const e=P+1;e<A.length?(s({...n,currentQuizIndex:e,questions:A[e].questions,currentQuizTitle:A[e].title}),a(0),w(!1)):w(!1)}},R=()=>{w(!1),s(null),g(null)};if((0,e.useEffect)((()=>{i===k.length&&(async()=>{try{const e=await Bx(`users/${d}/pointSystem/points`);if(e&&void 0!==e.value){const t=e.value||0;await Vx(`users/${d}/pointSystem/points`,{value:t+1})}else await qx(`users/${d}/pointSystem/points`,{value:1})}catch(e){console.error("Error updating points:",e)}})()}),[i,k.length]),b&&C&&A){const e=P+1>=A.length;return(0,Kx.jsx)("div",{className:"popup-overlay",children:(0,Kx.jsxs)("div",{className:"popup-content",children:[(0,Kx.jsx)("h2",{children:e?"\ud83c\udf89 Cumulative Test Complete!":`Quiz "${I}" Complete!`}),(0,Kx.jsx)("p",{children:e?"You have completed all quizzes in the cumulative test and earned 1 point!":`You've finished all questions in "${I}". Moving to the next quiz...`}),(0,Kx.jsx)("div",{style:{display:"flex",gap:"12px",justifyContent:"center",marginTop:"20px"},children:e?(0,Kx.jsx)("button",{onClick:R,className:"question-button",children:"Back to Quiz List"}):(0,Kx.jsxs)(Kx.Fragment,{children:[(0,Kx.jsx)("button",{onClick:N,className:"question-button",children:"Continue to Next Quiz"}),(0,Kx.jsx)("button",{onClick:R,className:"question-button",children:"Exit Cumulative Test"})]})})]})})}if(i===k.length){const e=C&&A&&P+1>=A.length;return(0,Kx.jsxs)("div",{className:"quiz-container",children:[(0,Kx.jsx)("h2",{children:"Congrats, you are done!"}),(0,Kx.jsx)("p",{children:C?e?"You have completed the cumulative test and earned 1 point!":"You have completed this quiz!":"You have completed the quiz and earned 1 point!"}),(0,Kx.jsx)("button",{onClick:()=>x(!0),className:"question-button",children:"Back to Quiz List"})]})}if(null===m&&T)return(0,Kx.jsx)("div",{className:"quiz-container",style:{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",minHeight:"60vh",padding:"2em"},children:(0,Kx.jsxs)("div",{style:{backgroundColor:"#ffffff",borderRadius:"16px",padding:"2.5em 3em",boxShadow:"0 8px 24px rgba(0, 0, 0, 0.12)",border:"1px solid #e0e0e0",maxWidth:"500px",width:"100%",textAlign:"center"},children:[(0,Kx.jsx)("h2",{style:{color:"#333",marginBottom:"1.5em",fontSize:"1.8em",fontWeight:"600"},children:"Choose Your Quiz Mode"}),(0,Kx.jsxs)("div",{style:{display:"flex",gap:"1em",justifyContent:"center",alignItems:"center",flexWrap:"wrap"},children:[(0,Kx.jsx)("button",{onClick:()=>x(!0),className:"question-button",style:{padding:"12px 24px",fontSize:"1em",borderRadius:"8px",border:"2px solid #ccc",backgroundColor:"#f5f5f5",color:"#333",cursor:"pointer",transition:"all 0.3s ease"},onMouseEnter:e=>{e.target.style.backgroundColor="#e8e8e8",e.target.style.transform="translateY(-2px)",e.target.style.boxShadow="0 4px 8px rgba(0, 0, 0, 0.15)"},onMouseLeave:e=>{e.target.style.backgroundColor="#f5f5f5",e.target.style.transform="translateY(0)",e.target.style.boxShadow="none"},children:"Back to Quiz List"}),(0,Kx.jsx)("button",{onClick:()=>S("all"),className:"question-button",style:{padding:"14px 32px",fontSize:"1.1em",fontWeight:"600",borderRadius:"10px",border:"none",background:"linear-gradient(135deg, #667eea 0%, #764ba2 100%)",color:"white",cursor:"pointer",transition:"all 0.3s ease",boxShadow:"0 4px 15px rgba(102, 126, 234, 0.4)"},onMouseEnter:e=>{e.target.style.transform="translateY(-2px)",e.target.style.boxShadow="0 6px 20px rgba(102, 126, 234, 0.5)"},onMouseLeave:e=>{e.target.style.transform="translateY(0)",e.target.style.boxShadow="0 4px 15px rgba(102, 126, 234, 0.4)"},children:"View All Questions"}),(null===n||void 0===n?void 0:n.spacedLearning)&&"all"!==n.spacedLearning&&(0,Kx.jsx)("button",{onClick:()=>{const e=Array.isArray(n)?n:null!==n&&void 0!==n&&n.questions?n.questions:Object.values(n||{});p("/spaced-learning",{state:{initialData:{title:r,questions:e,lastAccessed:null===n||void 0===n?void 0:n.lastAccessed,spacedLearning:n.spacedLearning},email:d,title:r}})},className:"question-button",style:{padding:"14px 32px",fontSize:"1.1em",fontWeight:"600",borderRadius:"10px",border:"none",backgroundColor:"#4CAF50",color:"white",cursor:"pointer",transition:"all 0.3s ease",boxShadow:"0 4px 15px rgba(76, 175, 80, 0.4)"},onMouseEnter:e=>{e.target.style.transform="translateY(-2px)",e.target.style.boxShadow="0 6px 20px rgba(76, 175, 80, 0.5)"},onMouseLeave:e=>{e.target.style.transform="translateY(0)",e.target.style.boxShadow="0 4px 15px rgba(76, 175, 80, 0.4)"},children:"Start Spaced Learning"})]})]})});const O=k.length>0?Math.round((i+1)/k.length*100):0,D=C&&I?`${r} - ${I}`:r;(null===n||void 0===n?void 0:n.spacedLearning)&&n.spacedLearning;return(0,Kx.jsxs)("div",{className:"quiz-container quiz-view-redesign",style:{display:"flex",flexDirection:"column",alignItems:"center",padding:"24px 16px 48px",maxWidth:"680px",margin:"0 auto"},children:[(0,Kx.jsx)("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",width:"100%",marginBottom:"20px"},children:(0,Kx.jsxs)("button",{type:"button",onClick:()=>x(!0),className:"quiz-view-top-btn",style:{display:"flex",alignItems:"center",gap:"8px",padding:"10px 16px",borderRadius:"12px",border:"none",background:"#e8e8e8",color:"#333",fontWeight:600,cursor:"pointer",boxShadow:"0 2px 8px rgba(0,0,0,0.08)"},children:[(0,Kx.jsx)(pu,{icon:Eu,style:{width:"16px"}}),"Back to Quiz List"]})}),(0,Kx.jsxs)("div",{style:{display:"inline-flex",alignItems:"center",gap:"8px",padding:"8px 20px",borderRadius:"999px",background:"linear-gradient(135deg, #ef476f 0%, #ff6ec4 100%)",color:"#fff",fontWeight:600,marginBottom:"6px",boxShadow:"0 4px 14px rgba(239, 71, 111, 0.35)"},children:[(0,Kx.jsx)(pu,{icon:bu,style:{width:"14px"}}),D]}),(0,Kx.jsxs)("div",{style:{width:"100%",display:"flex",alignItems:"center",gap:"12px",marginBottom:"24px"},children:[(0,Kx.jsxs)("span",{style:{fontSize:"0.9rem",color:"rgba(255,255,255,0.95)",minWidth:"100px"},children:["Question ",i+1," of ",k.length]}),(0,Kx.jsx)("div",{style:{flex:1,height:"10px",borderRadius:"999px",background:"rgba(255,255,255,0.35)",overflow:"hidden"},children:(0,Kx.jsx)("div",{style:{height:"100%",width:`${O}%`,borderRadius:"999px",background:"linear-gradient(90deg, #ff9a3c 0%, #ff6ec4 50%, #ef476f 100%)",transition:"width 0.3s ease"}})}),(0,Kx.jsxs)("span",{style:{fontSize:"0.9rem",color:"rgba(255,255,255,0.95)",minWidth:"36px",textAlign:"right"},children:[O,"%"]})]}),(0,Kx.jsxs)("div",{className:"quiz-view-question-card",style:{width:"100%",background:"#fff",borderRadius:"20px",padding:"28px 24px",boxShadow:"0 12px 32px rgba(0,0,0,0.1)",border:"1px solid rgba(0,0,0,0.06)",marginBottom:"20px"},children:[(0,Kx.jsx)("div",{style:{fontSize:"0.75rem",fontWeight:700,letterSpacing:"0.05em",color:"#c45d7a",marginBottom:"8px"},children:"QUESTION"}),(0,Kx.jsx)("div",{style:{fontSize:"1.35rem",fontWeight:700,color:"#2b1f1c",lineHeight:1.4,marginBottom:"8px"},children:_.question})]}),(0,Kx.jsxs)("button",{type:"button",onClick:c,className:"quiz-view-show-answer-btn",style:{display:"flex",alignItems:"center",justifyContent:"center",gap:"8px",padding:"12px 24px",marginBottom:"24px",borderRadius:"12px",border:"none",background:"#e8e8e8",color:"#333",fontWeight:600,cursor:"pointer",boxShadow:"0 2px 8px rgba(0,0,0,0.08)"},children:[(0,Kx.jsx)(pu,{icon:u?yu:Su,style:{width:"18px"}}),u?"Hide Answer":"Show Answer"]}),u&&(0,Kx.jsxs)(Kx.Fragment,{children:[(0,Kx.jsxs)("div",{className:"quiz-view-answer-card",style:{width:"100%",background:"#f8f8f8",borderRadius:"16px",padding:"20px 24px",marginBottom:"24px",border:"1px solid #eee"},children:[(0,Kx.jsx)("div",{style:{fontSize:"0.75rem",fontWeight:700,letterSpacing:"0.05em",color:"#c45d7a",marginBottom:"6px"},children:"ANSWER"}),(0,Kx.jsx)("div",{style:{fontSize:"1.05rem",color:"#2b1f1c",lineHeight:1.5},children:_.answer})]}),(0,Kx.jsxs)("div",{style:{display:"flex",justifyContent:"center",gap:"16px",flexWrap:"wrap",marginBottom:"24px"},children:[(0,Kx.jsxs)("button",{type:"button",onClick:()=>E("right"),className:"quiz-view-feedback-btn right",style:{display:"flex",alignItems:"center",gap:"10px",padding:"14px 28px",borderRadius:"14px",border:"none",background:"linear-gradient(90deg, #4CAF50 0%, #81c784 100%)",color:"#fff",fontWeight:700,fontSize:"1.05rem",cursor:"pointer",boxShadow:"0 6px 20px rgba(76, 175, 80, 0.4)"},children:[(0,Kx.jsx)(pu,{icon:Ru,style:{width:"20px"}}),"Got It Right!",(0,Kx.jsx)("span",{style:{opacity:.9},children:"\u2b50"})]}),(0,Kx.jsxs)("button",{type:"button",onClick:()=>E("wrong"),className:"quiz-view-feedback-btn wrong",style:{display:"flex",alignItems:"center",gap:"10px",padding:"14px 28px",borderRadius:"14px",border:"none",background:"linear-gradient(90deg, #ff9a3c 0%, #ef476f 100%)",color:"#fff",fontWeight:700,fontSize:"1.05rem",cursor:"pointer",boxShadow:"0 6px 20px rgba(239, 71, 111, 0.35)"},children:[(0,Kx.jsx)(pu,{icon:Iu,style:{width:"20px"}}),"Need Review",(0,Kx.jsx)("span",{style:{opacity:.9},children:"\ud83d\udcd6"})]})]})]}),(0,Kx.jsxs)("div",{style:{display:"flex",gap:"12px",marginBottom:"28px"},children:[(0,Kx.jsxs)("button",{type:"button",onClick:o,disabled:0===i,className:"quiz-view-nav-btn",style:{display:"flex",alignItems:"center",gap:"6px",padding:"10px 18px",borderRadius:"10px",border:"none",background:"#e8e8e8",color:"#333",fontWeight:600,cursor:0===i?"not-allowed":"pointer",opacity:0===i?.6:1,boxShadow:"0 2px 8px rgba(0,0,0,0.08)"},children:[(0,Kx.jsx)(pu,{icon:Au,style:{width:"14px"}}),"Previous"]}),(0,Kx.jsxs)("button",{type:"button",onClick:l,disabled:i===k.length-1,className:"quiz-view-nav-btn",style:{display:"flex",alignItems:"center",gap:"6px",padding:"10px 18px",borderRadius:"10px",border:"none",background:"#e8e8e8",color:"#333",fontWeight:600,cursor:i===k.length-1?"not-allowed":"pointer",opacity:i===k.length-1?.6:1,boxShadow:"0 2px 8px rgba(0,0,0,0.08)"},children:["Next",(0,Kx.jsx)(pu,{icon:Pu,style:{width:"14px"}})]})]}),(0,Kx.jsxs)("div",{className:"quiz-view-study-tip",style:{width:"100%",background:"#fff",borderRadius:"20px",padding:"20px 24px",boxShadow:"0 8px 24px rgba(0,0,0,0.08)",border:"1px solid rgba(0,0,0,0.06)"},children:[(0,Kx.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:"8px",marginBottom:"8px",fontSize:"0.85rem",fontWeight:700,color:"#c45d7a"},children:[(0,Kx.jsx)(pu,{icon:bu,style:{width:"14px"}}),(0,Kx.jsx)("span",{children:"Study Tip"})]}),(0,Kx.jsx)("p",{style:{margin:0,fontSize:"0.95rem",color:"#444",lineHeight:1.5},children:"Try to recall the answer before revealing it. Active recall strengthens your memory! \ud83d\udcaa"})]}),y&&(0,Kx.jsx)("div",{className:"popup-overlay",children:(0,Kx.jsxs)("div",{className:"popup-content",children:[(0,Kx.jsx)("h3",{children:"You haven't finished the quiz yet!"}),(0,Kx.jsx)("p",{children:"Do you want to continue or exit?"}),(0,Kx.jsx)("button",{onClick:()=>{v(!1)},className:"question-button",children:"Continue Quiz"}),(0,Kx.jsx)("button",{onClick:()=>{v(!1),s(null)},className:"question-button",children:"Exit Quiz"})]})})]})},mS=t=>{let{email:n,quizData:r,showDropdown:i=!0}=t;G();const[a,s]=(0,e.useState)(!1),o=r||{};Object.keys(o).length<=0&&!a&&(console.log("Initial data is empty."),s(!0)),!a&&null!==o&&void 0!==o&&o.title&&(null!==o&&void 0!==o&&o.lastAccessed,Vx(`users/${n}/quizCollection/${o.title}`,{lastAccessed:(new Date).toISOString()}));const l=async(e,t)=>{const r=`${e}-${t}`;A((e=>({...e,[r]:!0}))),N((e=>{const t={...e};return delete t[r],t}));try{const i=[...h],a={};i.forEach(((e,t)=>{a[String(t)]=e})),await Vx(`users/${n}/quizCollection/${o.title}`,{lastAccessed:(new Date).toISOString(),questions:a}),console.log(`Question ${e+1} updated successfully on.`,t),A((e=>{const t={...e};return delete t[r],t})),N((e=>({...e,[r]:!0}))),setTimeout((()=>{N((e=>{const t={...e};return delete t[r],t}))}),2e3)}catch(i){console.error("Error updating question in Firestore:",i),A((e=>{const t={...e};return delete t[r],t}))}},c=J(),[u,d]=(0,e.useState)((null===o||void 0===o?void 0:o.title)||""),[h,f]=(0,e.useState)((()=>{if(null!==o&&void 0!==o&&o.questions){return(Array.isArray(o.questions)?o.questions:Object.values(o.questions)).map((e=>({...e,starred:e.starred||!1,passed:e.passed||!1})))}return[{question:"",answer:"",starred:!1,passed:!1}]})),[p,m]=(0,e.useState)(""),[g,y]=(0,e.useState)(!1),[v,b]=(0,e.useState)(!1),[w,x]=(0,e.useState)((null===o||void 0===o?void 0:o.spacedLearning)||null),[S,E]=(0,e.useState)((()=>!i)),[k,_]=(0,e.useState)(!1),[C,T]=(0,e.useState)("free"),[I,A]=(0,e.useState)({}),[P,N]=(0,e.useState)({}),R=(0,aS.a)(C),O=h.length>=R.maxQuestions;(0,e.useEffect)((()=>{if(!n)return;(async()=>{try{var e;const t=wb(Ux,"users",n,"userSetting","settings"),r=await uw(t),i=r.exists()?r.data():{};T(null!==(e=i["subscription status"])&&void 0!==e?e:"free")}catch(t){console.error("Error loading subscription:",t),T("free")}})()}),[n]),(0,e.useEffect)((()=>{document.querySelectorAll(".quiz-textarea").forEach((e=>{e.style.height="auto",e.style.height=`${e.scrollHeight}px`}))}),[h]);const D=(e,t,n)=>{const r=n.length>R.maxChars?n.slice(0,R.maxChars):n,i=[...h];i[e][t]=r,f(i)},j=async e=>{await Vx(`users/${n}/quizCollection/${u}`,{spacedLearning:e}),x(e),b(!1)},L=()=>{b(!1)};return console.log("initialData",o),(0,Kx.jsx)("div",{style:{minHeight:"100vh",background:"salmon",padding:"48px 16px 64px",display:"flex",justifyContent:"center"},children:(0,Kx.jsxs)("div",{style:{width:"100%",maxWidth:"1020px"},children:[(0,Kx.jsxs)("div",{style:{position:"relative",marginBottom:"20px"},children:[(0,Kx.jsxs)("div",{style:{textAlign:"center"},children:[(0,Kx.jsx)("h1",{style:{fontSize:"2.4rem",fontWeight:700,margin:"12px 0 4px",color:"white"},children:null!==o&&void 0!==o&&o.title?"Edit Quiz":"Create Quiz"}),(0,Kx.jsx)("p",{style:{margin:"0 auto",color:"white",fontSize:"1rem",maxWidth:"560px"},children:"Build a study set with smart question cards, spaced learning hooks, and instant additions."})]}),i&&(0,Kx.jsx)("button",{onClick:()=>E(!S),style:{position:"absolute",top:0,right:0,padding:"6px 12px",cursor:"pointer",border:"1px solid rgba(0,0,0,0.1)",borderRadius:"12px",background:"#fff",boxShadow:"0 8px 15px rgba(15, 15, 15, 0.15)",display:"flex",alignItems:"center",justifyContent:"center",minWidth:"42px"},children:(0,Kx.jsx)(pu,{icon:S?vu:Cu,style:{width:"16px",height:"16px"},color:"salmon"})})]}),(!i||S)&&(0,Kx.jsxs)("div",{style:{background:"rgba(255,255,255,0.9)",borderRadius:"32px",padding:"40px",boxShadow:"0 40px 80px rgba(15, 15, 15, 0.08)",border:"1px solid rgba(255,255,255,0.6)"},children:["free"===C&&(0,Kx.jsxs)("div",{style:{padding:"12px 16px",marginBottom:"24px",borderRadius:"12px",background:"rgba(255, 193, 7, 0.2)",border:"1px solid rgba(255, 152, 0, 0.5)",fontSize:"0.9rem",color:"#5d4e37"},children:[(0,Kx.jsx)("strong",{children:"Free plan:"})," Max ",R.maxQuestions," questions per quiz and ",R.maxChars," characters per question/answer. Upgrade for more."]}),!a&&(0,Kx.jsxs)("div",{style:{display:"flex",justifyContent:"center",gap:"12px",flexWrap:"wrap",marginBottom:"28px"},children:[(0,Kx.jsx)("button",{onClick:()=>{y(!0)},className:"delete-quiz-button",style:{padding:"10px 18px",borderRadius:"18px",border:"none",background:"#ffe6e6",color:"#c62828",fontWeight:600,cursor:"pointer",boxShadow:"0 10px 20px rgba(198, 40, 40, 0.2)"},children:"Delete Quiz"}),w&&"all"!==w?(0,Kx.jsx)("button",{onClick:()=>b(!0),className:"spaced-learning-button",style:{padding:"10px 18px",borderRadius:"18px",border:"1px solid rgba(255,255,255,0.6)",background:"linear-gradient(90deg, #67b26f, #4ca2cd, #3b8ad9)",color:"#fff",fontWeight:600,boxShadow:"0 10px 20px rgba(59, 138, 217, 0.25)"},children:"Change Learning Style"}):(0,Kx.jsx)("button",{onClick:()=>{b(!0)},className:"spaced-learning-button",style:{padding:"10px 18px",borderRadius:"18px",border:"1px solid rgba(255,255,255,0.6)",background:"linear-gradient(90deg, #ff9a3c, #ff6ec4, #ef476f)",color:"#fff",fontWeight:600,boxShadow:"0 10px 20px rgba(239, 71, 111, 0.25)"},children:"Add to Spaced Learning"})]}),g&&(0,Kx.jsx)("div",{className:"popup-overlay",children:(0,Kx.jsxs)("div",{className:"popup-content",children:[(0,Kx.jsxs)("h3",{children:['Are you sure you want to delete the quiz "',u,'"?']}),(0,Kx.jsx)("button",{onClick:async()=>{try{const t=wb(Ux,"users",n,"quizCollection",u);await(e=t,mw(ub(e.firestore,Eb),[new nm(e._key,Bp.none())])),d(""),f([]),y(!1)}catch(t){console.error("Error deleting quiz:",t)}var e},className:"confirm-delete-button",children:"Yes, Delete"}),(0,Kx.jsx)("button",{onClick:()=>{y(!1)},className:"cancel-delete-button",children:"Cancel"})]})}),v&&(0,Kx.jsx)("div",{className:"popup-overlay",children:(0,Kx.jsx)("div",{className:"popup-content",children:w&&"all"!==w?(0,Kx.jsxs)(Kx.Fragment,{children:[(0,Kx.jsxs)("h3",{children:['Change spaced learning for "',u,'"']}),(0,Kx.jsxs)("p",{children:["Current Style: ",w]}),(0,Kx.jsxs)("div",{style:{display:"flex",gap:"8px",marginTop:"16px",flexDirection:"column"},children:[(0,Kx.jsx)("button",{onClick:()=>j("all"),className:"confirm-add-to-spaced-learning-button",style:{backgroundColor:"all"!=w?"#4CAF50":"#2196F3"},children:"Change to None"}),(0,Kx.jsx)("button",{onClick:()=>j("green"),className:"confirm-add-to-spaced-learning-button",style:{backgroundColor:"#4CAF50"},children:"Change to Green"}),(0,Kx.jsx)("button",{onClick:L,className:"cancel-add-to-spaced-learning-button",children:"Cancel"})]})]}):(0,Kx.jsxs)(Kx.Fragment,{children:[(0,Kx.jsxs)("h3",{children:['Are you sure you want to add the quiz "',u,'" to spaced learning?']}),(0,Kx.jsx)("button",{onClick:()=>{Vx(`users/${n}/quizCollection/${u}`,{spacedLearning:"standard"}),x("standard"),b(!1),c("/spaced-learning",{state:{initialData:o,email:n,title:u}})},className:"confirm-add-to-spaced-learning-button",children:"Yes, Add to Spaced Learning"}),(0,Kx.jsx)("button",{onClick:L,className:"cancel-add-to-spaced-learning-button",children:"Cancel"})]})})}),(0,Kx.jsxs)("div",{style:{marginBottom:"32px"},children:[(0,Kx.jsx)("label",{style:{display:"block",marginBottom:"12px",fontSize:"0.95rem",fontWeight:600,color:"#564f4a"},children:"Quiz Title"}),(0,Kx.jsx)("input",{type:"text",placeholder:"Enter a catchy quiz title...",value:u,onChange:e=>d(e.target.value.slice(0,100)),maxLength:100,className:"quiz-input",style:{width:"100%",padding:"14px 18px",borderRadius:"20px",border:"1px solid rgba(0, 0, 0, 0.08)",background:"rgba(255,255,255,0.8)",fontSize:"1rem",boxShadow:"inset 0 1px 4px rgba(15,15,15,0.05)"}})]}),(0,Kx.jsxs)("div",{style:{marginBottom:"36px"},children:[(0,Kx.jsxs)("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between",marginBottom:"18px"},children:[(0,Kx.jsx)("span",{style:{fontSize:"1rem",fontWeight:600,color:"#403636"},children:"Questions"}),(0,Kx.jsxs)("span",{style:{fontSize:"0.9rem",color:"#7b6f6a"},children:[h.length," cards"]})]}),(0,Kx.jsx)("div",{style:{display:"flex",flexDirection:"column",gap:"20px"},children:h.map(((e,t)=>(0,Kx.jsxs)("div",{style:{background:"linear-gradient(135deg, rgba(255,255,255,0.95), rgba(255, 228, 243, 0.8))",borderRadius:"24px",padding:"22px",boxShadow:"0 25px 40px rgba(15, 15, 15, 0.08)",border:"1px solid rgba(255,255,255,0.6)"},children:[(0,Kx.jsxs)("div",{style:{display:"flex",alignItems:"flex-start",justifyContent:"space-between",marginBottom:"14px"},children:[(0,Kx.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:"12px"},children:[(0,Kx.jsx)("div",{style:{width:"38px",height:"38px",borderRadius:"50%",background:"linear-gradient(135deg, #ff9a3c, #ff6ec4)",display:"flex",alignItems:"center",justifyContent:"center",color:"#fff",fontWeight:700,fontSize:"1rem",boxShadow:"0 12px 18px rgba(239, 71, 111, 0.25)"},children:t+1}),(0,Kx.jsxs)("span",{style:{fontWeight:600,color:"#2b1f1c"},children:[e.starred?"\u2605":"\u2606"," Q",t+1]})]}),(0,Kx.jsxs)("div",{className:"options-menu",children:[(0,Kx.jsx)("button",{type:"button",className:"options-button",onClick:()=>{const e=document.getElementById(`menu-${t}`);e.style.display="block"===e.style.display?"none":"block"},"aria-label":"Question options",children:(0,Kx.jsx)("span",{className:"options-button-dots",children:"\u22ef"})}),(0,Kx.jsxs)("div",{id:`menu-${t}`,className:"options-dropdown",children:[(0,Kx.jsxs)("button",{type:"button",onClick:()=>(e=>{const t=h.filter(((t,n)=>n!==e));f(t)})(t),className:"options-dropdown-item remove-button",children:[(0,Kx.jsx)("span",{className:"options-dropdown-icon",children:"\xd7"}),"Remove Question"]}),(0,Kx.jsxs)("button",{type:"button",onClick:()=>(async e=>{try{const t=[...h];t[e].starred=!t[e].starred,f(t);const r={};t.forEach(((e,t)=>{r[String(t)]=e})),await Vx(`users/${n}/quizCollection/${u}`,{questions:r})}catch(t){console.error("Error updating star status in Firestore:",t)}})(t),className:"options-dropdown-item star-button",children:[(0,Kx.jsx)("span",{className:"options-dropdown-icon",children:e.starred?"\u2605":"\u2606"}),e.starred?"Unstar Question":"Star Question"]}),(0,Kx.jsxs)("button",{type:"button",onClick:()=>(e=>{if(O)return;const t=[...h.slice(0,e),{question:"",answer:"",starred:!1,passed:!1},...h.slice(e)];f(t)})(t),disabled:O,className:"options-dropdown-item add-button",children:[(0,Kx.jsx)("span",{className:"options-dropdown-icon",children:"+"}),"Add Question Above"]}),(0,Kx.jsxs)("button",{type:"button",onClick:()=>(e=>{if(O)return;const t=[...h.slice(0,e+1),{question:"",answer:"",starred:!1,passed:!1},...h.slice(e+1)];f(t)})(t),disabled:O,className:"options-dropdown-item add-button",children:[(0,Kx.jsx)("span",{className:"options-dropdown-icon",children:"+"}),"Add Question Below"]})]})]})]}),(0,Kx.jsxs)("div",{style:{display:"flex",flexDirection:"column",gap:"12px"},children:[(0,Kx.jsxs)("div",{style:{position:"relative"},children:[(0,Kx.jsx)("textarea",{placeholder:"Type your question...",value:e.question,onChange:e=>D(t,"question",e.target.value),onBlur:()=>l(t,"question"),className:"quiz-textarea",maxLength:R.maxChars,style:{width:"100%",padding:"16px",paddingRight:I[`${t}-question`]||P[`${t}-question`]?"48px":"16px",borderRadius:"22px",border:"2px dashed rgba(233, 185, 224, 0.8)",background:"rgba(255,255,255,0.7)",fontSize:"1rem",fontWeight:600,color:"#7d6077",display:"flex",alignItems:"center",justifyContent:"center",gap:"8px"}}),(I[`${t}-question`]||P[`${t}-question`])&&(0,Kx.jsx)("div",{style:{position:"absolute",top:"12px",right:"12px",display:"flex",alignItems:"center",justifyContent:"center"},children:I[`${t}-question`]?(0,Kx.jsx)(pu,{icon:Nu,spin:!0,style:{color:"#ff9a3c",fontSize:"16px"},title:"Saving..."}):P[`${t}-question`]?(0,Kx.jsx)(pu,{icon:wu,style:{color:"#4CAF50",fontSize:"18px"},title:"Saved"}):null}),e.question.length>=R.maxChars&&(0,Kx.jsxs)("div",{role:"alert",style:{color:"#b91c1c",fontSize:"0.875rem",marginTop:"6px",fontWeight:600,padding:"6px 10px",background:"rgba(185, 28, 28, 0.12)",borderRadius:"8px",border:"1px solid rgba(185, 28, 28, 0.4)"},children:["Character limit reached (",R.maxChars," chars). You cannot type or paste more."]})]}),(0,Kx.jsxs)("div",{style:{position:"relative"},children:[(0,Kx.jsx)("textarea",{placeholder:"Type the answer...",value:e.answer,onChange:e=>D(t,"answer",e.target.value),onBlur:()=>l(t,"answer"),className:"quiz-textarea",maxLength:R.maxChars,style:{width:"100%",padding:"16px",paddingRight:I[`${t}-answer`]||P[`${t}-answer`]?"48px":"16px",borderRadius:"22px",border:"2px dashed rgba(233, 185, 224, 0.8)",background:"rgba(255,255,255,0.7)",fontSize:"1rem",fontWeight:600,color:"#7d6077",display:"flex",alignItems:"center",justifyContent:"center",gap:"8px"}}),(I[`${t}-answer`]||P[`${t}-answer`])&&(0,Kx.jsx)("div",{style:{position:"absolute",top:"12px",right:"12px",display:"flex",alignItems:"center",justifyContent:"center"},children:I[`${t}-answer`]?(0,Kx.jsx)(pu,{icon:Nu,spin:!0,style:{color:"#ff9a3c",fontSize:"16px"},title:"Saving..."}):P[`${t}-answer`]?(0,Kx.jsx)(pu,{icon:wu,style:{color:"#4CAF50",fontSize:"18px"},title:"Saved"}):null}),e.answer.length>=R.maxChars&&(0,Kx.jsxs)("div",{role:"alert",style:{color:"#b91c1c",fontSize:"0.875rem",marginTop:"6px",fontWeight:600,padding:"6px 10px",background:"rgba(185, 28, 28, 0.12)",borderRadius:"8px",border:"1px solid rgba(185, 28, 28, 0.4)"},children:["Character limit reached (",R.maxChars," chars). You cannot type or paste more."]})]})]})]},t)))}),(0,Kx.jsxs)("button",{onClick:()=>{O||f([...h,{question:"",answer:"",starred:!1,passed:!1}])},className:"quiz-button add-new-question-button",style:{marginTop:"24px",width:"100%",padding:"14px",borderRadius:"22px",fontWeight:600,border:"none",background:"linear-gradient(90deg, #ffe29f 0%, #ff6ec4 50%, #ef476f 100%)",color:"white",fontSize:"1.05rem",boxShadow:"0 15px 30px rgba(239, 71, 111, 0.25)",display:"flex",alignItems:"center",justifyContent:"center",gap:"10px"},children:[(0,Kx.jsx)(pu,{icon:Tu}),"Add New Question"]})]}),(0,Kx.jsx)("div",{style:{marginBottom:"32px"},children:k?(0,Kx.jsxs)("div",{style:{background:"rgba(237, 231, 255, 0.8)",borderRadius:"22px",padding:"18px",border:"1px solid rgba(149, 114, 222, 0.5)",boxShadow:"0 25px 35px rgba(98, 58, 150, 0.15)",display:"flex",flexDirection:"column",gap:"12px"},children:[(0,Kx.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[(0,Kx.jsx)("span",{style:{fontWeight:600,color:"#4c3c6d"},children:"Paste questions and answers (tab-separated, one per line)"}),(0,Kx.jsx)("button",{onClick:()=>_(!1),style:{border:"none",background:"transparent",cursor:"pointer",fontWeight:600,color:"#4c3c6d"},children:"Close"})]}),(0,Kx.jsx)("textarea",{value:p,onChange:e=>m(e.target.value),placeholder:"Question 1\tAnswer 1\nQuestion 2\tAnswer 2",className:"bulk-input",style:{borderRadius:"16px",border:"1px solid rgba(124, 103, 183, 0.4)",padding:"14px",minHeight:"120px",fontSize:"0.95rem",resize:"vertical",background:"#fff",boxShadow:"inset 0 2px 6px rgba(86, 61, 124, 0.1)"}}),(0,Kx.jsxs)("button",{onClick:()=>{(()=>{const e=p.split("\n").map((e=>e.split("\t"))).filter((e=>2===e.length)).map((e=>{let[t,n]=e;return{question:t.trim(),answer:n.trim()}}));f([...h,...e]),m("")})(),_(!1)},style:{padding:"12px",borderRadius:"18px",border:"none",background:"linear-gradient(90deg, #6a5af9, #ee6ba3, #ff9760)",color:"#fff",fontWeight:600,fontSize:"1rem",boxShadow:"0 12px 25px rgba(123, 58, 210, 0.35)"},children:[(0,Kx.jsx)(pu,{icon:Tu}),"Add Questions"]})]}):(0,Kx.jsxs)("button",{onClick:()=>_(!0),style:{width:"100%",padding:"16px",borderRadius:"22px",border:"2px dashed rgba(233, 185, 224, 0.8)",background:"rgba(255,255,255,0.7)",fontSize:"1rem",fontWeight:600,color:"#7d6077",display:"flex",alignItems:"center",justifyContent:"center",gap:"8px"},children:[(0,Kx.jsx)(pu,{icon:gu}),"Add Bulk Questions"]})}),a&&(0,Kx.jsx)("button",{onClick:async()=>{try{bb(wb(Ux,"users",n),"quizCollection");const e=await Bx(`users/${n}`);console.log("docsnap",e),e||(console.log("User document does not exist. Creating a new user document..."),await qx(`users/${n}/`,{})),console.log("User document exists or created successfully!");const t={};h.forEach(((e,n)=>{t[String(n)]=e})),await qx(`users/${n}/quizCollection/${u}`,{title:u,questions:t,lastAccessed:(new Date).toISOString()}),console.log("Quiz added/updated successfully!")}catch(e){console.error("Error adding/updating quiz:",e)}c("/home")},className:"quiz-button submit-button",style:{width:"100%",padding:"16px",borderRadius:"26px",border:"none",fontSize:"1.1rem",fontWeight:700,background:"linear-gradient(90deg, #ff9a3c, #ff6ec4, #ef476f)",color:"#fff",boxShadow:"0 20px 40px rgba(239, 71, 111, 0.35)",marginBottom:"12px"},children:"Submit Quiz \u2728"}),(0,Kx.jsx)("p",{style:{color:"#5e4c46",fontSize:"0.95rem",textAlign:"center",marginTop:"12px"},children:"\ud83d\udca1 Tip: Make your questions clear and concise for the best learning experience!"})]})]})})},gS=t=>{let{email:n,selectedQuiz:r,setSelectedQuiz:i,selectedTitle:a,setSelectedTitle:s}=t;const[o,l]=(0,e.useState)([]),[c,u]=(0,e.useState)(0),[d,h]=(0,e.useState)(0),[f,p]=(0,e.useState)(!1),[m,g]=(0,e.useState)(!0),[y,v]=(0,e.useState)(null),[b,w]=(0,e.useState)("all"),x=(0,e.useRef)(null),S="basic"!==y;if((0,e.useEffect)((()=>{(async()=>{console.log("Fetching quizzes...");try{const e=bb(wb(Ux,"users",n),"quizCollection"),t=await hw(e),r={};t.forEach((e=>{r[e.id]=e.data()}));const i=Object.fromEntries(Object.entries(r).sort(((e,t)=>{let[,n]=e,[,r]=t;return new Date(r.lastAccessed)-new Date(n.lastAccessed)})));l(i),g(!1)}catch(e){console.error("Error fetching quizzes:",e)}})()}),[]),(0,e.useEffect)((()=>{if(!n)return;(async()=>{try{var e;const t=wb(Ux,"users",n,"userSetting","settings"),r=await uw(t),i=r.exists()?r.data():{};v(null!==(e=i["subscription status"])&&void 0!==e?e:"free")}catch(t){console.error("Error loading subscription:",t),v("free")}})()}),[n]),m)return(0,Kx.jsx)("div",{className:"main-content",children:"Loading..."});const E=e=>{w(e)},k="all"===b?o:Object.fromEntries(Object.entries(o).filter((e=>{let[,t]=e;return t.spacedLearning&&"string"===typeof t.spacedLearning&&["blue","green","standard"].includes(t.spacedLearning)}))),_=S&&Object.keys(k).length>10?Object.fromEntries(Object.entries(k).slice(0,10)):k,C=S&&Object.keys(k).length>=10;return r?(0,Kx.jsxs)("div",{className:"main-content",children:[(0,Kx.jsx)(pS,{selectedQuiz:r,selectedTitle:a,currentQuestionIndex:d,setCurrentQuestionIndex:h,setSelectedQuiz:i,handlePrevQuestion:()=>{h((e=>Math.max(e-1,0))),p(!1)},handleNextQuestion:()=>{const e=Array.isArray(r)?r:(null===r||void 0===r?void 0:r.questions)||[];h((t=>Math.min(t+1,e.length-1))),p(!1)},toggleAnswerVisibility:()=>{p((e=>!e))},showAnswer:f,email:n,onEditQuiz:()=>{var e;return null===(e=x.current)||void 0===e?void 0:e.scrollIntoView({behavior:"smooth"})}}),(0,Kx.jsx)("div",{ref:x,children:(0,Kx.jsx)(mS,{email:n,quizData:{title:a,questions:Array.isArray(r)?r:null===r||void 0===r?void 0:r.questions,lastAccessed:null===r||void 0===r?void 0:r.lastAccessed,spacedLearning:null===r||void 0===r?void 0:r.spacedLearning}})})]}):(0,Kx.jsxs)("div",{className:"main-content",children:[(0,Kx.jsxs)("div",{className:"filter-controls",style:{display:"flex",gap:"12px",justifyContent:"center",marginBottom:"20px"},children:[(0,Kx.jsx)("button",{className:"all"===b?"active":"",onClick:()=>E("all"),style:{padding:"10px 20px",border:"2px solid #fff",backgroundColor:"all"===b?"#fff":"transparent",color:"all"===b?"#d32f2f":"#fff",fontWeight:"all"===b?"600":"400",fontSize:"16px",cursor:"pointer",transition:"all 0.3s ease",borderRadius:"4px"},onMouseEnter:e=>{e.target.style.transform="scale(1.05)"},onMouseLeave:e=>{e.target.style.transform="scale(1)"},children:"All"}),(0,Kx.jsx)("button",{className:"spacedLearning"===b?"active":"",onClick:()=>E("spacedLearning"),style:{padding:"10px 20px",border:"2px solid #fff",backgroundColor:"spacedLearning"===b?"#fff":"transparent",color:"spacedLearning"===b?"#d32f2f":"#fff",fontWeight:"spacedLearning"===b?"600":"400",fontSize:"16px",cursor:"pointer",transition:"all 0.3s ease",borderRadius:"4px"},onMouseEnter:e=>{e.target.style.transform="scale(1.05)"},onMouseLeave:e=>{e.target.style.transform="scale(1)"},children:"Spaced Learning"})]}),(0,Kx.jsx)("div",{className:"main-content",children:(0,Kx.jsx)(fS,{quizzes:_,setSelectedQuiz:i,setSelectedTitle:s,spacedLearning:"spacedLearning"===b,isFreePlan:S,maxReachedFree:C,freePlanMax:10})})]})},yS=t=>{let{selectedQuiz:n,email:r,selectedTitle:i,setSelectedQuiz:a,currentQuestionIndex:s,setCurrentQuestionIndex:o,handlePrevQuestion:l,handleNextQuestion:c,toggleAnswerVisibility:u,showAnswer:d}=t;const h=G().state||{},f=h.initialData||{},p=r||h.email||"",m=i||h.title||f.title||"",[g,y]=(0,e.useState)(null),v=(0,e.useRef)(!1);(0,e.useEffect)((()=>{!n&&f.questions&&(v.current||(v.current=!0,y((Array.isArray(f.questions),{questions:f.questions}))))}),[n,f.questions]);const b=null!==n&&void 0!==n?n:g,[w,x]=e.useState([]),[S,E]=(0,e.useState)(0),[k,_]=(0,e.useState)(0),[C,T]=(0,e.useState)(!1),[I,A]=(0,e.useState)(!0),[P,N]=e.useState(!1),R=void 0!==s?s:k,O=o||_,D=void 0!==d?d:C,j=l||(()=>{O((e=>Math.max(e-1,0))),d||T(!1)}),L=c||(()=>{const e=Array.isArray(w)?w:Object.values(w||{});O((t=>Math.min(t+1,e.length-1))),d||T(!1)}),M=u||(()=>{T((e=>!e))});e.useEffect((()=>{(async()=>{if(!b)return void A(!1);let e,t;e=Array.isArray(b)?b:b.questions?b.questions:b,t=Array.isArray(e)?e.map(((e,t)=>({...e,originalIndex:void 0!==e.originalIndex?e.originalIndex:String(t)}))):Object.entries(e||{}).map((e=>{let[t,n]=e;return{...n,originalIndex:void 0!==n.originalIndex?n.originalIndex:String(t)}})),x(t),A(!1)})()}),[b,p,m]);const F=(e,t,n)=>{if(!b)return void console.error("No quiz data available");let r,i,a;r=Array.isArray(b)?b:b.questions?b.questions:b,i=Array.isArray(r)?r.map(((e,t)=>({...e,originalIndex:void 0!==e.originalIndex?e.originalIndex:String(t)}))):Object.entries(r||{}).map((e=>{let[t,n]=e;return{...n,originalIndex:void 0!==n.originalIndex?n.originalIndex:String(t)}})),b.SpacedLearning||Vx(`users/${t}/quizCollection/${n}`,{spacedLearning:"standard"}),(async(e,t,n)=>{try{let r;r=Array.isArray(e)?e.map(((e,t)=>({...e,originalIndex:void 0!==e.originalIndex?e.originalIndex:String(t)}))):Object.entries(e||{}).map((e=>{let[t,n]=e;return{...n,originalIndex:void 0!==n.originalIndex?n.originalIndex:String(t)}}));const i={};let a=!1;r.forEach(((e,t)=>{if(!e.hasOwnProperty("level")){const n=void 0!==e.originalIndex?String(e.originalIndex):String(t);i[`questions.${n}.level`]=1,a=!0}})),a&&(await Vx(`users/${t}/quizCollection/${n}`,i),console.log("Firestore updated with level property for questions."))}catch(r){console.error("Error updating level property in Firestore:",r)}})(i,t,m),a="active"===e?hS({questions:i}):i.filter((t=>t.level===e)),x(a),N(!0),console.log(`Filtered Questions for Level ${e}:`,a)};if(P&&w&&w.length>0){const e={questions:w,spacedLearning:(null===b||void 0===b?void 0:b.spacedLearning)||(null===f||void 0===f?void 0:f.spacedLearning),lastAccessed:(null===b||void 0===b?void 0:b.lastAccessed)||(null===f||void 0===f?void 0:f.lastAccessed)};return(0,Kx.jsx)(pS,{selectedQuiz:e,selectedTitle:m,currentQuestionIndex:R,setCurrentQuestionIndex:O,setSelectedQuiz:a,handlePrevQuestion:j,handleNextQuestion:L,toggleAnswerVisibility:M,showAnswer:D,email:p,skipFilterChoice:!0})}return P&&w&&0===w.length?(0,Kx.jsxs)("div",{className:"spaced-learning-container",children:[(0,Kx.jsx)("h2",{children:"No Questions Found"}),(0,Kx.jsx)("p",{children:"There are no questions available for the selected level."}),(0,Kx.jsx)("button",{onClick:()=>{N(!1),x([])},style:{padding:"10px 20px",marginTop:"20px",cursor:"pointer"},children:"Back to Level Selection"})]}):(0,Kx.jsxs)("div",{className:"spaced-learning-container",children:[(0,Kx.jsx)("h2",{children:"Spaced Learning"}),(0,Kx.jsxs)("div",{className:"grid-container",children:[[1,2,3,4].map((e=>(0,Kx.jsx)("div",{className:"bucket",onClick:()=>F(e,p,m),children:(0,Kx.jsx)("h3",{children:`Level ${e}`})},e))),(0,Kx.jsx)("div",{className:"bucket",onClick:()=>F("active",p,m),children:(0,Kx.jsx)("h3",{children:"All Active"})})]})]})},vS=()=>{const t=J(),[n]=it(),[r,i]=(0,e.useState)("loading"),[a,s]=(0,e.useState)("");return(0,e.useEffect)((()=>{(async()=>{try{const e=n.get("session_id"),r=Ds();if(!r.currentUser)return i("error"),void s("Please log in to verify your subscription.");if(!e)return i("error"),void s("Invalid checkout session.");i("success"),s("Your subscription is being activated. This may take a few moments."),setTimeout((()=>{t("/profile")}),3e3)}catch(e){console.error("Error verifying checkout:",e),i("error"),s("There was an error verifying your subscription. Please check your profile.")}})()}),[n,t]),(0,Kx.jsx)("div",{style:{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",minHeight:"100vh",padding:"20px",background:"linear-gradient(135deg, #667eea 0%, #764ba2 100%)"},children:(0,Kx.jsxs)("div",{style:{background:"white",borderRadius:"16px",padding:"40px",maxWidth:"500px",width:"100%",boxShadow:"0 10px 40px rgba(0,0,0,0.1)",textAlign:"center"},children:["loading"===r&&(0,Kx.jsxs)(Kx.Fragment,{children:[(0,Kx.jsx)("div",{style:{fontSize:"48px",marginBottom:"20px"},children:"\u23f3"}),(0,Kx.jsx)("h2",{children:"Verifying your subscription..."}),(0,Kx.jsx)("p",{children:"Please wait while we confirm your payment."})]}),"success"===r&&(0,Kx.jsxs)(Kx.Fragment,{children:[(0,Kx.jsx)("div",{style:{fontSize:"48px",marginBottom:"20px"},children:"\u2705"}),(0,Kx.jsx)("h2",{style:{color:"#10b981",marginBottom:"10px"},children:"Subscription Activated!"}),(0,Kx.jsx)("p",{style:{color:"#666",marginBottom:"20px"},children:a}),(0,Kx.jsx)("p",{style:{fontSize:"0.9rem",color:"#999"},children:"Redirecting to your profile..."})]}),"error"===r&&(0,Kx.jsxs)(Kx.Fragment,{children:[(0,Kx.jsx)("div",{style:{fontSize:"48px",marginBottom:"20px"},children:"\u274c"}),(0,Kx.jsx)("h2",{style:{color:"#ef4444",marginBottom:"10px"},children:"Verification Error"}),(0,Kx.jsx)("p",{style:{color:"#666",marginBottom:"20px"},children:a}),(0,Kx.jsx)("button",{onClick:()=>t("/profile"),style:{padding:"12px 24px",background:"#667eea",color:"white",border:"none",borderRadius:"8px",cursor:"pointer",fontSize:"1rem",fontWeight:600},children:"Go to Profile"})]})]})})},bS=()=>{const e=J();return(0,Kx.jsx)("div",{style:{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",minHeight:"100vh",padding:"20px",background:"linear-gradient(135deg, #667eea 0%, #764ba2 100%)"},children:(0,Kx.jsxs)("div",{style:{background:"white",borderRadius:"16px",padding:"40px",maxWidth:"500px",width:"100%",boxShadow:"0 10px 40px rgba(0,0,0,0.1)",textAlign:"center"},children:[(0,Kx.jsx)("div",{style:{fontSize:"48px",marginBottom:"20px"},children:"\ud83d\ude14"}),(0,Kx.jsx)("h2",{style:{marginBottom:"10px"},children:"Checkout Cancelled"}),(0,Kx.jsx)("p",{style:{color:"#666",marginBottom:"30px"},children:"You cancelled the checkout process. No charges were made."}),(0,Kx.jsxs)("div",{style:{display:"flex",gap:"10px",justifyContent:"center"},children:[(0,Kx.jsx)("button",{onClick:()=>e("/profile"),style:{padding:"12px 24px",background:"#667eea",color:"white",border:"none",borderRadius:"8px",cursor:"pointer",fontSize:"1rem",fontWeight:600},children:"Back to Profile"}),(0,Kx.jsx)("button",{onClick:()=>e("/"),style:{padding:"12px 24px",background:"#e5e7eb",color:"#374151",border:"none",borderRadius:"8px",cursor:"pointer",fontSize:"1rem",fontWeight:600},children:"Go Home"})]})]})})},wS=e=>{let{user:t,setUser:n,selectedQuiz:r,setSelectedQuiz:i,selectedTitle:a,setSelectedTitle:s,currentQuestionIndex:o,setCurrentQuestionIndex:l,handlePrevQuestion:c,handleNextQuestion:u,toggleAnswerVisibility:d,showAnswer:h,questionAnswered:f,setQuestionAnswered:p}=e;return[(0,Kx.jsx)(pe,{path:"/",element:(0,Kx.jsx)(uS,{user:t})},"/"),(0,Kx.jsx)(pe,{path:"/login",element:(0,Kx.jsx)(dS,{setUser:n,user:t})},"/login"),(0,Kx.jsx)(pe,{path:"/home",element:t?(0,Kx.jsx)(gS,{email:t.email,selectedQuiz:r,setSelectedQuiz:i,selectedTitle:a,setSelectedTitle:s}):(0,Kx.jsx)(fe,{to:"/login"})},"/home"),(0,Kx.jsx)(pe,{path:"/quiz-view",element:t?(0,Kx.jsx)(pS,{selectedQuiz:r,selectedTitle:a,currentQuestionIndex:o,setCurrentQuestionIndex:l,setSelectedQuiz:i,handlePrevQuestion:c,handleNextQuestion:u,toggleAnswerVisibility:d,showAnswer:h,email:t.email,questionAnswered:f,setQuestionAnswered:p}):(0,Kx.jsx)(fe,{to:"/login"})},"/quiz-view"),(0,Kx.jsx)(pe,{path:"/add-questions",element:t?(0,Kx.jsx)(mS,{email:t.email,showDropdown:!1}):(0,Kx.jsx)(fe,{to:"/login"})},"/add-questions"),(0,Kx.jsx)(pe,{path:"/spaced-learning",element:t?(0,Kx.jsx)(yS,{email:t.email,selectedQuiz:r,selectedTitle:a,setSelectedQuiz:i,currentQuestionIndex:o,setCurrentQuestionIndex:l,handlePrevQuestion:c,handleNextQuestion:u,toggleAnswerVisibility:d,showAnswer:h}):(0,Kx.jsx)(fe,{to:"/login"})},"/spaced-learning"),(0,Kx.jsx)(pe,{path:"/subscription-success",element:(0,Kx.jsx)(vS,{})},"/subscription-success"),(0,Kx.jsx)(pe,{path:"/subscription-cancel",element:(0,Kx.jsx)(bS,{})},"/subscription-cancel")]},xS={users:["quizCollection","friendCollection","pointSystem","userSetting"]},SS=["free","basic"],ES="settings",kS="subscription status",_S=t=>{let{user:n}=t;const[r,i]=(0,e.useState)([]),[a,s]=(0,e.useState)(new Set),[o,l]=(0,e.useState)(new Set),[c,u]=(0,e.useState)(new Set),[d,h]=(0,e.useState)({}),[f,p]=(0,e.useState)({}),[m,g]=(0,e.useState)(!1),[y,v]=(0,e.useState)(""),[b,w]=(0,e.useState)(null),[x,S]=(0,e.useState)("single"),[E,k]=(0,e.useState)(""),[_,C]=(0,e.useState)(""),[T,I]=(0,e.useState)(""),[A,P]=(0,e.useState)(""),[N,R]=(0,e.useState)("quiz"),[O,D]=(0,e.useState)(null),[j,L]=(0,e.useState)(null),[M,F]=(0,e.useState)(!1),[z,U]=(0,e.useState)(null),[V,q]=(0,e.useState)(""),[B,$]=(0,e.useState)(SS[0]),[H,W]=(0,e.useState)(!1),[Q,K]=(0,e.useState)(null),[G,Y]=(0,e.useState)(null),X=["users","admins","configs"];(0,e.useEffect)((()=>{i(X)}),[]);const J=async()=>{if(y.trim())if(r.includes(y))w(`Collection "${y}" already exists in the list.`);else{g(!0),w(null);try{const e=await Hx(y);i((e=>[...e,y])),h((t=>({...t,[y]:e}))),v("")}catch(e){w(`Error: Could not access collection "${y}". It may not exist or you may not have permission.`),console.error(e)}finally{g(!1)}}},Z=e=>null===e?"null":void 0===e?"undefined":"object"===typeof e?e.seconds&&e.nanoseconds?new Date(1e3*e.seconds).toLocaleString():Array.isArray(e)?`[${e.length} items]`:JSON.stringify(e,null,2):String(e),ee=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return(0,Kx.jsx)("div",{style:{marginLeft:20*t+"px",marginTop:"8px"},children:Object.entries(e).map((e=>{let[n,r]=e;return(0,Kx.jsxs)("div",{style:{marginBottom:"4px"},children:[(0,Kx.jsxs)("strong",{children:[n,":"]})," ",(0,Kx.jsx)("span",{style:{color:"#666"},children:"object"!==typeof r||Array.isArray(r)||null===r?Z(r):(0,Kx.jsx)("div",{style:{marginLeft:"20px"},children:ee(r,t+1)})})]},n)}))})};return(0,Kx.jsxs)("div",{className:"admin-container",style:{padding:"20px",maxWidth:"1200px",margin:"0 auto",textAlign:"left"},children:[(0,Kx.jsx)("h1",{children:"Admin Database Browser"}),(0,Kx.jsxs)("p",{children:["Welcome, ",(null===n||void 0===n?void 0:n.email)||"Admin","!"]}),(0,Kx.jsxs)("div",{style:{marginBottom:"20px"},children:[(0,Kx.jsx)("input",{type:"text",value:y,onChange:e=>v(e.target.value),placeholder:"Enter collection name (e.g., 'users', 'admins')",style:{padding:"8px",marginRight:"10px",fontSize:"14px",width:"300px"},onKeyPress:e=>{"Enter"===e.key&&J()}}),(0,Kx.jsx)("button",{onClick:J,disabled:m,style:{padding:"8px 16px",fontSize:"14px",cursor:m?"not-allowed":"pointer",backgroundColor:"#4CAF50",color:"white",border:"none",borderRadius:"4px"},children:m?"Loading...":"Add Collection"})]}),b&&(0,Kx.jsx)("div",{style:{padding:"10px",backgroundColor:"#ffebee",color:"#c62828",borderRadius:"4px",marginBottom:"20px"},children:b}),(0,Kx.jsxs)("div",{style:{border:"2px solid #2196F3",borderRadius:"8px",padding:"20px",marginBottom:"30px",backgroundColor:"#f0f8ff"},children:[(0,Kx.jsx)("h2",{children:"Subscription Status"}),(0,Kx.jsxs)("p",{style:{color:"#666",fontSize:"14px",marginBottom:"15px"},children:["Set user subscription at ",(0,Kx.jsx)("code",{children:"users/{userId}/userSetting/settings"})," with field ",(0,Kx.jsx)("code",{children:'"subscription status"'}),". Add more statuses in"," ",(0,Kx.jsx)("code",{children:"SUBSCRIPTION_STATUSES"})," in admin.js."]}),(0,Kx.jsxs)("div",{style:{display:"flex",flexWrap:"wrap",gap:"12px",alignItems:"flex-end",marginBottom:"12px"},children:[(0,Kx.jsxs)("label",{style:{display:"flex",flexDirection:"column",gap:"4px"},children:["User ID (e.g. email)",(0,Kx.jsx)("input",{type:"text",value:V,onChange:e=>q(e.target.value),placeholder:"user@example.com",style:{padding:"8px",fontSize:"14px",width:"240px"}})]}),(0,Kx.jsxs)("label",{style:{display:"flex",flexDirection:"column",gap:"4px"},children:["Status",(0,Kx.jsx)("select",{value:B,onChange:e=>$(e.target.value),style:{padding:"8px",fontSize:"14px",minWidth:"120px"},children:SS.map((e=>(0,Kx.jsx)("option",{value:e,children:e},e)))})]}),(0,Kx.jsx)("button",{type:"button",onClick:async()=>{const e=V.trim();if(e){W(!0),K(null),Y(null);try{var t;const n=wb(Ux,"users",e,"userSetting",ES),r=await uw(n),i=null!==(t=(r.exists()?r.data():{})[kS])&&void 0!==t?t:null;Y(i),$(SS.includes(i)?i:SS[0]),K({type:"info",text:null!=i?`Current: ${i}`:"No subscription set yet."})}catch(n){console.error(n),K({type:"error",text:n.message||"Failed to load."})}finally{W(!1)}}else K({type:"error",text:"Enter a user ID (e.g. email)."})},disabled:H,style:{padding:"8px 16px",fontSize:"14px",cursor:H?"not-allowed":"pointer",backgroundColor:"#607D8B",color:"white",border:"none",borderRadius:"4px"},children:"Load current"}),(0,Kx.jsx)("button",{type:"button",onClick:async()=>{const e=V.trim();if(e){W(!0),K(null);try{const t=wb(Ux,"users",e,"userSetting",ES);await fw(t,{[kS]:B},{merge:!0}),Y(B),K({type:"success",text:"Subscription status saved."})}catch(t){console.error(t),K({type:"error",text:t.message||"Failed to save."})}finally{W(!1)}}else K({type:"error",text:"Enter a user ID (e.g. email)."})},disabled:H,style:{padding:"8px 16px",fontSize:"14px",cursor:H?"not-allowed":"pointer",backgroundColor:"#2196F3",color:"white",border:"none",borderRadius:"4px"},children:H?"Saving...":"Save"})]}),null!=G&&(0,Kx.jsxs)("p",{style:{fontSize:"13px",color:"#666",marginBottom:"8px"},children:["Current in DB: ",(0,Kx.jsx)("strong",{children:G})]}),Q&&(0,Kx.jsx)("div",{style:{padding:"8px 12px",borderRadius:"4px",fontSize:"14px",backgroundColor:"error"===Q.type?"#ffebee":"success"===Q.type?"#e8f5e9":"#e3f2fd",color:"error"===Q.type?"#c62828":"success"===Q.type?"#2e7d32":"#1565c0"},children:Q.text})]}),(0,Kx.jsxs)("div",{style:{border:"2px solid #4CAF50",borderRadius:"8px",padding:"20px",marginBottom:"30px",backgroundColor:"#f9f9f9"},children:[(0,Kx.jsx)("h2",{children:"\ud83d\udd04 Data Migration Tool"}),(0,Kx.jsxs)("p",{style:{color:"#666",fontSize:"14px",marginBottom:"15px"},children:["Convert array fields to map fields. Use index as key and array element as value.",(0,Kx.jsx)("br",{}),(0,Kx.jsx)("strong",{children:"How it works:"})," Enter the document path (e.g.,"," ",(0,Kx.jsx)("code",{children:"users/user@example.com/quizCollection/MyQuiz"}),") and the field name inside that document (e.g., ",(0,Kx.jsx)("code",{children:"quiz"}),"). The tool will convert the array field to a map field."]}),(0,Kx.jsxs)("div",{style:{marginBottom:"15px"},children:[(0,Kx.jsxs)("div",{style:{marginBottom:"10px"},children:[(0,Kx.jsxs)("label",{style:{marginRight:"15px"},children:[(0,Kx.jsx)("input",{type:"radio",name:"migrationMode",value:"single",checked:"single"===x,onChange:e=>S(e.target.value),style:{marginRight:"5px"}}),"Single Document"]}),(0,Kx.jsxs)("label",{style:{marginRight:"15px"},children:[(0,Kx.jsx)("input",{type:"radio",name:"migrationMode",value:"bulk",checked:"bulk"===x,onChange:e=>S(e.target.value),style:{marginRight:"5px"}}),"Bulk (Multiple Documents)"]})]}),(0,Kx.jsxs)("div",{children:[(0,Kx.jsxs)("label",{style:{marginRight:"15px"},children:[(0,Kx.jsx)("input",{type:"radio",name:"migrationMode",value:"collection",checked:"collection"===x,onChange:e=>S(e.target.value),style:{marginRight:"5px"}}),"Collection (All Documents)"]}),(0,Kx.jsxs)("label",{children:[(0,Kx.jsx)("input",{type:"radio",name:"migrationMode",value:"bulkCollections",checked:"bulkCollections"===x,onChange:e=>S(e.target.value),style:{marginRight:"5px"}}),"Bulk Collections"]})]})]}),"single"===x?(0,Kx.jsxs)("div",{style:{marginBottom:"15px"},children:[(0,Kx.jsx)("label",{style:{display:"block",marginBottom:"5px"},children:"Document Path:"}),(0,Kx.jsx)("input",{type:"text",value:E,onChange:e=>k(e.target.value),placeholder:"e.g., users/user@example.com/quizCollection/MyQuiz",style:{padding:"8px",fontSize:"14px",width:"100%",maxWidth:"600px"}})]}):"bulk"===x?(0,Kx.jsxs)("div",{style:{marginBottom:"15px"},children:[(0,Kx.jsx)("label",{style:{display:"block",marginBottom:"5px"},children:"Document Paths (one per line):"}),(0,Kx.jsx)("textarea",{value:_,onChange:e=>C(e.target.value),placeholder:"users/user1@example.com/quizCollection/Quiz1\nusers/user2@example.com/quizCollection/Quiz2",style:{padding:"8px",fontSize:"14px",width:"100%",maxWidth:"600px",minHeight:"120px",fontFamily:"monospace"}})]}):"collection"===x?(0,Kx.jsxs)("div",{style:{marginBottom:"15px"},children:[(0,Kx.jsx)("label",{style:{display:"block",marginBottom:"5px"},children:"Collection Path:"}),(0,Kx.jsx)("input",{type:"text",value:T,onChange:e=>I(e.target.value),placeholder:"e.g., users/user@example.com/quizCollection",style:{padding:"8px",fontSize:"14px",width:"100%",maxWidth:"600px"}}),(0,Kx.jsxs)("div",{style:{fontSize:"12px",color:"#666",marginTop:"5px"},children:["Enter a collection path. All documents in this collection will be migrated. Each document must have the specified field name (default: ",(0,Kx.jsx)("code",{children:"quiz"}),")."]})]}):(0,Kx.jsxs)("div",{style:{marginBottom:"15px"},children:[(0,Kx.jsx)("label",{style:{display:"block",marginBottom:"5px"},children:"Collection Paths (one per line):"}),(0,Kx.jsx)("textarea",{value:A,onChange:e=>P(e.target.value),placeholder:"users/user1@example.com/quizCollection\nusers/user2@example.com/quizCollection\nusers/user3@example.com/quizCollection",style:{padding:"8px",fontSize:"14px",width:"100%",maxWidth:"600px",minHeight:"120px",fontFamily:"monospace"}}),(0,Kx.jsxs)("div",{style:{fontSize:"12px",color:"#666",marginTop:"5px"},children:["Enter collection paths (one per line). All documents in each collection will be migrated. Each document must have the specified field name (default: ",(0,Kx.jsx)("code",{children:"quiz"}),")."]})]}),(0,Kx.jsxs)("div",{style:{marginBottom:"15px"},children:[(0,Kx.jsx)("label",{style:{display:"block",marginBottom:"5px"},children:"Array Field Name to Convert:"}),(0,Kx.jsx)("input",{type:"text",value:N,onChange:e=>R(e.target.value),placeholder:"e.g., quiz, questions, items",style:{padding:"8px",fontSize:"14px",width:"100%",maxWidth:"300px"}}),(0,Kx.jsxs)("div",{style:{fontSize:"12px",color:"#666",marginTop:"5px"},children:["This is the name of the array field inside the document that will be converted to a map.",(0,Kx.jsx)("br",{}),"Example: If your document path is"," ",(0,Kx.jsx)("code",{children:"users/user@example.com/quizCollection/MyQuiz"})," and the document has a field called ",(0,Kx.jsx)("code",{children:"quiz"})," (array), enter"," ",(0,Kx.jsx)("code",{children:"quiz"})," here."]})]}),(0,Kx.jsxs)("div",{style:{marginBottom:"15px"},children:[(0,Kx.jsx)("button",{onClick:async()=>{if(w(null),D(null),L(null),"single"===x){if(!E.trim())return void w("Please enter a document path.");F(!0);try{const e=await Wx(E.trim(),N,{dryRun:!0});D(e)}catch(e){w(e.message)}finally{F(!1)}}else if("collection"===x){if(!T.trim())return void w("Please enter a collection path.");F(!0),w(null);try{const e=await Hx(T.trim());if(0===e.length)return w(`No documents found in collection: ${T}`),void F(!1);const t=e.map((e=>(T.includes("/"),`${T}/${e.id}`)));U({current:0,total:t.length});const n=await Qx(t,N,{dryRun:!0,onProgress:e=>{U(e)}});D(n)}catch(e){w(e.message)}finally{F(!1),U(null)}}else{if(!_.trim())return void w("Please enter document paths.");const t=_.split("\n").map((e=>e.trim())).filter((e=>e.length>0));if(0===t.length)return void w("Please enter at least one valid document path.");F(!0),U({current:0,total:t.length});try{const e=await Qx(t,N,{dryRun:!0,onProgress:e=>{U(e)}});D(e)}catch(e){w(e.message)}finally{F(!1),U(null)}}},disabled:M,style:{padding:"10px 20px",fontSize:"14px",marginRight:"10px",cursor:M?"not-allowed":"pointer",backgroundColor:"#2196F3",color:"white",border:"none",borderRadius:"4px"},children:M?"Previewing...":"Preview Migration"}),(0,Kx.jsx)("button",{onClick:async()=>{if(O){w(null),F(!0),L(null);try{if("single"===x){const e=await Wx(E.trim(),N,{dryRun:!1,overwrite:!0});if(L(e),e.success){const e=await Wx(E.trim(),N,{dryRun:!0});D(e)}}else if("collection"===x){const e=(await Hx(T.trim())).map((e=>`${T.trim()}/${e.id}`));U({current:0,total:e.length});const t=await Qx(e,N,{dryRun:!1,overwrite:!0,onProgress:e=>{U(e)}});L(t)}else if("bulkCollections"===x){const t=A.split("\n").map((e=>e.trim())).filter((e=>e.length>0)),n=[],r=[];for(let a=0;a<t.length;a++){const i=t[a];U({current:a+1,total:t.length,message:`Loading ${i}...`});try{const e=await Hx(i),t=e.map((e=>`${i}/${e.id}`));n.push(...t),r.push({path:i,documentCount:e.length})}catch(e){console.error(`Error loading collection ${i}:`,e)}}if(0===n.length)return w("No documents found in any of the specified collections."),F(!1),void U(null);U({current:0,total:n.length,message:`Migrating ${n.length} documents...`});const i=await Qx(n,N,{dryRun:!1,overwrite:!0,onProgress:e=>{U(e)}});i.collectionInfo=r,L(i)}else{const e=_.split("\n").map((e=>e.trim())).filter((e=>e.length>0));U({current:0,total:e.length});const t=await Qx(e,N,{dryRun:!1,overwrite:!0,onProgress:e=>{U(e)}});L(t)}}catch(e){w(e.message)}finally{F(!1),U(null)}}else w("Please preview the migration first.")},disabled:!O||M,style:{padding:"10px 20px",fontSize:"14px",cursor:!O||M?"not-allowed":"pointer",backgroundColor:"#4CAF50",color:"white",border:"none",borderRadius:"4px"},children:M?"Migrating...":"Execute Migration"})]}),z&&(0,Kx.jsxs)("div",{style:{marginBottom:"15px"},children:[z.message&&(0,Kx.jsx)("div",{style:{fontSize:"14px",color:"#666",marginBottom:"5px"},children:z.message}),(0,Kx.jsxs)("div",{style:{fontSize:"14px",color:"#666"},children:["Progress: ",z.current," / ",z.total]}),(0,Kx.jsx)("div",{style:{width:"100%",maxWidth:"600px",height:"20px",backgroundColor:"#e0e0e0",borderRadius:"10px",overflow:"hidden",marginTop:"5px"},children:(0,Kx.jsx)("div",{style:{width:(z.total>0?z.current/z.total*100:0)+"%",height:"100%",backgroundColor:"#4CAF50",transition:"width 0.3s"}})})]}),O&&(0,Kx.jsxs)("div",{style:{padding:"15px",backgroundColor:"#fff",border:"1px solid #ddd",borderRadius:"4px",marginBottom:"15px"},children:[(0,Kx.jsx)("h3",{style:{marginTop:0},children:"Preview:"}),"single"===x?(0,Kx.jsxs)("div",{children:[(0,Kx.jsxs)("p",{children:[(0,Kx.jsx)("strong",{children:"Document:"})," ",O.docPath]}),(0,Kx.jsxs)("p",{children:[(0,Kx.jsx)("strong",{children:"Field:"})," ",O.arrayFieldName]}),(0,Kx.jsxs)("p",{children:[(0,Kx.jsx)("strong",{children:"Array Length:"})," ",O.itemCount]}),(0,Kx.jsxs)("p",{children:[(0,Kx.jsx)("strong",{children:"Will convert to:"})," Map with"," ",Object.keys(O.newValue||{}).length," keys"]}),O.success&&(0,Kx.jsx)("p",{style:{color:"#4CAF50"},children:"\u2713 Ready to migrate"})]}):(0,Kx.jsxs)("div",{children:[(0,Kx.jsxs)("p",{children:[(0,Kx.jsx)("strong",{children:"Total Documents:"})," ",O.total]}),(0,Kx.jsxs)("p",{children:[(0,Kx.jsx)("strong",{children:"Successful:"})," ",O.successful]}),(0,Kx.jsxs)("p",{children:[(0,Kx.jsx)("strong",{children:"Failed:"})," ",O.failed]}),O.collectionInfo&&(0,Kx.jsxs)("div",{style:{marginTop:"10px"},children:[(0,Kx.jsx)("strong",{children:"Collections:"}),(0,Kx.jsx)("ul",{children:O.collectionInfo.map(((e,t)=>(0,Kx.jsxs)("li",{children:[e.path,": ",e.documentCount," documents"]},t)))})]}),O.failed>0&&(0,Kx.jsxs)("div",{style:{marginTop:"10px"},children:[(0,Kx.jsx)("strong",{children:"Errors:"}),(0,Kx.jsx)("ul",{children:O.details.filter((e=>!e.success)).map(((e,t)=>(0,Kx.jsxs)("li",{style:{color:"#c62828"},children:[e.docPath,": ",e.error]},t)))})]})]})]}),j&&(0,Kx.jsxs)("div",{style:{padding:"15px",backgroundColor:j.success?"#e8f5e9":"#ffebee",border:"1px solid "+(j.success?"#4CAF50":"#c62828"),borderRadius:"4px"},children:[(0,Kx.jsx)("h3",{style:{marginTop:0},children:j.success?"\u2713 Migration Complete!":"\u2717 Migration Failed"}),"single"===x?(0,Kx.jsxs)("div",{children:[(0,Kx.jsxs)("p",{children:[(0,Kx.jsx)("strong",{children:"Document:"})," ",j.docPath]}),j.success&&(0,Kx.jsxs)("p",{children:["Migrated ",j.originalCount," items to map."]}),j.error&&(0,Kx.jsxs)("p",{style:{color:"#c62828"},children:["Error: ",j.error]})]}):(0,Kx.jsxs)("div",{children:[(0,Kx.jsxs)("p",{children:[(0,Kx.jsx)("strong",{children:"Total:"})," ",j.total," documents"]}),(0,Kx.jsxs)("p",{children:[(0,Kx.jsx)("strong",{children:"Successful:"})," ",j.successful]}),(0,Kx.jsxs)("p",{children:[(0,Kx.jsx)("strong",{children:"Failed:"})," ",j.failed]}),j.collectionInfo&&(0,Kx.jsxs)("div",{style:{marginTop:"10px"},children:[(0,Kx.jsx)("strong",{children:"Collections Processed:"}),(0,Kx.jsx)("ul",{children:j.collectionInfo.map(((e,t)=>(0,Kx.jsxs)("li",{children:[e.path,": ",e.documentCount," documents"]},t)))})]}),j.failed>0&&(0,Kx.jsxs)("div",{style:{marginTop:"10px"},children:[(0,Kx.jsx)("strong",{children:"Failed Documents:"}),(0,Kx.jsx)("ul",{children:j.details.filter((e=>!e.success)).map(((e,t)=>(0,Kx.jsxs)("li",{children:[e.docPath,": ",e.error]},t)))})]})]})]})]}),(0,Kx.jsxs)("div",{children:[(0,Kx.jsx)("h2",{children:"Collections"}),r.map((e=>{var t,n;return(0,Kx.jsxs)("div",{style:{border:"1px solid #ddd",borderRadius:"4px",marginBottom:"8px"},children:[(0,Kx.jsxs)("div",{onClick:()=>(async e=>{const t=new Set(a);if(t.has(e))t.delete(e);else if(t.add(e),!d[e]){g(!0),w(null);try{const t=await Hx(e);h((n=>({...n,[e]:t})))}catch(n){w(`Error loading collection ${e}: ${n.message}`),console.error(n)}finally{g(!1)}}s(t)})(e),style:{padding:"12px",backgroundColor:a.has(e)?"#f5f5f5":"#fff",cursor:"pointer",display:"flex",justifyContent:"space-between",alignItems:"center"},children:[(0,Kx.jsxs)("strong",{children:["\ud83d\udcc1 ",e,d[e]&&` (${d[e].length} documents)`]}),(0,Kx.jsx)("span",{children:a.has(e)?"\u25bc":"\u25b6"})]}),a.has(e)&&(0,Kx.jsx)("div",{style:{padding:"12px",backgroundColor:"#fafafa"},children:m&&!d[e]?(0,Kx.jsx)("div",{children:"Loading documents..."}):0===(null===(t=d[e])||void 0===t?void 0:t.length)?(0,Kx.jsx)("div",{style:{color:"#666"},children:"No documents in this collection"}):null===(n=d[e])||void 0===n?void 0:n.map((t=>{const n=`${e}/${t.id}`,r=o.has(n),i=xS[e]||[];return(0,Kx.jsxs)("div",{style:{border:"1px solid #e0e0e0",borderRadius:"4px",marginBottom:"8px",backgroundColor:"#fff"},children:[(0,Kx.jsxs)("div",{onClick:()=>((e,t)=>{const n=`${e}/${t}`,r=new Set(o);r.has(n)?r.delete(n):r.add(n),l(r)})(e,t.id),style:{padding:"10px",cursor:"pointer",display:"flex",justifyContent:"space-between",alignItems:"center",backgroundColor:r?"#f9f9f9":"#fff"},children:[(0,Kx.jsxs)("strong",{children:["\ud83d\udcc4 ",t.id]}),(0,Kx.jsx)("span",{children:r?"\u25bc":"\u25b6"})]}),r&&(0,Kx.jsxs)("div",{style:{padding:"12px"},children:[(0,Kx.jsxs)("div",{style:{marginBottom:"12px"},children:[(0,Kx.jsx)("strong",{children:"Data:"}),(0,Kx.jsx)("div",{style:{marginTop:"8px",padding:"10px",backgroundColor:"#f5f5f5",borderRadius:"4px",fontFamily:"monospace",fontSize:"12px",maxHeight:"400px",overflow:"auto"},children:ee(t.data)})]}),i.length>0&&(0,Kx.jsxs)("div",{children:[(0,Kx.jsx)("strong",{children:"Subcollections:"}),i.map((n=>{const r=`${e}/${t.id}/${n}`,i=c.has(r),a=f[r]||[];return(0,Kx.jsxs)("div",{style:{marginTop:"8px",border:"1px solid #e0e0e0",borderRadius:"4px"},children:[(0,Kx.jsxs)("div",{onClick:()=>(async(e,t,n)=>{const r=`${e}/${t}/${n}`,i=new Set(c);if(i.has(r))i.delete(r);else if(i.add(r),!f[r]){g(!0),w(null);try{const i=bb(wb(Ux,e,t),n),a=(await hw(i)).docs.map((e=>({id:e.id,data:e.data()})));p((e=>({...e,[r]:a})))}catch(a){w(`Error loading subcollection ${r}: ${a.message}`),console.error(a)}finally{g(!1)}}u(i)})(e,t.id,n),style:{padding:"8px",cursor:"pointer",display:"flex",justifyContent:"space-between",backgroundColor:i?"#f5f5f5":"#fff"},children:[(0,Kx.jsxs)("span",{children:["\ud83d\udcc2 ",n,a.length>0&&` (${a.length} documents)`]}),(0,Kx.jsx)("span",{children:i?"\u25bc":"\u25b6"})]}),i&&(0,Kx.jsx)("div",{style:{padding:"8px"},children:m&&!f[r]?(0,Kx.jsx)("div",{children:"Loading..."}):0===a.length?(0,Kx.jsx)("div",{style:{color:"#666"},children:"No documents"}):a.map((e=>(0,Kx.jsxs)("div",{style:{padding:"8px",marginTop:"4px",backgroundColor:"#fff",border:"1px solid #e0e0e0",borderRadius:"4px"},children:[(0,Kx.jsxs)("strong",{children:["\ud83d\udcc4 ",e.id]}),(0,Kx.jsx)("div",{style:{marginTop:"4px",padding:"8px",backgroundColor:"#f9f9f9",borderRadius:"4px",fontFamily:"monospace",fontSize:"11px"},children:ee(e.data,1)})]},e.id)))})]},n)}))]})]})]},t.id)}))})]},e)}))]})]})},CS=t=>{let{user:n,component:r=_S}=t;const[i,a]=(0,e.useState)(null),[s,o]=(0,e.useState)(!0);return(0,e.useEffect)((()=>{(async()=>{if(!n)return a(!1),void o(!1);try{const e=await(async e=>{try{if(!e)return!1;const t=await $x("admins");return!!t&&t.docs.some((t=>t.id===e))}catch(t){return console.error("Error checking admin status:",t),!1}})(n.email);a(e)}catch(e){console.error("Error checking admin status:",e),a(!1)}finally{o(!1)}})()}),[n]),s?(0,Kx.jsx)("div",{children:"Loading..."}):n?i?(0,Kx.jsx)(r,{user:n}):(0,Kx.jsx)(fe,{to:"/home"}):(0,Kx.jsx)(fe,{to:"/login"})},TS=t=>{var n;let{user:r}=t;const[i,a]=(0,e.useState)([]),[s,o]=(0,e.useState)(!0),[l,c]=(0,e.useState)(null);return(0,e.useEffect)((()=>{(async()=>{try{const e=await Hx("admins");a(e||[])}catch(e){console.error("Error loading admins:",e),c(e.message||"Failed to load admins")}finally{o(!1)}})()}),[]),(0,Kx.jsxs)("div",{style:{padding:"32px 24px",maxWidth:"720px",margin:"0 auto"},children:[(0,Kx.jsx)("h1",{style:{marginBottom:"8px"},children:"Admin Dashboard"}),(0,Kx.jsxs)("p",{style:{color:"#666",marginBottom:"24px"},children:["Signed in as ",(0,Kx.jsx)("strong",{children:null!==(n=null===r||void 0===r?void 0:r.email)&&void 0!==n?n:""}),". Only users in the admins collection can see this page."]}),(0,Kx.jsxs)("div",{style:{marginBottom:"24px"},children:[(0,Kx.jsx)("h2",{style:{fontSize:"1.1rem",marginBottom:"8px"},children:"Admins"}),s&&(0,Kx.jsx)("p",{style:{color:"#888"},children:"Loading admins\u2026"}),l&&(0,Kx.jsx)("p",{style:{color:"#c62828"},children:l}),!s&&!l&&0===i.length&&(0,Kx.jsx)("p",{style:{color:"#888"},children:"No admins in the collection."}),!s&&!l&&i.length>0&&(0,Kx.jsx)("ul",{style:{listStyle:"none",padding:0,margin:0,border:"1px solid #e0e0e0",borderRadius:"8px",overflow:"hidden"},children:i.map((e=>(0,Kx.jsxs)("li",{style:{padding:"10px 14px",borderBottom:i.indexOf(e)<i.length-1?"1px solid #eee":"none",background:e.id===(null===r||void 0===r?void 0:r.email)?"rgba(76, 175, 80, 0.1)":"#fff"},children:[e.id,e.id===(null===r||void 0===r?void 0:r.email)&&(0,Kx.jsx)("span",{style:{marginLeft:"8px",fontSize:"0.85em",color:"#2e7d32",fontWeight:600},children:"(you)"})]},e.id)))})]}),(0,Kx.jsxs)("nav",{style:{display:"flex",gap:"16px",flexWrap:"wrap"},children:[(0,Kx.jsx)(Ze,{to:"/admin",style:{padding:"10px 18px",borderRadius:"8px",background:"#333",color:"#fff",textDecoration:"none",fontWeight:600},children:"Database Admin"}),(0,Kx.jsx)(Ze,{to:"/home",style:{padding:"10px 18px",borderRadius:"8px",background:"#f0f0f0",color:"#333",textDecoration:"none",fontWeight:600},children:"Back to Home"})]})]})},IS=e=>{let{user:t}=e;return[(0,Kx.jsx)(pe,{path:"/admin",element:(0,Kx.jsx)(CS,{user:t,component:_S})},"/admin"),(0,Kx.jsx)(pe,{path:"/admin-dashboard",element:(0,Kx.jsx)(CS,{user:t,component:TS})},"/admin-dashboard")]};const AS=function(){const[t,n]=(0,e.useState)(null),[r,i]=(0,e.useState)(!0),[a,s]=(0,e.useState)(null),[o,l]=(0,e.useState)(null),[c,u]=(0,e.useState)(!1),[d,h]=(0,e.useState)(!1),[f,p]=(0,e.useState)(0);return(0,e.useEffect)((()=>{const e=function(e,t,n,r){return jt(e).onAuthStateChanged(t,n,r)}(Ls,(e=>{n(e),i(!1),n(e),i(!1)}));return()=>e()}),[]),r?(0,Kx.jsx)("div",{children:"Loading..."}):(0,Kx.jsx)(lS,{children:(0,Kx.jsx)(Xe,{children:(0,Kx.jsxs)("div",{className:"App",children:[(0,Kx.jsx)(cS,{user:t}),(0,Kx.jsxs)(ge,{children:[wS({user:t,setUser:n,selectedQuiz:a,setSelectedQuiz:s,selectedTitle:o,setSelectedTitle:l,currentQuestionIndex:f,setCurrentQuestionIndex:p,handlePrevQuestion:()=>{p((e=>Math.max(e-1,0))),u(!1),u(!1)},handleNextQuestion:()=>{const e=Array.isArray(a)?a:(null===a||void 0===a?void 0:a.questions)||[];p((t=>Math.min(t+1,e.length-1))),u(!1)},toggleAnswerVisibility:()=>{u((e=>!e))},showAnswer:c,questionAnswered:d,setQuestionAnswered:h}),IS({user:t})]})]})})})},PS=e=>{e&&e instanceof Function&&n.e(453).then(n.bind(n,453)).then((t=>{let{getCLS:n,getFID:r,getFCP:i,getLCP:a,getTTFB:s}=t;n(e),r(e),i(e),a(e),s(e)}))};t.createRoot(document.getElementById("root")).render((0,Kx.jsx)(e.StrictMode,{children:(0,Kx.jsx)(AS,{})})),PS()})()})();
//# sourceMappingURL=main.a3f49471.js.map